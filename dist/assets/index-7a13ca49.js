(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function gr(e,t){const n=Object.create(null),s=e.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const ut=Object.freeze({}),Ei=Object.freeze([]),rn=()=>{},L_=()=>!1,V5=/^on[^a-z]/,hl=e=>V5.test(e),Ac=e=>e.startsWith("onUpdate:"),pt=Object.assign,$d=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},q5=Object.prototype.hasOwnProperty,Ke=(e,t)=>q5.call(e,t),Oe=Array.isArray,qr=e=>pl(e)==="[object Map]",I_=e=>pl(e)==="[object Set]",U5=e=>pl(e)==="[object RegExp]",Ne=e=>typeof e=="function",dt=e=>typeof e=="string",Fd=e=>typeof e=="symbol",rt=e=>e!==null&&typeof e=="object",Od=e=>rt(e)&&Ne(e.then)&&Ne(e.catch),M_=Object.prototype.toString,pl=e=>M_.call(e),Ld=e=>pl(e).slice(8,-1),P_=e=>pl(e)==="[object Object]",Id=e=>dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,rc=gr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y5=gr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),wu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},G5=/-(\w)/g,mo=wu(e=>e.replace(G5,(t,n)=>n?n.toUpperCase():"")),Z5=/\B([A-Z])/g,Po=wu(e=>e.replace(Z5,"-$1").toLowerCase()),ti=wu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sr=wu(e=>e?`on${ti(e)}`:""),Ia=(e,t)=>!Object.is(e,t),Ir=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Sc=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},K5=e=>{const t=parseFloat(e);return isNaN(t)?e:t},X5=e=>{const t=dt(e)?Number(e):NaN;return isNaN(t)?e:t};let gm;const $c=()=>gm||(gm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tt(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=dt(s)?tC(s):Tt(s);if(r)for(const i in r)t[i]=r[i]}return t}else{if(dt(e))return e;if(rt(e))return e}}const J5=/;(?![^(]*\))/g,Q5=/:([^]+)/,eC=/\/\*[^]*?\*\//g;function tC(e){const t={};return e.replace(eC,"").split(J5).forEach(n=>{if(n){const s=n.split(Q5);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function lt(e){let t="";if(dt(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const s=lt(e[n]);s&&(t+=s+" ")}else if(rt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Be(e){if(!e)return null;let{class:t,style:n}=e;return t&&!dt(t)&&(e.class=lt(t)),n&&(e.style=Tt(n)),e}const nC="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",sC="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",D_=gr(nC),oC=gr(sC),rC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iC=gr(rC);function R_(e){return!!e||e===""}const ho=e=>dt(e)?e:e==null?"":Oe(e)||rt(e)&&(e.toString===M_||!Ne(e.toString))?JSON.stringify(e,N_,2):String(e),N_=(e,t)=>t&&t.__v_isRef?N_(e,t.value):qr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:I_(t)?{[`Set(${t.size})`]:[...t.values()]}:rt(t)&&!Oe(t)&&!P_(t)?String(t):t;function Fc(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let gn;class j_{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gn,!t&&gn&&(this.index=(gn.scopes||(gn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=gn;try{return gn=this,t()}finally{gn=n}}else Fc("cannot run an inactive effect scope.")}on(){gn=this}off(){gn=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function aC(e){return new j_(e)}function lC(e,t=gn){t&&t.active&&t.effects.push(e)}function W_(){return gn}function cC(e){gn?gn.cleanups.push(e):Fc("onScopeDispose() is called when there is no active effect scope to be associated with.")}const Md=e=>{const t=new Set(e);return t.w=0,t.n=0,t},z_=e=>(e.w&hr)>0,H_=e=>(e.n&hr)>0,uC=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=hr},hC=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const r=t[s];z_(r)&&!H_(r)?r.delete(e):t[n++]=r,r.w&=~hr,r.n&=~hr}t.length=n}},Oc=new WeakMap;let ua=0,hr=1;const lp=30;let Gt;const Ur=Symbol("iterate"),cp=Symbol("Map key iterate");class Pd{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,lC(this,s)}run(){if(!this.active)return this.fn();let t=Gt,n=nr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Gt,Gt=this,nr=!0,hr=1<<++ua,ua<=lp?uC(this):_m(this),this.fn()}finally{ua<=lp&&hC(this),hr=1<<--ua,Gt=this.parent,nr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Gt===this?this.deferStop=!0:this.active&&(_m(this),this.onStop&&this.onStop(),this.active=!1)}}function _m(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let nr=!0;const V_=[];function ai(){V_.push(nr),nr=!1}function li(){const e=V_.pop();nr=e===void 0?!0:e}function Ut(e,t,n){if(nr&&Gt){let s=Oc.get(e);s||Oc.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Md()),q_(r,{effect:Gt,target:e,type:t,key:n})}}function q_(e,t){let n=!1;ua<=lp?H_(e)||(e.n|=hr,n=!z_(e)):n=!e.has(Gt),n&&(e.add(Gt),Gt.deps.push(e),Gt.onTrack&&Gt.onTrack(pt({effect:Gt},t)))}function yo(e,t,n,s,r,i){const a=Oc.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Oe(e)){const u=Number(s);a.forEach((h,p)=>{(p==="length"||p>=u)&&l.push(h)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Oe(e)?Id(n)&&l.push(a.get("length")):(l.push(a.get(Ur)),qr(e)&&l.push(a.get(cp)));break;case"delete":Oe(e)||(l.push(a.get(Ur)),qr(e)&&l.push(a.get(cp)));break;case"set":qr(e)&&l.push(a.get(Ur));break}const c={target:e,type:t,key:n,newValue:s,oldValue:r,oldTarget:i};if(l.length===1)l[0]&&up(l[0],c);else{const u=[];for(const h of l)h&&u.push(...h);up(Md(u),c)}}function up(e,t){const n=Oe(e)?e:[...e];for(const s of n)s.computed&&vm(s,t);for(const s of n)s.computed||vm(s,t)}function vm(e,t){(e!==Gt||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(pt({effect:e},t)),e.scheduler?e.scheduler():e.run())}function pC(e,t){var n;return(n=Oc.get(e))==null?void 0:n.get(t)}const dC=gr("__proto__,__v_isRef,__isVue"),U_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fd)),fC=xu(),mC=xu(!1,!0),yC=xu(!0),gC=xu(!0,!0),bm=_C();function _C(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=We(this);for(let i=0,a=this.length;i<a;i++)Ut(s,"get",i+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(We)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ai();const s=We(this)[t].apply(this,n);return li(),s}}),e}function vC(e){const t=We(this);return Ut(t,"has",e),t.hasOwnProperty(e)}function xu(e=!1,t=!1){return function(s,r,i){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&i===(e?t?ev:Q_:t?J_:X_).get(s))return s;const a=Oe(s);if(!e){if(a&&Ke(bm,r))return Reflect.get(bm,r,i);if(r==="hasOwnProperty")return vC}const l=Reflect.get(s,r,i);return(Fd(r)?U_.has(r):dC(r))||(e||Ut(s,"get",r),t)?l:ot(l)?a&&Id(r)?l:l.value:rt(l)?e?jn(l):M(l):l}}const bC=Y_(),CC=Y_(!0);function Y_(e=!1){return function(n,s,r,i){let a=n[s];if(pr(a)&&ot(a)&&!ot(r))return!1;if(!e&&(!Lc(r)&&!pr(r)&&(a=We(a),r=We(r)),!Oe(n)&&ot(a)&&!ot(r)))return a.value=r,!0;const l=Oe(n)&&Id(s)?Number(s)<n.length:Ke(n,s),c=Reflect.set(n,s,r,i);return n===We(i)&&(l?Ia(r,a)&&yo(n,"set",s,r,a):yo(n,"add",s,r)),c}}function wC(e,t){const n=Ke(e,t),s=e[t],r=Reflect.deleteProperty(e,t);return r&&n&&yo(e,"delete",t,void 0,s),r}function xC(e,t){const n=Reflect.has(e,t);return(!Fd(t)||!U_.has(t))&&Ut(e,"has",t),n}function kC(e){return Ut(e,"iterate",Oe(e)?"length":Ur),Reflect.ownKeys(e)}const G_={get:fC,set:bC,deleteProperty:wC,has:xC,ownKeys:kC},Z_={get:yC,set(e,t){return Fc(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return Fc(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},BC=pt({},G_,{get:mC,set:CC}),EC=pt({},Z_,{get:gC}),Dd=e=>e,ku=e=>Reflect.getPrototypeOf(e);function Ll(e,t,n=!1,s=!1){e=e.__v_raw;const r=We(e),i=We(t);n||(t!==i&&Ut(r,"get",t),Ut(r,"get",i));const{has:a}=ku(r),l=s?Dd:n?Rd:Ma;if(a.call(r,t))return l(e.get(t));if(a.call(r,i))return l(e.get(i));e!==r&&e.get(t)}function Il(e,t=!1){const n=this.__v_raw,s=We(n),r=We(e);return t||(e!==r&&Ut(s,"has",e),Ut(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Ml(e,t=!1){return e=e.__v_raw,!t&&Ut(We(e),"iterate",Ur),Reflect.get(e,"size",e)}function Cm(e){e=We(e);const t=We(this);return ku(t).has.call(t,e)||(t.add(e),yo(t,"add",e,e)),this}function wm(e,t){t=We(t);const n=We(this),{has:s,get:r}=ku(n);let i=s.call(n,e);i?K_(n,s,e):(e=We(e),i=s.call(n,e));const a=r.call(n,e);return n.set(e,t),i?Ia(t,a)&&yo(n,"set",e,t,a):yo(n,"add",e,t),this}function xm(e){const t=We(this),{has:n,get:s}=ku(t);let r=n.call(t,e);r?K_(t,n,e):(e=We(e),r=n.call(t,e));const i=s?s.call(t,e):void 0,a=t.delete(e);return r&&yo(t,"delete",e,void 0,i),a}function km(){const e=We(this),t=e.size!==0,n=qr(e)?new Map(e):new Set(e),s=e.clear();return t&&yo(e,"clear",void 0,void 0,n),s}function Pl(e,t){return function(s,r){const i=this,a=i.__v_raw,l=We(a),c=t?Dd:e?Rd:Ma;return!e&&Ut(l,"iterate",Ur),a.forEach((u,h)=>s.call(r,c(u),c(h),i))}}function Dl(e,t,n){return function(...s){const r=this.__v_raw,i=We(r),a=qr(i),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,u=r[e](...s),h=n?Dd:t?Rd:Ma;return!t&&Ut(i,"iterate",c?cp:Ur),{next(){const{value:p,done:d}=u.next();return d?{value:p,done:d}:{value:l?[h(p[0]),h(p[1])]:h(p),done:d}},[Symbol.iterator](){return this}}}}function Wo(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${ti(e)} operation ${n}failed: target is readonly.`,We(this))}return e==="delete"?!1:this}}function TC(){const e={get(i){return Ll(this,i)},get size(){return Ml(this)},has:Il,add:Cm,set:wm,delete:xm,clear:km,forEach:Pl(!1,!1)},t={get(i){return Ll(this,i,!1,!0)},get size(){return Ml(this)},has:Il,add:Cm,set:wm,delete:xm,clear:km,forEach:Pl(!1,!0)},n={get(i){return Ll(this,i,!0)},get size(){return Ml(this,!0)},has(i){return Il.call(this,i,!0)},add:Wo("add"),set:Wo("set"),delete:Wo("delete"),clear:Wo("clear"),forEach:Pl(!0,!1)},s={get(i){return Ll(this,i,!0,!0)},get size(){return Ml(this,!0)},has(i){return Il.call(this,i,!0)},add:Wo("add"),set:Wo("set"),delete:Wo("delete"),clear:Wo("clear"),forEach:Pl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Dl(i,!1,!1),n[i]=Dl(i,!0,!1),t[i]=Dl(i,!1,!0),s[i]=Dl(i,!0,!0)}),[e,n,t,s]}const[AC,SC,$C,FC]=TC();function Bu(e,t){const n=t?e?FC:$C:e?SC:AC;return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Ke(n,r)&&r in s?n:s,r,i)}const OC={get:Bu(!1,!1)},LC={get:Bu(!1,!0)},IC={get:Bu(!0,!1)},MC={get:Bu(!0,!0)};function K_(e,t,n){const s=We(n);if(s!==n&&t.call(e,s)){const r=Ld(e);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const X_=new WeakMap,J_=new WeakMap,Q_=new WeakMap,ev=new WeakMap;function PC(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function DC(e){return e.__v_skip||!Object.isExtensible(e)?0:PC(Ld(e))}function M(e){return pr(e)?e:Eu(e,!1,G_,OC,X_)}function tv(e){return Eu(e,!1,BC,LC,J_)}function jn(e){return Eu(e,!0,Z_,IC,Q_)}function ha(e){return Eu(e,!0,EC,MC,ev)}function Eu(e,t,n,s,r){if(!rt(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const a=DC(e);if(a===0)return e;const l=new Proxy(e,a===2?s:n);return r.set(e,l),l}function Yr(e){return pr(e)?Yr(e.__v_raw):!!(e&&e.__v_isReactive)}function pr(e){return!!(e&&e.__v_isReadonly)}function Lc(e){return!!(e&&e.__v_isShallow)}function Ic(e){return Yr(e)||pr(e)}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function Tu(e){return Sc(e,"__v_skip",!0),e}const Ma=e=>rt(e)?M(e):e,Rd=e=>rt(e)?jn(e):e;function Nd(e){nr&&Gt&&(e=We(e),q_(e.dep||(e.dep=Md()),{target:e,type:"get",key:"value"}))}function jd(e,t){e=We(e);const n=e.dep;n&&up(n,{target:e,type:"set",key:"value",newValue:t})}function ot(e){return!!(e&&e.__v_isRef===!0)}function ne(e){return nv(e,!1)}function go(e){return nv(e,!0)}function nv(e,t){return ot(e)?e:new RC(e,t)}class RC{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:We(t),this._value=n?t:Ma(t)}get value(){return Nd(this),this._value}set value(t){const n=this.__v_isShallow||Lc(t)||pr(t);t=n?t:We(t),Ia(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ma(t),jd(this,t))}}function A(e){return ot(e)?e.value:e}const NC={get:(e,t,n)=>A(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return ot(r)&&!ot(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function sv(e){return Yr(e)?e:new Proxy(e,NC)}class jC{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>Nd(this),()=>jd(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function Wd(e){return new jC(e)}function WC(e){Ic(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=ov(e,n);return t}class zC{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return pC(We(this._object),this._key)}}class HC{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ye(e,t,n){return ot(e)?e:Ne(e)?new HC(e):rt(e)&&arguments.length>1?ov(e,t,n):ne(e)}function ov(e,t,n){const s=e[t];return ot(s)?s:new zC(e,t,n)}class VC{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Pd(t,()=>{this._dirty||(this._dirty=!0,jd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=We(this);return Nd(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function qC(e,t,n=!1){let s,r;const i=Ne(e);i?(s=e,r=()=>{console.warn("Write operation failed: computed value is readonly")}):(s=e.get,r=e.set);const a=new VC(s,r,i||!r,n);return t&&!n&&(a.effect.onTrack=t.onTrack,a.effect.onTrigger=t.onTrigger),a}const Gr=[];function ic(e){Gr.push(e)}function ac(){Gr.pop()}function G(e,...t){ai();const n=Gr.length?Gr[Gr.length-1].component:null,s=n&&n.appContext.config.warnHandler,r=UC();if(s)Io(s,n,11,[e+t.join(""),n&&n.proxy,r.map(({vnode:i})=>`at <${Du(n,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${e}`,...t];r.length&&i.push(`
`,...YC(r)),console.warn(...i)}li()}function UC(){let e=Gr[Gr.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const s=e.component&&e.component.parent;e=s&&s.vnode}return t}function YC(e){const t=[];return e.forEach((n,s)=>{t.push(...s===0?[]:[`
`],...GC(n))}),t}function GC({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",s=e.component?e.component.parent==null:!1,r=` at <${Du(e.component,e.type,s)}`,i=">"+n;return e.props?[r,...ZC(e.props),i]:[r+i]}function ZC(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(s=>{t.push(...rv(s,e[s]))}),n.length>3&&t.push(" ..."),t}function rv(e,t,n){return dt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:ot(t)?(t=rv(e,We(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Ne(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=We(t),n?t:[`${e}=`,t])}function KC(e,t){e!==void 0&&(typeof e!="number"?G(`${t} is not a valid number - got ${JSON.stringify(e)}.`):isNaN(e)&&G(`${t} is NaN - the duration expression might be incorrect.`))}const zd={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Io(e,t,n,s){let r;try{r=s?e(...s):e()}catch(i){Au(i,t,n)}return r}function Sn(e,t,n,s){if(Ne(e)){const i=Io(e,t,n,s);return i&&Od(i)&&i.catch(a=>{Au(a,t,n)}),i}const r=[];for(let i=0;i<e.length;i++)r.push(Sn(e[i],t,n,s));return r}function Au(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,l=zd[n];for(;i;){const u=i.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,a,l)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){Io(c,null,10,[e,a,l]);return}}XC(e,n,r,s)}function XC(e,t,n,s=!0){{const r=zd[t];if(n&&ic(n),G(`Unhandled error${r?` during execution of ${r}`:""}`),n&&ac(),s)throw e;console.error(e)}}let Pa=!1,hp=!1;const zt=[];let io=0;const Ti=[];let Kn=null,Go=0;const iv=Promise.resolve();let Hd=null;const JC=100;function Dt(e){const t=Hd||iv;return e?t.then(this?e.bind(this):e):t}function QC(e){let t=io+1,n=zt.length;for(;t<n;){const s=t+n>>>1;Da(zt[s])<e?t=s+1:n=s}return t}function Su(e){(!zt.length||!zt.includes(e,Pa&&e.allowRecurse?io+1:io))&&(e.id==null?zt.push(e):zt.splice(QC(e.id),0,e),av())}function av(){!Pa&&!hp&&(hp=!0,Hd=iv.then(uv))}function ew(e){const t=zt.indexOf(e);t>io&&zt.splice(t,1)}function lv(e){Oe(e)?Ti.push(...e):(!Kn||!Kn.includes(e,e.allowRecurse?Go+1:Go))&&Ti.push(e),av()}function Bm(e,t=Pa?io+1:0){for(e=e||new Map;t<zt.length;t++){const n=zt[t];if(n&&n.pre){if(Vd(e,n))continue;zt.splice(t,1),t--,n()}}}function cv(e){if(Ti.length){const t=[...new Set(Ti)];if(Ti.length=0,Kn){Kn.push(...t);return}for(Kn=t,e=e||new Map,Kn.sort((n,s)=>Da(n)-Da(s)),Go=0;Go<Kn.length;Go++)Vd(e,Kn[Go])||Kn[Go]();Kn=null,Go=0}}const Da=e=>e.id==null?1/0:e.id,tw=(e,t)=>{const n=Da(e)-Da(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function uv(e){hp=!1,Pa=!0,e=e||new Map,zt.sort(tw);const t=n=>Vd(e,n);try{for(io=0;io<zt.length;io++){const n=zt[io];if(n&&n.active!==!1){if(t(n))continue;Io(n,null,14)}}}finally{io=0,zt.length=0,cv(e),Pa=!1,Hd=null,(zt.length||Ti.length)&&uv(e)}}function Vd(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>JC){const s=t.ownerInstance,r=s&&Wa(s.type);return G(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let sr=!1;const wi=new Set;$c().__VUE_HMR_RUNTIME__={createRecord:mh(hv),rerender:mh(ow),reload:mh(rw)};const ni=new Map;function nw(e){const t=e.type.__hmrId;let n=ni.get(t);n||(hv(t,e.type),n=ni.get(t)),n.instances.add(e)}function sw(e){ni.get(e.type.__hmrId).instances.delete(e)}function hv(e,t){return ni.has(e)?!1:(ni.set(e,{initialDef:ba(t),instances:new Set}),!0)}function ba(e){return Yv(e)?e.__vccOpts:e}function ow(e,t){const n=ni.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(s=>{t&&(s.render=t,ba(s.type).render=t),s.renderCache=[],sr=!0,s.update(),sr=!1}))}function rw(e,t){const n=ni.get(e);if(!n)return;t=ba(t),Em(n.initialDef,t);const s=[...n.instances];for(const r of s){const i=ba(r.type);wi.has(i)||(i!==n.initialDef&&Em(i,t),wi.add(i)),r.appContext.propsCache.delete(r.type),r.appContext.emitsCache.delete(r.type),r.appContext.optionsCache.delete(r.type),r.ceReload?(wi.add(i),r.ceReload(t.styles),wi.delete(i)):r.parent?Su(r.parent.update):r.appContext.reload?r.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}lv(()=>{for(const r of s)wi.delete(ba(r.type))})}function Em(e,t){pt(e,t);for(const n in e)n!=="__file"&&!(n in t)&&delete e[n]}function mh(e){return(t,n)=>{try{return e(t,n)}catch(s){console.error(s),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let ao,pa=[],pp=!1;function dl(e,...t){ao?ao.emit(e,...t):pp||pa.push({event:e,args:t})}function pv(e,t){var n,s;ao=e,ao?(ao.enabled=!0,pa.forEach(({event:r,args:i})=>ao.emit(r,...i)),pa=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{pv(i,t)}),setTimeout(()=>{ao||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,pp=!0,pa=[])},3e3)):(pp=!0,pa=[])}function iw(e,t){dl("app:init",e,t,{Fragment:nt,Text:yl,Comment:Lt,Static:lc})}function aw(e){dl("app:unmount",e)}const dp=qd("component:added"),dv=qd("component:updated"),lw=qd("component:removed"),cw=e=>{ao&&typeof ao.cleanupBuffer=="function"&&!ao.cleanupBuffer(e)&&lw(e)};function qd(e){return t=>{dl(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const uw=fv("perf:start"),hw=fv("perf:end");function fv(e){return(t,n,s)=>{dl(e,t.appContext.app,t.uid,t,n,s)}}function pw(e,t,n){dl("component:emit",e.appContext.app,e,t,n)}function dw(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ut;{const{emitsOptions:h,propsOptions:[p]}=e;if(h)if(!(t in h))(!p||!(Sr(t)in p))&&G(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Sr(t)}" prop.`);else{const d=h[t];Ne(d)&&(d(...n)||G(`Invalid event arguments: event validation failed for event "${t}".`))}}let r=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in s){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:d}=s[h]||ut;d&&(r=n.map(f=>dt(f)?f.trim():f)),p&&(r=n.map(K5))}pw(e,t,r);{const h=t.toLowerCase();h!==t&&s[Sr(h)]&&G(`Event "${h}" is emitted in component ${Du(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Po(t)}" instead of "${t}".`)}let l,c=s[l=Sr(t)]||s[l=Sr(mo(t))];!c&&i&&(c=s[l=Sr(Po(t))]),c&&Sn(c,e,6,r);const u=s[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Sn(u,e,6,r)}}function mv(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let a={},l=!1;if(!Ne(e)){const c=u=>{const h=mv(u,t,!0);h&&(l=!0,pt(a,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(rt(e)&&s.set(e,null),null):(Oe(i)?i.forEach(c=>a[c]=null):pt(a,i),rt(e)&&s.set(e,a),a)}function $u(e,t){return!e||!hl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ke(e,t[0].toLowerCase()+t.slice(1))||Ke(e,Po(t))||Ke(e,t))}let $t=null,Fu=null;function Mc(e){const t=$t;return $t=e,Fu=e&&e.type.__scopeId||null,t}function KJ(e){Fu=e}function XJ(){Fu=null}function X(e,t=$t,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Wm(-1);const i=Mc(t);let a;try{a=e(...r)}finally{Mc(i),s._d&&Wm(1)}return dv(t),a};return s._n=!0,s._c=!0,s._d=!0,s}let fp=!1;function Pc(){fp=!0}function yh(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[a],slots:l,attrs:c,emit:u,render:h,renderCache:p,data:d,setupState:f,ctx:g,inheritAttrs:_}=e;let w,E;const x=Mc(e);fp=!1;try{if(n.shapeFlag&4){const T=r||s;w=Rn(h.call(T,T,p,i,f,d,g)),E=c}else{const T=t;c===i&&Pc(),w=Rn(T.length>1?T(i,{get attrs(){return Pc(),c},slots:l,emit:u}):T(i,null)),E=t.props?c:mw(c)}}catch(T){Ca.length=0,Au(T,e,1),w=ce(Lt)}let C=w,F;if(w.patchFlag>0&&w.patchFlag&2048&&([C,F]=fw(w)),E&&_!==!1){const T=Object.keys(E),{shapeFlag:P}=C;if(T.length){if(P&7)a&&T.some(Ac)&&(E=yw(E,a)),C=Vn(C,E);else if(!fp&&C.type!==Lt){const I=Object.keys(c),N=[],V=[];for(let q=0,ve=I.length;q<ve;q++){const ie=I[q];hl(ie)?Ac(ie)||N.push(ie[2].toLowerCase()+ie.slice(3)):V.push(ie)}V.length&&G(`Extraneous non-props attributes (${V.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),N.length&&G(`Extraneous non-emits event listeners (${N.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(Tm(C)||G("Runtime directive used on component with non-element root node. The directives will not function as intended."),C=Vn(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(Tm(C)||G("Component inside <Transition> renders non-element root node that cannot be animated."),C.transition=n.transition),F?F(C):w=C,Mc(x),w}const fw=e=>{const t=e.children,n=e.dynamicChildren,s=yv(t);if(!s)return[e,void 0];const r=t.indexOf(s),i=n?n.indexOf(s):-1,a=l=>{t[r]=l,n&&(i>-1?n[i]=l:l.patchFlag>0&&(e.dynamicChildren=[...n,l]))};return[Rn(s),a]};function yv(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(dr(s)){if(s.type!==Lt||s.children==="v-if"){if(t)return;t=s}}else return}return t}const mw=e=>{let t;for(const n in e)(n==="class"||n==="style"||hl(n))&&((t||(t={}))[n]=e[n]);return t},yw=(e,t)=>{const n={};for(const s in e)(!Ac(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n},Tm=e=>e.shapeFlag&7||e.type===Lt;function gw(e,t,n){const{props:s,children:r,component:i}=e,{props:a,children:l,patchFlag:c}=t,u=i.emitsOptions;if((r||l)&&sr||t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Am(s,a,u):!!a;if(c&8){const h=t.dynamicProps;for(let p=0;p<h.length;p++){const d=h[p];if(a[d]!==s[d]&&!$u(u,d))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?Am(s,a,u):!0:!!a;return!1}function Am(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!$u(n,i))return!0}return!1}function _w({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const gv=e=>e.__isSuspense;function vw(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):lv(e)}function zn(e,t){return Ud(e,null,t)}const Rl={};function ze(e,t,n){return Ne(t)||G("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Ud(e,t,n)}function Ud(e,t,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:a}=ut){var l;t||(n!==void 0&&G('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&G('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const c=T=>{G("Invalid watch source: ",T,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=W_()===((l=St)==null?void 0:l.scope)?St:null;let h,p=!1,d=!1;if(ot(e)?(h=()=>e.value,p=Lc(e)):Yr(e)?(h=()=>e,s=!0):Oe(e)?(d=!0,p=e.some(T=>Yr(T)||Lc(T)),h=()=>e.map(T=>{if(ot(T))return T.value;if(Yr(T))return jr(T);if(Ne(T))return Io(T,u,2);c(T)})):Ne(e)?t?h=()=>Io(e,u,2):h=()=>{if(!(u&&u.isUnmounted))return f&&f(),Sn(e,u,3,[g])}:(h=rn,c(e)),t&&s){const T=h;h=()=>jr(T())}let f,g=T=>{f=C.onStop=()=>{Io(T,u,4)}},_;if(ja)if(g=rn,t?n&&Sn(t,u,3,[h(),d?[]:void 0,g]):h(),r==="sync"){const T=Bx();_=T.__watcherHandles||(T.__watcherHandles=[])}else return rn;let w=d?new Array(e.length).fill(Rl):Rl;const E=()=>{if(C.active)if(t){const T=C.run();(s||p||(d?T.some((P,I)=>Ia(P,w[I])):Ia(T,w)))&&(f&&f(),Sn(t,u,3,[T,w===Rl?void 0:d&&w[0]===Rl?[]:w,g]),w=T)}else C.run()};E.allowRecurse=!!t;let x;r==="sync"?x=E:r==="post"?x=()=>Pt(E,u&&u.suspense):(E.pre=!0,u&&(E.id=u.uid),x=()=>Su(E));const C=new Pd(h,x);C.onTrack=i,C.onTrigger=a,t?n?E():w=C.run():r==="post"?Pt(C.run.bind(C),u&&u.suspense):C.run();const F=()=>{C.stop(),u&&u.scope&&$d(u.scope.effects,C)};return _&&_.push(F),F}function bw(e,t,n){const s=this.proxy,r=dt(e)?e.includes(".")?_v(s,e):()=>s[e]:e.bind(s,s);let i;Ne(t)?i=t:(i=t.handler,n=t);const a=St;Li(this);const l=Ud(r,i.bind(s),n);return a?Li(a):Kr(),l}function _v(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function jr(e,t){if(!rt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ot(e))jr(e.value,t);else if(Oe(e))for(let n=0;n<e.length;n++)jr(e[n],t);else if(I_(e)||qr(e))e.forEach(n=>{jr(n,t)});else if(P_(e))for(const n in e)jr(e[n],t);return e}function vv(e){Y5(e)&&G("Do not use built-in directive ids as custom directive id: "+e)}function bv(e,t){const n=$t;if(n===null)return G("withDirectives can only be used inside render functions."),e;const s=Pu(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,l,c,u=ut]=t[i];a&&(Ne(a)&&(a={mounted:a,updated:a}),a.deep&&jr(l),r.push({dir:a,instance:s,value:l,oldValue:void 0,arg:c,modifiers:u}))}return e}function xr(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let a=0;a<r.length;a++){const l=r[a];i&&(l.oldValue=i[a].value);let c=l.dir[s];c&&(ai(),Sn(c,n,8,[e.el,l,e,t]),li())}}function Cv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _r(()=>{e.isMounted=!0}),ml(()=>{e.isUnmounting=!0}),e}const kn=[Function,Array],wv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kn,onEnter:kn,onAfterEnter:kn,onEnterCancelled:kn,onBeforeLeave:kn,onLeave:kn,onAfterLeave:kn,onLeaveCancelled:kn,onBeforeAppear:kn,onAppear:kn,onAfterAppear:kn,onAppearCancelled:kn},Cw={name:"BaseTransition",props:wv,setup(e,{slots:t}){const n=pn(),s=Cv();let r;return()=>{const i=t.default&&Yd(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){let _=!1;for(const w of i)if(w.type!==Lt){if(_){G("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}a=w,_=!0}}const l=We(e),{mode:c}=l;if(c&&c!=="in-out"&&c!=="out-in"&&c!=="default"&&G(`invalid <transition> mode: ${c}`),s.isLeaving)return gh(a);const u=Sm(a);if(!u)return gh(a);const h=Ra(u,l,s,n);Oi(u,h);const p=n.subTree,d=p&&Sm(p);let f=!1;const{getTransitionKey:g}=u.type;if(g){const _=g();r===void 0?r=_:_!==r&&(r=_,f=!0)}if(d&&d.type!==Lt&&(!er(u,d)||f)){const _=Ra(d,l,s,n);if(Oi(d,_),c==="out-in")return s.isLeaving=!0,_.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},gh(a);c==="in-out"&&u.type!==Lt&&(_.delayLeave=(w,E,x)=>{const C=xv(s,d);C[String(d.key)]=d,w._leaveCb=()=>{E(),w._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=x})}return a}}},ww=Cw;function xv(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Ra(e,t,n,s){const{appear:r,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:d,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:_,onAppear:w,onAfterAppear:E,onAppearCancelled:x}=t,C=String(e.key),F=xv(n,e),T=(N,V)=>{N&&Sn(N,s,9,V)},P=(N,V)=>{const q=V[1];T(N,V),Oe(N)?N.every(ve=>ve.length<=1)&&q():N.length<=1&&q()},I={mode:i,persisted:a,beforeEnter(N){let V=l;if(!n.isMounted)if(r)V=_||l;else return;N._leaveCb&&N._leaveCb(!0);const q=F[C];q&&er(e,q)&&q.el._leaveCb&&q.el._leaveCb(),T(V,[N])},enter(N){let V=c,q=u,ve=h;if(!n.isMounted)if(r)V=w||c,q=E||u,ve=x||h;else return;let ie=!1;const te=N._enterCb=W=>{ie||(ie=!0,W?T(ve,[N]):T(q,[N]),I.delayedLeave&&I.delayedLeave(),N._enterCb=void 0)};V?P(V,[N,te]):te()},leave(N,V){const q=String(e.key);if(N._enterCb&&N._enterCb(!0),n.isUnmounting)return V();T(p,[N]);let ve=!1;const ie=N._leaveCb=te=>{ve||(ve=!0,V(),te?T(g,[N]):T(f,[N]),N._leaveCb=void 0,F[q]===e&&delete F[q])};F[q]=e,d?P(d,[N,ie]):ie()},clone(N){return Ra(N,t,n,s)}};return I}function gh(e){if(fl(e))return e=Vn(e),e.children=null,e}function Sm(e){return fl(e)?e.children?e.children[0]:void 0:e}function Oi(e,t){e.shapeFlag&6&&e.component?Oi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Yd(e,t=!1,n){let s=[],r=0;for(let i=0;i<e.length;i++){let a=e[i];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===nt?(a.patchFlag&128&&r++,s=s.concat(Yd(a.children,t,l))):(t||a.type!==Lt)&&s.push(l!=null?Vn(a,{key:l}):a)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Xe(e,t){return Ne(e)?(()=>pt({name:e.name},t,{setup:e}))():e}const Ai=e=>!!e.type.__asyncLoader,fl=e=>e.type.__isKeepAlive,xw={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=pn(),s=n.ctx;if(!s.renderer)return()=>{const x=t.default&&t.default();return x&&x.length===1?x[0]:x};const r=new Map,i=new Set;let a=null;n.__v_cache=r;const l=n.suspense,{renderer:{p:c,m:u,um:h,o:{createElement:p}}}=s,d=p("div");s.activate=(x,C,F,T,P)=>{const I=x.component;u(x,C,F,0,l),c(I.vnode,x,C,F,I,l,T,x.slotScopeIds,P),Pt(()=>{I.isDeactivated=!1,I.a&&Ir(I.a);const N=x.props&&x.props.onVnodeMounted;N&&En(N,I.parent,x)},l),dp(I)},s.deactivate=x=>{const C=x.component;u(x,d,null,1,l),Pt(()=>{C.da&&Ir(C.da);const F=x.props&&x.props.onVnodeUnmounted;F&&En(F,C.parent,x),C.isDeactivated=!0},l),dp(C)};function f(x){_h(x),h(x,n,l,!0)}function g(x){r.forEach((C,F)=>{const T=Wa(C.type);T&&(!x||!x(T))&&_(F)})}function _(x){const C=r.get(x);!a||!er(C,a)?f(C):a&&_h(a),r.delete(x),i.delete(x)}ze(()=>[e.include,e.exclude],([x,C])=>{x&&g(F=>da(x,F)),C&&g(F=>!da(C,F))},{flush:"post",deep:!0});let w=null;const E=()=>{w!=null&&r.set(w,vh(n.subTree))};return _r(E),Lu(E),ml(()=>{r.forEach(x=>{const{subTree:C,suspense:F}=n,T=vh(C);if(x.type===T.type&&x.key===T.key){_h(T);const P=T.component.da;P&&Pt(P,F);return}f(x)})}),()=>{if(w=null,!t.default)return null;const x=t.default(),C=x[0];if(x.length>1)return G("KeepAlive should contain exactly one component child."),a=null,x;if(!dr(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return a=null,C;let F=vh(C);const T=F.type,P=Wa(Ai(F)?F.type.__asyncResolved||{}:T),{include:I,exclude:N,max:V}=e;if(I&&(!P||!da(I,P))||N&&P&&da(N,P))return a=F,C;const q=F.key==null?T:F.key,ve=r.get(q);return F.el&&(F=Vn(F),C.shapeFlag&128&&(C.ssContent=F)),w=q,ve?(F.el=ve.el,F.component=ve.component,F.transition&&Oi(F,F.transition),F.shapeFlag|=512,i.delete(q),i.add(q)):(i.add(q),V&&i.size>parseInt(V,10)&&_(i.values().next().value)),F.shapeFlag|=256,a=F,gv(C.type)?C:F}}},kv=xw;function da(e,t){return Oe(e)?e.some(n=>da(n,t)):dt(e)?e.split(",").includes(t):U5(e)?e.test(t):!1}function Bv(e,t){Tv(e,"a",t)}function Ev(e,t){Tv(e,"da",t)}function Tv(e,t,n=St){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ou(t,s,n),n){let r=n.parent;for(;r&&r.parent;)fl(r.parent.vnode)&&kw(s,t,n,r),r=r.parent}}function kw(e,t,n,s){const r=Ou(t,e,s,!0);Iu(()=>{$d(s[t],r)},n)}function _h(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function vh(e){return e.shapeFlag&128?e.ssContent:e}function Ou(e,t,n=St,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;ai(),Li(n);const l=Sn(t,n,e,a);return Kr(),li(),l});return s?r.unshift(i):r.push(i),i}else{const r=Sr(zd[e].replace(/ hook$/,""));G(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const No=e=>(t,n=St)=>(!ja||e==="sp")&&Ou(e,(...s)=>t(...s),n),Bw=No("bm"),_r=No("m"),Ew=No("bu"),Lu=No("u"),ml=No("bum"),Iu=No("um"),Tw=No("sp"),Aw=No("rtg"),Sw=No("rtc");function $w(e,t=St){Ou("ec",e,t)}const Dc="components";function Rc(e,t){return Sv(Dc,e,!0,t)||e}const Av=Symbol.for("v-ndc");function Fw(e){return dt(e)?Sv(Dc,e,!1)||e:e||Av}function Sv(e,t,n=!0,s=!1){const r=$t||St;if(r){const i=r.type;if(e===Dc){const l=Wa(i,!1);if(l&&(l===t||l===mo(t)||l===ti(mo(t))))return i}const a=$m(r[e]||i[e],t)||$m(r.appContext[e],t);if(!a&&s)return i;if(n&&!a){const l=e===Dc?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";G(`Failed to resolve ${e.slice(0,-1)}: ${t}${l}`)}return a}else G(`resolve${ti(e.slice(0,-1))} can only be used in render() or setup().`)}function $m(e,t){return e&&(e[t]||e[mo(t)]||e[ti(mo(t))])}function zi(e,t,n,s){let r;const i=n&&n[s];if(Oe(e)||dt(e)){r=new Array(e.length);for(let a=0,l=e.length;a<l;a++)r[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){Number.isInteger(e)||G(`The v-for range expect an integer value but got ${e}.`),r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i&&i[a])}else if(rt(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i&&i[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(e[u],u,l,i&&i[l])}}else r=[];return n&&(n[s]=r),r}function en(e,t,n={},s,r){if($t.isCE||$t.parent&&Ai($t.parent)&&$t.parent.isCE)return t!=="default"&&(n.name=t),ce("slot",n,s&&s());let i=e[t];i&&i.length>1&&(G("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),i=()=>[]),i&&i._c&&(i._d=!1),k();const a=i&&$v(i(n)),l=K(nt,{key:n.key||a&&a.key||`_${t}`},a||(s?s():[]),a&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function $v(e){return e.some(t=>dr(t)?!(t.type===Lt||t.type===nt&&!$v(t.children)):!0)?e:null}const mp=e=>e?Vv(e)?Pu(e)||e.proxy:mp(e.parent):null,Zr=pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>ha(e.props),$attrs:e=>ha(e.attrs),$slots:e=>ha(e.slots),$refs:e=>ha(e.refs),$parent:e=>mp(e.parent),$root:e=>mp(e.root),$emit:e=>e.emit,$options:e=>Zd(e),$forceUpdate:e=>e.f||(e.f=()=>Su(e.update)),$nextTick:e=>e.n||(e.n=Dt.bind(e.proxy)),$watch:e=>bw.bind(e)}),Gd=e=>e==="_"||e==="$",bh=(e,t)=>e!==ut&&!e.__isScriptSetup&&Ke(e,t),Fv={get({_:e},t){const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:l,appContext:c}=e;if(t==="__isVue")return!0;let u;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(bh(s,t))return a[t]=1,s[t];if(r!==ut&&Ke(r,t))return a[t]=2,r[t];if((u=e.propsOptions[0])&&Ke(u,t))return a[t]=3,i[t];if(n!==ut&&Ke(n,t))return a[t]=4,n[t];yp&&(a[t]=0)}}const h=Zr[t];let p,d;if(h)return t==="$attrs"?(Ut(e,"get",t),Pc()):t==="$slots"&&Ut(e,"get",t),h(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==ut&&Ke(n,t))return a[t]=4,n[t];if(d=c.config.globalProperties,Ke(d,t))return d[t];$t&&(!dt(t)||t.indexOf("__v")!==0)&&(r!==ut&&Gd(t[0])&&Ke(r,t)?G(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===$t&&G(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return bh(r,t)?(r[t]=n,!0):r.__isScriptSetup&&Ke(r,t)?(G(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):s!==ut&&Ke(s,t)?(s[t]=n,!0):Ke(e.props,t)?(G(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(G(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(i,t,{enumerable:!0,configurable:!0,value:n}):i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},a){let l;return!!n[a]||e!==ut&&Ke(e,a)||bh(t,a)||(l=i[0])&&Ke(l,a)||Ke(s,a)||Ke(Zr,a)||Ke(r.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};Fv.ownKeys=e=>(G("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function Ow(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Zr).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Zr[n](e),set:rn})}),t}function Lw(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(s=>{Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>e.props[s],set:rn})})}function Iw(e){const{ctx:t,setupState:n}=e;Object.keys(We(n)).forEach(s=>{if(!n.__isScriptSetup){if(Gd(s[0])){G(`setup() return property ${JSON.stringify(s)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n[s],set:rn})}})}function Mw(){return Pw().slots}function Pw(){const e=pn();return e||G("useContext() called without active instance."),e.setupContext||(e.setupContext=Uv(e))}function Fm(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function Dw(){const e=Object.create(null);return(t,n)=>{e[n]?G(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let yp=!0;function Rw(e){const t=Zd(e),n=e.proxy,s=e.ctx;yp=!1,t.beforeCreate&&Om(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:a,watch:l,provide:c,inject:u,created:h,beforeMount:p,mounted:d,beforeUpdate:f,updated:g,activated:_,deactivated:w,beforeDestroy:E,beforeUnmount:x,destroyed:C,unmounted:F,render:T,renderTracked:P,renderTriggered:I,errorCaptured:N,serverPrefetch:V,expose:q,inheritAttrs:ve,components:ie,directives:te,filters:W}=t,H=Dw();{const[O]=e.propsOptions;if(O)for(const Y in O)H("Props",Y)}if(u&&Nw(u,s,H),a)for(const O in a){const Y=a[O];Ne(Y)?(Object.defineProperty(s,O,{value:Y.bind(n),configurable:!0,enumerable:!0,writable:!0}),H("Methods",O)):G(`Method "${O}" has type "${typeof Y}" in the component definition. Did you reference the function correctly?`)}if(r){Ne(r)||G("The data option must be a function. Plain object usage is no longer supported.");const O=r.call(n,n);if(Od(O)&&G("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!rt(O))G("data() should return an object.");else{e.data=M(O);for(const Y in O)H("Data",Y),Gd(Y[0])||Object.defineProperty(s,Y,{configurable:!0,enumerable:!0,get:()=>O[Y],set:rn})}}if(yp=!0,i)for(const O in i){const Y=i[O],Z=Ne(Y)?Y.bind(n,n):Ne(Y.get)?Y.get.bind(n,n):rn;Z===rn&&G(`Computed property "${O}" has no getter.`);const Ee=!Ne(Y)&&Ne(Y.set)?Y.set.bind(n):()=>{G(`Write operation failed: computed property "${O}" is readonly.`)},Ie=m({get:Z,set:Ee});Object.defineProperty(s,O,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:He=>Ie.value=He}),H("Computed",O)}if(l)for(const O in l)Ov(l[O],s,n,O);if(c){const O=Ne(c)?c.call(n):c;Reflect.ownKeys(O).forEach(Y=>{pe(Y,O[Y])})}h&&Om(h,e,"c");function de(O,Y){Oe(Y)?Y.forEach(Z=>O(Z.bind(n))):Y&&O(Y.bind(n))}if(de(Bw,p),de(_r,d),de(Ew,f),de(Lu,g),de(Bv,_),de(Ev,w),de($w,N),de(Sw,P),de(Aw,I),de(ml,x),de(Iu,F),de(Tw,V),Oe(q))if(q.length){const O=e.exposed||(e.exposed={});q.forEach(Y=>{Object.defineProperty(O,Y,{get:()=>n[Y],set:Z=>n[Y]=Z})})}else e.exposed||(e.exposed={});T&&e.render===rn&&(e.render=T),ve!=null&&(e.inheritAttrs=ve),ie&&(e.components=ie),te&&(e.directives=te)}function Nw(e,t,n=rn){Oe(e)&&(e=gp(e));for(const s in e){const r=e[s];let i;rt(r)?"default"in r?i=b(r.from||s,r.default,!0):i=b(r.from||s):i=b(r),ot(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[s]=i,n("Inject",s)}}function Om(e,t,n){Sn(Oe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ov(e,t,n,s){const r=s.includes(".")?_v(n,s):()=>n[s];if(dt(e)){const i=t[e];Ne(i)?ze(r,i):G(`Invalid watch handler specified by key "${e}"`,i)}else if(Ne(e))ze(r,e.bind(n));else if(rt(e))if(Oe(e))e.forEach(i=>Ov(i,t,n,s));else{const i=Ne(e.handler)?e.handler.bind(n):t[e.handler];Ne(i)?ze(r,i,e):G(`Invalid watch handler specified by key "${e.handler}"`,i)}else G(`Invalid watch option: "${s}"`,e)}function Zd(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let c;return l?c=l:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(u=>Nc(c,u,a,!0)),Nc(c,t,a)),rt(t)&&i.set(t,c),c}function Nc(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&Nc(e,i,n,!0),r&&r.forEach(a=>Nc(e,a,n,!0));for(const a in t)if(s&&a==="expose")G('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=jw[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const jw={data:Lm,props:Im,emits:Im,methods:fa,computed:fa,beforeCreate:Yt,created:Yt,beforeMount:Yt,mounted:Yt,beforeUpdate:Yt,updated:Yt,beforeDestroy:Yt,beforeUnmount:Yt,destroyed:Yt,unmounted:Yt,activated:Yt,deactivated:Yt,errorCaptured:Yt,serverPrefetch:Yt,components:fa,directives:fa,watch:zw,provide:Lm,inject:Ww};function Lm(e,t){return t?e?function(){return pt(Ne(e)?e.call(this,this):e,Ne(t)?t.call(this,this):t)}:t:e}function Ww(e,t){return fa(gp(e),gp(t))}function gp(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Yt(e,t){return e?[...new Set([].concat(e,t))]:t}function fa(e,t){return e?pt(Object.create(null),e,t):t}function Im(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:pt(Object.create(null),Fm(e),Fm(t??{})):t}function zw(e,t){if(!e)return t;if(!t)return e;const n=pt(Object.create(null),e);for(const s in t)n[s]=Yt(e[s],t[s]);return n}function Lv(){return{app:null,config:{isNativeTag:L_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hw=0;function Vw(e,t){return function(s,r=null){Ne(s)||(s=pt({},s)),r!=null&&!rt(r)&&(G("root props passed to app.mount() must be an object."),r=null);const i=Lv();Object.defineProperty(i.config,"unwrapInjectedRef",{get(){return!0},set(){G("app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.")}});const a=new Set;let l=!1;const c=i.app={_uid:Hw++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:kp,get config(){return i.config},set config(u){G("app.config cannot be replaced. Modify individual options instead.")},use(u,...h){return a.has(u)?G("Plugin has already been applied to target app."):u&&Ne(u.install)?(a.add(u),u.install(c,...h)):Ne(u)?(a.add(u),u(c,...h)):G('A plugin must either be a function or an object with an "install" function.'),c},mixin(u){return i.mixins.includes(u)?G("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):i.mixins.push(u),c},component(u,h){return wp(u,i.config),h?(i.components[u]&&G(`Component "${u}" has already been registered in target app.`),i.components[u]=h,c):i.components[u]},directive(u,h){return vv(u),h?(i.directives[u]&&G(`Directive "${u}" has already been registered in target app.`),i.directives[u]=h,c):i.directives[u]},mount(u,h,p){if(l)G("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&G("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=ce(s,r);return d.appContext=i,i.reload=()=>{e(Vn(d),u,p)},h&&t?t(d,u):e(d,u,p),l=!0,c._container=u,u.__vue_app__=c,c._instance=d.component,iw(c,kp),Pu(d.component)||d.component.proxy}},unmount(){l?(e(null,c._container),c._instance=null,aw(c),delete c._container.__vue_app__):G("Cannot unmount an app that is not mounted.")},provide(u,h){return u in i.provides&&G(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),i.provides[u]=h,c},runWithContext(u){jc=c;try{return u()}finally{jc=null}}};return c}}let jc=null;function pe(e,t){if(!St)G("provide() can only be used inside setup().");else{let n=St.provides;const s=St.parent&&St.parent.provides;s===n&&(n=St.provides=Object.create(s)),n[e]=t}}function b(e,t,n=!1){const s=St||$t;if(s||jc){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:jc._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ne(t)?t.call(s&&s.proxy):t;G(`injection "${String(e)}" not found.`)}else G("inject() can only be used inside setup() or functional components.")}function qw(e,t,n,s=!1){const r={},i={};Sc(i,Mu,1),e.propsDefaults=Object.create(null),Iv(e,t,r,i);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);Pv(t||{},r,e),n?e.props=s?r:tv(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Uw(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function Yw(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=e,l=We(r),[c]=e.propsOptions;let u=!1;if(!Uw(e)&&(s||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let p=0;p<h.length;p++){let d=h[p];if($u(e.emitsOptions,d))continue;const f=t[d];if(c)if(Ke(i,d))f!==i[d]&&(i[d]=f,u=!0);else{const g=mo(d);r[g]=_p(c,l,g,f,e,!1)}else f!==i[d]&&(i[d]=f,u=!0)}}}else{Iv(e,t,r,i)&&(u=!0);let h;for(const p in l)(!t||!Ke(t,p)&&((h=Po(p))===p||!Ke(t,h)))&&(c?n&&(n[p]!==void 0||n[h]!==void 0)&&(r[p]=_p(c,l,p,void 0,e,!0)):delete r[p]);if(i!==l)for(const p in i)(!t||!Ke(t,p))&&(delete i[p],u=!0)}u&&yo(e,"set","$attrs"),Pv(t||{},r,e)}function Iv(e,t,n,s){const[r,i]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(rc(c))continue;const u=t[c];let h;r&&Ke(r,h=mo(c))?!i||!i.includes(h)?n[h]=u:(l||(l={}))[h]=u:$u(e.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,a=!0)}if(i){const c=We(n),u=l||ut;for(let h=0;h<i.length;h++){const p=i[h];n[p]=_p(r,c,p,u[p],e,!Ke(u,p))}}return a}function _p(e,t,n,s,r,i){const a=e[n];if(a!=null){const l=Ke(a,"default");if(l&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&Ne(c)){const{propsDefaults:u}=r;n in u?s=u[n]:(Li(r),s=u[n]=c.call(null,t),Kr())}else s=c}a[0]&&(i&&!l?s=!1:a[1]&&(s===""||s===Po(n))&&(s=!0))}return s}function Mv(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const i=e.props,a={},l=[];let c=!1;if(!Ne(e)){const h=p=>{c=!0;const[d,f]=Mv(p,t,!0);pt(a,d),f&&l.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!c)return rt(e)&&s.set(e,Ei),Ei;if(Oe(i))for(let h=0;h<i.length;h++){dt(i[h])||G("props must be strings when using array syntax.",i[h]);const p=mo(i[h]);Mm(p)&&(a[p]=ut)}else if(i){rt(i)||G("invalid props options",i);for(const h in i){const p=mo(h);if(Mm(p)){const d=i[h],f=a[p]=Oe(d)||Ne(d)?{type:d}:pt({},d);if(f){const g=Dm(Boolean,f.type),_=Dm(String,f.type);f[0]=g>-1,f[1]=_<0||g<_,(g>-1||Ke(f,"default"))&&l.push(p)}}}}const u=[a,l];return rt(e)&&s.set(e,u),u}function Mm(e){return e[0]!=="$"?!0:(G(`Invalid prop name: "${e}" is a reserved property.`),!1)}function vp(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Pm(e,t){return vp(e)===vp(t)}function Dm(e,t){return Oe(t)?t.findIndex(n=>Pm(n,e)):Ne(t)&&Pm(t,e)?0:-1}function Pv(e,t,n){const s=We(t),r=n.propsOptions[0];for(const i in r){let a=r[i];a!=null&&Gw(i,s[i],a,!Ke(e,i)&&!Ke(e,Po(i)))}}function Gw(e,t,n,s){const{type:r,required:i,validator:a,skipCheck:l}=n;if(i&&s){G('Missing required prop: "'+e+'"');return}if(!(t==null&&!i)){if(r!=null&&r!==!0&&!l){let c=!1;const u=Oe(r)?r:[r],h=[];for(let p=0;p<u.length&&!c;p++){const{valid:d,expectedType:f}=Kw(t,u[p]);h.push(f||""),c=d}if(!c){G(Xw(e,t,h));return}}a&&!a(t)&&G('Invalid prop: custom validator check failed for prop "'+e+'".')}}const Zw=gr("String,Number,Boolean,Function,Symbol,BigInt");function Kw(e,t){let n;const s=vp(t);if(Zw(s)){const r=typeof e;n=r===s.toLowerCase(),!n&&r==="object"&&(n=e instanceof t)}else s==="Object"?n=rt(e):s==="Array"?n=Oe(e):s==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:s}}function Xw(e,t,n){let s=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(ti).join(" | ")}`;const r=n[0],i=Ld(t),a=Rm(t,r),l=Rm(t,i);return n.length===1&&Nm(r)&&!Jw(r,i)&&(s+=` with value ${a}`),s+=`, got ${i} `,Nm(i)&&(s+=`with value ${l}.`),s}function Rm(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function Nm(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function Jw(...e){return e.some(t=>t.toLowerCase()==="boolean")}const Dv=e=>e[0]==="_"||e==="$stable",Kd=e=>Oe(e)?e.map(Rn):[Rn(e)],Qw=(e,t,n)=>{if(t._n)return t;const s=X((...r)=>(St&&G(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Kd(t(...r))),n);return s._c=!1,s},Rv=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Dv(r))continue;const i=e[r];if(Ne(i))t[r]=Qw(r,i,s);else if(i!=null){G(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const a=Kd(i);t[r]=()=>a}}},Nv=(e,t)=>{fl(e.vnode)||G("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=Kd(t);e.slots.default=()=>n},ex=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=We(t),Sc(t,"_",n)):Rv(t,e.slots={})}else e.slots={},t&&Nv(e,t);Sc(e.slots,Mu,1)},tx=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,a=ut;if(s.shapeFlag&32){const l=t._;l?sr?(pt(r,t),yo(e,"set","$slots")):n&&l===1?i=!1:(pt(r,t),!n&&l===1&&delete r._):(i=!t.$stable,Rv(t,r)),a=t}else t&&(Nv(e,t),a={default:1});if(i)for(const l in r)!Dv(l)&&!(l in a)&&delete r[l]};function bp(e,t,n,s,r=!1){if(Oe(e)){e.forEach((d,f)=>bp(d,t&&(Oe(t)?t[f]:t),n,s,r));return}if(Ai(s)&&!r)return;const i=s.shapeFlag&4?Pu(s.component)||s.component.proxy:s.el,a=r?null:i,{i:l,r:c}=e;if(!l){G("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=t&&t.r,h=l.refs===ut?l.refs={}:l.refs,p=l.setupState;if(u!=null&&u!==c&&(dt(u)?(h[u]=null,Ke(p,u)&&(p[u]=null)):ot(u)&&(u.value=null)),Ne(c))Io(c,l,12,[a,h]);else{const d=dt(c),f=ot(c);if(d||f){const g=()=>{if(e.f){const _=d?Ke(p,c)?p[c]:h[c]:c.value;r?Oe(_)&&$d(_,i):Oe(_)?_.includes(i)||_.push(i):d?(h[c]=[i],Ke(p,c)&&(p[c]=h[c])):(c.value=[i],e.k&&(h[e.k]=c.value))}else d?(h[c]=a,Ke(p,c)&&(p[c]=a)):f?(c.value=a,e.k&&(h[e.k]=a)):G("Invalid template ref type:",c,`(${typeof c})`)};a?(g.id=-1,Pt(g,n)):g()}else G("Invalid template ref type:",c,`(${typeof c})`)}}let Zi,Qo;function To(e,t){e.appContext.config.performance&&Wc()&&Qo.mark(`vue-${t}-${e.uid}`),uw(e,t,Wc()?Qo.now():Date.now())}function Ao(e,t){if(e.appContext.config.performance&&Wc()){const n=`vue-${t}-${e.uid}`,s=n+":end";Qo.mark(s),Qo.measure(`<${Du(e,e.type)}> ${t}`,n,s),Qo.clearMarks(n),Qo.clearMarks(s)}hw(e,t,Wc()?Qo.now():Date.now())}function Wc(){return Zi!==void 0||(typeof window<"u"&&window.performance?(Zi=!0,Qo=window.performance):Zi=!1),Zi}function nx(){const e=[];if(e.length){const t=e.length>1;console.warn(`Feature flag${t?"s":""} ${e.join(", ")} ${t?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Pt=vw;function sx(e){return ox(e)}function ox(e,t){nx();const n=$c();n.__VUE__=!0,pv(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:r,patchProp:i,createElement:a,createText:l,createComment:c,setText:u,setElementText:h,parentNode:p,nextSibling:d,setScopeId:f=rn,insertStaticContent:g}=e,_=(v,B,L,z=null,j=null,oe=null,ue=!1,Q=null,re=sr?!1:!!B.dynamicChildren)=>{if(v===B)return;v&&!er(v,B)&&(z=le(v),Le(v,j,oe,!0),v=null),B.patchFlag===-2&&(re=!1,B.dynamicChildren=null);const{type:U,ref:Ce,shapeFlag:we}=B;switch(U){case yl:w(v,B,L,z);break;case Lt:E(v,B,L,z);break;case lc:v==null?x(B,L,z,ue):C(v,B,L,ue);break;case nt:te(v,B,L,z,j,oe,ue,Q,re);break;default:we&1?P(v,B,L,z,j,oe,ue,Q,re):we&6?W(v,B,L,z,j,oe,ue,Q,re):we&64||we&128?U.process(v,B,L,z,j,oe,ue,Q,re,ae):G("Invalid VNode type:",U,`(${typeof U})`)}Ce!=null&&j&&bp(Ce,v&&v.ref,oe,B||v,!B)},w=(v,B,L,z)=>{if(v==null)s(B.el=l(B.children),L,z);else{const j=B.el=v.el;B.children!==v.children&&u(j,B.children)}},E=(v,B,L,z)=>{v==null?s(B.el=c(B.children||""),L,z):B.el=v.el},x=(v,B,L,z)=>{[v.el,v.anchor]=g(v.children,B,L,z,v.el,v.anchor)},C=(v,B,L,z)=>{if(B.children!==v.children){const j=d(v.anchor);T(v),[B.el,B.anchor]=g(B.children,L,j,z)}else B.el=v.el,B.anchor=v.anchor},F=({el:v,anchor:B},L,z)=>{let j;for(;v&&v!==B;)j=d(v),s(v,L,z),v=j;s(B,L,z)},T=({el:v,anchor:B})=>{let L;for(;v&&v!==B;)L=d(v),r(v),v=L;r(B)},P=(v,B,L,z,j,oe,ue,Q,re)=>{ue=ue||B.type==="svg",v==null?I(B,L,z,j,oe,ue,Q,re):q(v,B,j,oe,ue,Q,re)},I=(v,B,L,z,j,oe,ue,Q)=>{let re,U;const{type:Ce,props:we,shapeFlag:Ae,transition:De,dirs:qe}=v;if(re=v.el=a(v.type,oe,we&&we.is,we),Ae&8?h(re,v.children):Ae&16&&V(v.children,re,null,z,j,oe&&Ce!=="foreignObject",ue,Q),qe&&xr(v,null,z,"created"),N(re,v,v.scopeId,ue,z),we){for(const tt in we)tt!=="value"&&!rc(tt)&&i(re,tt,null,we[tt],oe,v.children,z,j,D);"value"in we&&i(re,"value",null,we.value),(U=we.onVnodeBeforeMount)&&En(U,z,v)}Object.defineProperty(re,"__vnode",{value:v,enumerable:!1}),Object.defineProperty(re,"__vueParentComponent",{value:z,enumerable:!1}),qe&&xr(v,null,z,"beforeMount");const it=(!j||j&&!j.pendingBranch)&&De&&!De.persisted;it&&De.beforeEnter(re),s(re,B,L),((U=we&&we.onVnodeMounted)||it||qe)&&Pt(()=>{U&&En(U,z,v),it&&De.enter(re),qe&&xr(v,null,z,"mounted")},j)},N=(v,B,L,z,j)=>{if(L&&f(v,L),z)for(let oe=0;oe<z.length;oe++)f(v,z[oe]);if(j){let oe=j.subTree;if(oe.patchFlag>0&&oe.patchFlag&2048&&(oe=yv(oe.children)||oe),B===oe){const ue=j.vnode;N(v,ue,ue.scopeId,ue.slotScopeIds,j.parent)}}},V=(v,B,L,z,j,oe,ue,Q,re=0)=>{for(let U=re;U<v.length;U++){const Ce=v[U]=Q?Zo(v[U]):Rn(v[U]);_(null,Ce,B,L,z,j,oe,ue,Q)}},q=(v,B,L,z,j,oe,ue)=>{const Q=B.el=v.el;let{patchFlag:re,dynamicChildren:U,dirs:Ce}=B;re|=v.patchFlag&16;const we=v.props||ut,Ae=B.props||ut;let De;L&&kr(L,!1),(De=Ae.onVnodeBeforeUpdate)&&En(De,L,B,v),Ce&&xr(B,v,L,"beforeUpdate"),L&&kr(L,!0),sr&&(re=0,ue=!1,U=null);const qe=j&&B.type!=="foreignObject";if(U?(ve(v.dynamicChildren,U,Q,L,z,qe,oe),zc(v,B)):ue||Z(v,B,Q,null,L,z,qe,oe,!1),re>0){if(re&16)ie(Q,B,we,Ae,L,z,j);else if(re&2&&we.class!==Ae.class&&i(Q,"class",null,Ae.class,j),re&4&&i(Q,"style",we.style,Ae.style,j),re&8){const it=B.dynamicProps;for(let tt=0;tt<it.length;tt++){const mt=it[tt],kt=we[mt],dn=Ae[mt];(dn!==kt||mt==="value")&&i(Q,mt,kt,dn,j,v.children,L,z,D)}}re&1&&v.children!==B.children&&h(Q,B.children)}else!ue&&U==null&&ie(Q,B,we,Ae,L,z,j);((De=Ae.onVnodeUpdated)||Ce)&&Pt(()=>{De&&En(De,L,B,v),Ce&&xr(B,v,L,"updated")},z)},ve=(v,B,L,z,j,oe,ue)=>{for(let Q=0;Q<B.length;Q++){const re=v[Q],U=B[Q],Ce=re.el&&(re.type===nt||!er(re,U)||re.shapeFlag&70)?p(re.el):L;_(re,U,Ce,null,z,j,oe,ue,!0)}},ie=(v,B,L,z,j,oe,ue)=>{if(L!==z){if(L!==ut)for(const Q in L)!rc(Q)&&!(Q in z)&&i(v,Q,L[Q],null,ue,B.children,j,oe,D);for(const Q in z){if(rc(Q))continue;const re=z[Q],U=L[Q];re!==U&&Q!=="value"&&i(v,Q,U,re,ue,B.children,j,oe,D)}"value"in z&&i(v,"value",L.value,z.value)}},te=(v,B,L,z,j,oe,ue,Q,re)=>{const U=B.el=v?v.el:l(""),Ce=B.anchor=v?v.anchor:l("");let{patchFlag:we,dynamicChildren:Ae,slotScopeIds:De}=B;(sr||we&2048)&&(we=0,re=!1,Ae=null),De&&(Q=Q?Q.concat(De):De),v==null?(s(U,L,z),s(Ce,L,z),V(B.children,L,Ce,j,oe,ue,Q,re)):we>0&&we&64&&Ae&&v.dynamicChildren?(ve(v.dynamicChildren,Ae,L,j,oe,ue,Q),zc(v,B)):Z(v,B,L,Ce,j,oe,ue,Q,re)},W=(v,B,L,z,j,oe,ue,Q,re)=>{B.slotScopeIds=Q,v==null?B.shapeFlag&512?j.ctx.activate(B,L,z,ue,re):H(B,L,z,j,oe,ue,re):de(v,B,re)},H=(v,B,L,z,j,oe,ue)=>{const Q=v.component=mx(v,z,j);if(Q.type.__hmrId&&nw(Q),ic(v),To(Q,"mount"),fl(v)&&(Q.ctx.renderer=ae),To(Q,"init"),gx(Q),Ao(Q,"init"),Q.asyncDep){if(j&&j.registerDep(Q,O),!v.el){const re=Q.subTree=ce(Lt);E(null,re,B,L)}return}O(Q,v,B,L,j,oe,ue),ac(),Ao(Q,"mount")},de=(v,B,L)=>{const z=B.component=v.component;if(gw(v,B,L))if(z.asyncDep&&!z.asyncResolved){ic(B),Y(z,B,L),ac();return}else z.next=B,ew(z.update),z.update();else B.el=v.el,z.vnode=B},O=(v,B,L,z,j,oe,ue)=>{const Q=()=>{if(v.isMounted){let{next:Ce,bu:we,u:Ae,parent:De,vnode:qe}=v,it=Ce,tt;ic(Ce||v.vnode),kr(v,!1),Ce?(Ce.el=qe.el,Y(v,Ce,ue)):Ce=qe,we&&Ir(we),(tt=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&En(tt,De,Ce,qe),kr(v,!0),To(v,"render");const mt=yh(v);Ao(v,"render");const kt=v.subTree;v.subTree=mt,To(v,"patch"),_(kt,mt,p(kt.el),le(kt),v,j,oe),Ao(v,"patch"),Ce.el=mt.el,it===null&&_w(v,mt.el),Ae&&Pt(Ae,j),(tt=Ce.props&&Ce.props.onVnodeUpdated)&&Pt(()=>En(tt,De,Ce,qe),j),dv(v),ac()}else{let Ce;const{el:we,props:Ae}=B,{bm:De,m:qe,parent:it}=v,tt=Ai(B);if(kr(v,!1),De&&Ir(De),!tt&&(Ce=Ae&&Ae.onVnodeBeforeMount)&&En(Ce,it,B),kr(v,!0),we&&Ze){const mt=()=>{To(v,"render"),v.subTree=yh(v),Ao(v,"render"),To(v,"hydrate"),Ze(we,v.subTree,v,j,null),Ao(v,"hydrate")};tt?B.type.__asyncLoader().then(()=>!v.isUnmounted&&mt()):mt()}else{To(v,"render");const mt=v.subTree=yh(v);Ao(v,"render"),To(v,"patch"),_(null,mt,L,z,v,j,oe),Ao(v,"patch"),B.el=mt.el}if(qe&&Pt(qe,j),!tt&&(Ce=Ae&&Ae.onVnodeMounted)){const mt=B;Pt(()=>En(Ce,it,mt),j)}(B.shapeFlag&256||it&&Ai(it.vnode)&&it.vnode.shapeFlag&256)&&v.a&&Pt(v.a,j),v.isMounted=!0,dp(v),B=L=z=null}},re=v.effect=new Pd(Q,()=>Su(U),v.scope),U=v.update=()=>re.run();U.id=v.uid,kr(v,!0),re.onTrack=v.rtc?Ce=>Ir(v.rtc,Ce):void 0,re.onTrigger=v.rtg?Ce=>Ir(v.rtg,Ce):void 0,U.ownerInstance=v,U()},Y=(v,B,L)=>{B.component=v;const z=v.vnode.props;v.vnode=B,v.next=null,Yw(v,B.props,z,L),tx(v,B.children,L),ai(),Bm(),li()},Z=(v,B,L,z,j,oe,ue,Q,re=!1)=>{const U=v&&v.children,Ce=v?v.shapeFlag:0,we=B.children,{patchFlag:Ae,shapeFlag:De}=B;if(Ae>0){if(Ae&128){Ie(U,we,L,z,j,oe,ue,Q,re);return}else if(Ae&256){Ee(U,we,L,z,j,oe,ue,Q,re);return}}De&8?(Ce&16&&D(U,j,oe),we!==U&&h(L,we)):Ce&16?De&16?Ie(U,we,L,z,j,oe,ue,Q,re):D(U,j,oe,!0):(Ce&8&&h(L,""),De&16&&V(we,L,z,j,oe,ue,Q,re))},Ee=(v,B,L,z,j,oe,ue,Q,re)=>{v=v||Ei,B=B||Ei;const U=v.length,Ce=B.length,we=Math.min(U,Ce);let Ae;for(Ae=0;Ae<we;Ae++){const De=B[Ae]=re?Zo(B[Ae]):Rn(B[Ae]);_(v[Ae],De,L,null,j,oe,ue,Q,re)}U>Ce?D(v,j,oe,!0,!1,we):V(B,L,z,j,oe,ue,Q,re,we)},Ie=(v,B,L,z,j,oe,ue,Q,re)=>{let U=0;const Ce=B.length;let we=v.length-1,Ae=Ce-1;for(;U<=we&&U<=Ae;){const De=v[U],qe=B[U]=re?Zo(B[U]):Rn(B[U]);if(er(De,qe))_(De,qe,L,null,j,oe,ue,Q,re);else break;U++}for(;U<=we&&U<=Ae;){const De=v[we],qe=B[Ae]=re?Zo(B[Ae]):Rn(B[Ae]);if(er(De,qe))_(De,qe,L,null,j,oe,ue,Q,re);else break;we--,Ae--}if(U>we){if(U<=Ae){const De=Ae+1,qe=De<Ce?B[De].el:z;for(;U<=Ae;)_(null,B[U]=re?Zo(B[U]):Rn(B[U]),L,qe,j,oe,ue,Q,re),U++}}else if(U>Ae)for(;U<=we;)Le(v[U],j,oe,!0),U++;else{const De=U,qe=U,it=new Map;for(U=qe;U<=Ae;U++){const vt=B[U]=re?Zo(B[U]):Rn(B[U]);vt.key!=null&&(it.has(vt.key)&&G("Duplicate keys found during update:",JSON.stringify(vt.key),"Make sure keys are unique."),it.set(vt.key,U))}let tt,mt=0;const kt=Ae-qe+1;let dn=!1,fi=0;const wo=new Array(kt);for(U=0;U<kt;U++)wo[U]=0;for(U=De;U<=we;U++){const vt=v[U];if(mt>=kt){Le(vt,j,oe,!0);continue}let wn;if(vt.key!=null)wn=it.get(vt.key);else for(tt=qe;tt<=Ae;tt++)if(wo[tt-qe]===0&&er(vt,B[tt])){wn=tt;break}wn===void 0?Le(vt,j,oe,!0):(wo[wn-qe]=U+1,wn>=fi?fi=wn:dn=!0,_(vt,B[wn],L,null,j,oe,ue,Q,re),mt++)}const Sl=dn?rx(wo):Ei;for(tt=Sl.length-1,U=kt-1;U>=0;U--){const vt=qe+U,wn=B[vt],$l=vt+1<Ce?B[vt+1].el:z;wo[U]===0?_(null,wn,L,$l,j,oe,ue,Q,re):dn&&(tt<0||U!==Sl[tt]?He(wn,L,$l,2):tt--)}}},He=(v,B,L,z,j=null)=>{const{el:oe,type:ue,transition:Q,children:re,shapeFlag:U}=v;if(U&6){He(v.component.subTree,B,L,z);return}if(U&128){v.suspense.move(B,L,z);return}if(U&64){ue.move(v,B,L,ae);return}if(ue===nt){s(oe,B,L);for(let we=0;we<re.length;we++)He(re[we],B,L,z);s(v.anchor,B,L);return}if(ue===lc){F(v,B,L);return}if(z!==2&&U&1&&Q)if(z===0)Q.beforeEnter(oe),s(oe,B,L),Pt(()=>Q.enter(oe),j);else{const{leave:we,delayLeave:Ae,afterLeave:De}=Q,qe=()=>s(oe,B,L),it=()=>{we(oe,()=>{qe(),De&&De()})};Ae?Ae(oe,qe,it):it()}else s(oe,B,L)},Le=(v,B,L,z=!1,j=!1)=>{const{type:oe,props:ue,ref:Q,children:re,dynamicChildren:U,shapeFlag:Ce,patchFlag:we,dirs:Ae}=v;if(Q!=null&&bp(Q,null,L,v,!0),Ce&256){B.ctx.deactivate(v);return}const De=Ce&1&&Ae,qe=!Ai(v);let it;if(qe&&(it=ue&&ue.onVnodeBeforeUnmount)&&En(it,B,v),Ce&6)xt(v.component,L,z);else{if(Ce&128){v.suspense.unmount(L,z);return}De&&xr(v,null,B,"beforeUnmount"),Ce&64?v.type.remove(v,B,L,j,ae,z):U&&(oe!==nt||we>0&&we&64)?D(U,B,L,!1,!0):(oe===nt&&we&384||!j&&Ce&16)&&D(re,B,L),z&&ft(v)}(qe&&(it=ue&&ue.onVnodeUnmounted)||De)&&Pt(()=>{it&&En(it,B,v),De&&xr(v,null,B,"unmounted")},L)},ft=v=>{const{type:B,el:L,anchor:z,transition:j}=v;if(B===nt){v.patchFlag>0&&v.patchFlag&2048&&j&&!j.persisted?v.children.forEach(ue=>{ue.type===Lt?r(ue.el):ft(ue)}):wt(L,z);return}if(B===lc){T(v);return}const oe=()=>{r(L),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(v.shapeFlag&1&&j&&!j.persisted){const{leave:ue,delayLeave:Q}=j,re=()=>ue(L,oe);Q?Q(v.el,oe,re):re()}else oe()},wt=(v,B)=>{let L;for(;v!==B;)L=d(v),r(v),v=L;r(B)},xt=(v,B,L)=>{v.type.__hmrId&&sw(v);const{bum:z,scope:j,update:oe,subTree:ue,um:Q}=v;z&&Ir(z),j.stop(),oe&&(oe.active=!1,Le(ue,v,B,L)),Q&&Pt(Q,B),Pt(()=>{v.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve()),cw(v)},D=(v,B,L,z=!1,j=!1,oe=0)=>{for(let ue=oe;ue<v.length;ue++)Le(v[ue],B,L,z,j)},le=v=>v.shapeFlag&6?le(v.component.subTree):v.shapeFlag&128?v.suspense.next():d(v.anchor||v.el),ee=(v,B,L)=>{v==null?B._vnode&&Le(B._vnode,null,null,!0):_(B._vnode||null,v,B,null,null,null,L),Bm(),cv(),B._vnode=v},ae={p:_,um:Le,m:He,r:ft,mt:H,mc:V,pc:Z,pbc:ve,n:le,o:e};let Pe,Ze;return t&&([Pe,Ze]=t(ae)),{render:ee,hydrate:Pe,createApp:Vw(ee,Pe)}}function kr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function zc(e,t,n=!1){const s=e.children,r=t.children;if(Oe(s)&&Oe(r))for(let i=0;i<s.length;i++){const a=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Zo(r[i]),l.el=a.el),n||zc(a,l)),l.type===yl&&(l.el=a.el),l.type===Lt&&!l.el&&(l.el=a.el)}}function rx(e){const t=e.slice(),n=[0];let s,r,i,a,l;const c=e.length;for(s=0;s<c;s++){const u=e[s];if(u!==0){if(r=n[n.length-1],e[r]<u){t[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<u?i=l+1:a=l;u<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}const ix=e=>e.__isTeleport,Si=e=>e&&(e.disabled||e.disabled===""),jm=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Cp=(e,t)=>{const n=e&&e.to;if(dt(n))if(t){const s=t(n);return s||G(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),s}else return G("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!Si(e)&&G(`Invalid Teleport target: ${n}`),n},ax={__isTeleport:!0,process(e,t,n,s,r,i,a,l,c,u){const{mc:h,pc:p,pbc:d,o:{insert:f,querySelector:g,createText:_,createComment:w}}=u,E=Si(t.props);let{shapeFlag:x,children:C,dynamicChildren:F}=t;if(sr&&(c=!1,F=null),e==null){const T=t.el=w("teleport start"),P=t.anchor=w("teleport end");f(T,n,s),f(P,n,s);const I=t.target=Cp(t.props,g),N=t.targetAnchor=_("");I?(f(N,I),a=a||jm(I)):E||G("Invalid Teleport target on mount:",I,`(${typeof I})`);const V=(q,ve)=>{x&16&&h(C,q,ve,r,i,a,l,c)};E?V(n,P):I&&V(I,N)}else{t.el=e.el;const T=t.anchor=e.anchor,P=t.target=e.target,I=t.targetAnchor=e.targetAnchor,N=Si(e.props),V=N?n:P,q=N?T:I;if(a=a||jm(P),F?(d(e.dynamicChildren,F,V,r,i,a,l),zc(e,t,!0)):c||p(e,t,V,q,r,i,a,l,!1),E)N||Nl(t,n,T,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ve=t.target=Cp(t.props,g);ve?Nl(t,ve,null,u,0):G("Invalid Teleport target on update:",P,`(${typeof P})`)}else N&&Nl(t,P,I,u,1)}jv(t)},remove(e,t,n,s,{um:r,o:{remove:i}},a){const{shapeFlag:l,children:c,anchor:u,targetAnchor:h,target:p,props:d}=e;if(p&&i(h),(a||!Si(d))&&(i(u),l&16))for(let f=0;f<c.length;f++){const g=c[f];r(g,t,n,!0,!!g.dynamicChildren)}},move:Nl,hydrate:lx};function Nl(e,t,n,{o:{insert:s},m:r},i=2){i===0&&s(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:c,children:u,props:h}=e,p=i===2;if(p&&s(a,t,n),(!p||Si(h))&&c&16)for(let d=0;d<u.length;d++)r(u[d],t,n,2);p&&s(l,t,n)}function lx(e,t,n,s,r,i,{o:{nextSibling:a,parentNode:l,querySelector:c}},u){const h=t.target=Cp(t.props,c);if(h){const p=h._lpa||h.firstChild;if(t.shapeFlag&16)if(Si(t.props))t.anchor=u(a(e),t,l(e),n,s,r,i),t.targetAnchor=p;else{t.anchor=a(e);let d=p;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(p,t,h,n,s,r,i)}jv(t)}return t.anchor&&a(t.anchor)}const cx=ax;function jv(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const nt=Symbol.for("v-fgt"),yl=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),lc=Symbol.for("v-stc"),Ca=[];let Wn=null;function k(e=!1){Ca.push(Wn=e?null:[])}function ux(){Ca.pop(),Wn=Ca[Ca.length-1]||null}let Na=1;function Wm(e){Na+=e}function Wv(e){return e.dynamicChildren=Na>0?Wn||Ei:null,ux(),Na>0&&Wn&&Wn.push(e),e}function R(e,t,n,s,r,i){return Wv(o(e,t,n,s,r,i,!0))}function K(e,t,n,s,r){return Wv(ce(e,t,n,s,r,!0))}function dr(e){return e?e.__v_isVNode===!0:!1}function er(e,t){return t.shapeFlag&6&&wi.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}const hx=(...e)=>px(...e),Mu="__vInternal",zv=({key:e})=>e??null,cc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?dt(e)||ot(e)||Ne(e)?{i:$t,r:e,k:t,f:!!n}:e:null);function o(e,t=null,n=null,s=0,r=null,i=e===nt?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zv(t),ref:t&&cc(t),scopeId:Fu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:$t};return l?(Xd(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=dt(n)?8:16),c.key!==c.key&&G("VNode created with invalid key (NaN). VNode type:",c.type),Na>0&&!a&&Wn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Wn.push(c),c}const ce=hx;function px(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Av)&&(e||G(`Invalid vnode type when creating vnode: ${e}.`),e=Lt),dr(e)){const l=Vn(e,t,!0);return n&&Xd(l,n),Na>0&&!i&&Wn&&(l.shapeFlag&6?Wn[Wn.indexOf(e)]=l:Wn.push(l)),l.patchFlag|=-2,l}if(Yv(e)&&(e=e.__vccOpts),t){t=ke(t);let{class:l,style:c}=t;l&&!dt(l)&&(t.class=lt(l)),rt(c)&&(Ic(c)&&!Oe(c)&&(c=pt({},c)),t.style=Tt(c))}const a=dt(e)?1:gv(e)?128:ix(e)?64:rt(e)?4:Ne(e)?2:0;return a&4&&Ic(e)&&(e=We(e),G("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),o(e,t,n,s,r,a,i,!0)}function ke(e){return e?Ic(e)||Mu in e?pt({},e):e:null}function Vn(e,t,n=!1){const{props:s,ref:r,patchFlag:i,children:a}=e,l=t?Qe(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&zv(l),ref:t&&t.ref?n&&r?Oe(r)?r.concat(cc(t)):[r,cc(t)]:cc(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i===-1&&Oe(a)?a.map(Hv):a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vn(e.ssContent),ssFallback:e.ssFallback&&Vn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Hv(e){const t=Vn(e);return Oe(e.children)&&(t.children=e.children.map(Hv)),t}function y(e=" ",t=0){return ce(yl,null,e,t)}function Ye(e="",t=!1){return t?(k(),K(Lt,null,e)):ce(Lt,null,e)}function Rn(e){return e==null||typeof e=="boolean"?ce(Lt):Oe(e)?ce(nt,null,e.slice()):typeof e=="object"?Zo(e):ce(yl,null,String(e))}function Zo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vn(e)}function Xd(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Xd(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Mu in t)?t._ctx=$t:r===3&&$t&&($t.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ne(t)?(t={default:t,_ctx:$t},n=32):(t=String(t),s&64?(n=16,t=[y(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qe(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=lt([t.class,s.class]));else if(r==="style")t.style=Tt([t.style,s.style]);else if(hl(r)){const i=t[r],a=s[r];a&&i!==a&&!(Oe(i)&&i.includes(a))&&(t[r]=i?[].concat(i,a):a)}else r!==""&&(t[r]=s[r])}return t}function En(e,t,n,s=null){Sn(e,t,7,[n,s])}const dx=Lv();let fx=0;function mx(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||dx,i={uid:fx++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new j_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mv(s,r),emitsOptions:mv(s,r),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:s.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx=Ow(i),i.root=t?t.root:i,i.emit=dw.bind(null,i),e.ce&&e.ce(i),i}let St=null;const pn=()=>St||$t;let Jd,yi,zm="__VUE_INSTANCE_SETTERS__";(yi=$c()[zm])||(yi=$c()[zm]=[]),yi.push(e=>St=e),Jd=e=>{yi.length>1?yi.forEach(t=>t(e)):yi[0](e)};const Li=e=>{Jd(e),e.scope.on()},Kr=()=>{St&&St.scope.off(),Jd(null)},yx=gr("slot,component");function wp(e,t){const n=t.isNativeTag||L_;(yx(e)||n(e))&&G("Do not use built-in or reserved HTML elements as component id: "+e)}function Vv(e){return e.vnode.shapeFlag&4}let ja=!1;function gx(e,t=!1){ja=t;const{props:n,children:s}=e.vnode,r=Vv(e);qw(e,n,r,t),ex(e,s);const i=r?_x(e,t):void 0;return ja=!1,i}function _x(e,t){var n;const s=e.type;{if(s.name&&wp(s.name,e.appContext.config),s.components){const i=Object.keys(s.components);for(let a=0;a<i.length;a++)wp(i[a],e.appContext.config)}if(s.directives){const i=Object.keys(s.directives);for(let a=0;a<i.length;a++)vv(i[a])}s.compilerOptions&&vx()&&G('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=Tu(new Proxy(e.ctx,Fv)),Lw(e);const{setup:r}=s;if(r){const i=e.setupContext=r.length>1?Uv(e):null;Li(e),ai();const a=Io(r,e,0,[ha(e.props),i]);if(li(),Kr(),Od(a)){if(a.then(Kr,Kr),t)return a.then(l=>{Hm(e,l,t)}).catch(l=>{Au(l,e,0)});if(e.asyncDep=a,!e.suspense){const l=(n=s.name)!=null?n:"Anonymous";G(`Component <${l}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else Hm(e,a,t)}else qv(e,t)}function Hm(e,t,n){Ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:rt(t)?(dr(t)&&G("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=sv(t),Iw(e)):t!==void 0&&G(`setup() should return an object. Received: ${t===null?"null":typeof t}`),qv(e,n)}let xp;const vx=()=>!xp;function qv(e,t,n){const s=e.type;if(!e.render){if(!t&&xp&&!s.render){const r=s.template||Zd(e).template;if(r){To(e,"compile");const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:c}=s,u=pt(pt({isCustomElement:i,delimiters:l},a),c);s.render=xp(r,u),Ao(e,"compile")}}e.render=s.render||rn}Li(e),ai(),Rw(e),li(),Kr(),!s.render&&e.render===rn&&!t&&(s.template?G('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):G("Component is missing template or render function."))}function bx(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Pc(),Ut(e,"get","$attrs"),t[n]},set(){return G("setupContext.attrs is readonly."),!1},deleteProperty(){return G("setupContext.attrs is readonly."),!1}}))}function Cx(e){return e.slotsProxy||(e.slotsProxy=new Proxy(e.slots,{get(t,n){return Ut(e,"get","$slots"),t[n]}}))}function Uv(e){return Object.freeze({get attrs(){return bx(e)},get slots(){return Cx(e)},get emit(){return(n,...s)=>e.emit(n,...s)},expose:n=>{if(e.exposed&&G("expose() should be called only once per setup()."),n!=null){let s=typeof n;s==="object"&&(Oe(n)?s="array":ot(n)&&(s="ref")),s!=="object"&&G(`expose() should be passed a plain object, received ${s}.`)}e.exposed=n||{}}})}function Pu(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(sv(Tu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Zr)return Zr[n](e)},has(t,n){return n in t||n in Zr}}))}const wx=/(?:^|[-_])(\w)/g,xx=e=>e.replace(wx,t=>t.toUpperCase()).replace(/[-_]/g,"");function Wa(e,t=!0){return Ne(e)?e.displayName||e.name:e.name||t&&e.__name}function Du(e,t,n=!1){let s=Wa(t);if(!s&&t.__file){const r=t.__file.match(/([^/\\]+)\.\w+$/);r&&(s=r[1])}if(!s&&e&&e.parent){const r=i=>{for(const a in i)if(i[a]===t)return a};s=r(e.components||e.parent.type.components)||r(e.appContext.components)}return s?xx(s):n?"App":"Anonymous"}function Yv(e){return Ne(e)&&"__vccOpts"in e}const m=(e,t)=>qC(e,t,ja);function cn(e,t,n){const s=arguments.length;return s===2?rt(t)&&!Oe(t)?dr(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&dr(n)&&(n=[n]),ce(e,t,n))}const kx=Symbol.for("v-scx"),Bx=()=>{{const e=b(kx);return e||G("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Ch(e){return!!(e&&e.__v_isShallow)}function Ex(){if(typeof window>"u")return;const e={style:"color:#3ba776"},t={style:"color:#0b1bc9"},n={style:"color:#b62e24"},s={style:"color:#9d288c"},r={header(p){return rt(p)?p.__isVue?["div",e,"VueInstance"]:ot(p)?["div",{},["span",e,h(p)],"<",l(p.value),">"]:Yr(p)?["div",{},["span",e,Ch(p)?"ShallowReactive":"Reactive"],"<",l(p),`>${pr(p)?" (readonly)":""}`]:pr(p)?["div",{},["span",e,Ch(p)?"ShallowReadonly":"Readonly"],"<",l(p),">"]:null:null},hasBody(p){return p&&p.__isVue},body(p){if(p&&p.__isVue)return["div",{},...i(p.$)]}};function i(p){const d=[];p.type.props&&p.props&&d.push(a("props",We(p.props))),p.setupState!==ut&&d.push(a("setup",p.setupState)),p.data!==ut&&d.push(a("data",We(p.data)));const f=c(p,"computed");f&&d.push(a("computed",f));const g=c(p,"inject");return g&&d.push(a("injected",g)),d.push(["div",{},["span",{style:s.style+";opacity:0.66"},"$ (internal): "],["object",{object:p}]]),d}function a(p,d){return d=pt({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},p],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(f=>["div",{},["span",s,f+": "],l(d[f],!1)])]]:["span",{}]}function l(p,d=!0){return typeof p=="number"?["span",t,p]:typeof p=="string"?["span",n,JSON.stringify(p)]:typeof p=="boolean"?["span",s,p]:rt(p)?["object",{object:d?We(p):p}]:["span",n,String(p)]}function c(p,d){const f=p.type;if(Ne(f))return;const g={};for(const _ in p.ctx)u(f,_,d)&&(g[_]=p.ctx[_]);return g}function u(p,d,f){const g=p[f];if(Oe(g)&&g.includes(d)||rt(g)&&d in g||p.extends&&u(p.extends,d,f)||p.mixins&&p.mixins.some(_=>u(_,d,f)))return!0}function h(p){return Ch(p)?"ShallowRef":p.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const kp="3.3.4",Tx="http://www.w3.org/2000/svg",Mr=typeof document<"u"?document:null,Vm=Mr&&Mr.createElement("template"),Ax={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t?Mr.createElementNS(Tx,e):Mr.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Mr.createTextNode(e),createComment:e=>Mr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Mr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const a=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Vm.innerHTML=s?`<svg>${e}</svg>`:e;const l=Vm.content;if(s){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Sx(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function $x(e,t,n){const s=e.style,r=dt(n);if(n&&!r){if(t&&!dt(t))for(const i in t)n[i]==null&&Bp(s,i,"");for(const i in n)Bp(s,i,n[i])}else{const i=s.display;r?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const Fx=/[^\\];\s*$/,qm=/\s*!important$/;function Bp(e,t,n){if(Oe(n))n.forEach(s=>Bp(e,t,s));else if(n==null&&(n=""),Fx.test(n)&&G(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith("--"))e.setProperty(t,n);else{const s=Ox(e,t);qm.test(n)?e.setProperty(Po(s),n.replace(qm,""),"important"):e[s]=n}}const Um=["Webkit","Moz","ms"],wh={};function Ox(e,t){const n=wh[t];if(n)return n;let s=mo(t);if(s!=="filter"&&s in e)return wh[t]=s;s=ti(s);for(let r=0;r<Um.length;r++){const i=Um[r]+s;if(i in e)return wh[t]=i}return t}const Ym="http://www.w3.org/1999/xlink";function Lx(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ym,t.slice(6,t.length)):e.setAttributeNS(Ym,t,n);else{const i=iC(t);n==null||i&&!R_(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Ix(e,t,n,s,r,i,a){if(t==="innerHTML"||t==="textContent"){s&&a(s,r,i),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const u=l==="OPTION"?e.getAttribute("value"):e.value,h=n??"";u!==h&&(e.value=h),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=R_(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch(u){c||G(`Failed setting prop "${t}" on <${l.toLowerCase()}>: value ${n} is invalid.`,u)}c&&e.removeAttribute(t)}function Mx(e,t,n,s){e.addEventListener(t,n,s)}function Px(e,t,n,s){e.removeEventListener(t,n,s)}function Dx(e,t,n,s,r=null){const i=e._vei||(e._vei={}),a=i[t];if(s&&a)a.value=s;else{const[l,c]=Rx(t);if(s){const u=i[t]=Wx(s,r);Mx(e,l,u,c)}else a&&(Px(e,l,a,c),i[t]=void 0)}}const Gm=/(?:Once|Passive|Capture)$/;function Rx(e){let t;if(Gm.test(e)){t={};let s;for(;s=e.match(Gm);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Po(e.slice(2)),t]}let xh=0;const Nx=Promise.resolve(),jx=()=>xh||(Nx.then(()=>xh=0),xh=Date.now());function Wx(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Sn(zx(s,n.value),t,5,[s])};return n.value=e,n.attached=jx(),n}function zx(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Zm=/^on[a-z]/,Hx=(e,t,n,s,r=!1,i,a,l,c)=>{t==="class"?Sx(e,s,r):t==="style"?$x(e,n,s):hl(t)?Ac(t)||Dx(e,t,n,s,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vx(e,t,s,r))?Ix(e,t,s,i,a,l,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Lx(e,t,s,r))};function Vx(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&Zm.test(t)&&Ne(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Zm.test(t)&&dt(n)?!1:t in e}const zo="transition",Ki="animation",Qd=(e,{slots:t})=>cn(ww,Zv(e),t);Qd.displayName="Transition";const Gv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},qx=Qd.props=pt({},wv,Gv),Br=(e,t=[])=>{Oe(e)?e.forEach(n=>n(...t)):e&&e(...t)},Km=e=>e?Oe(e)?e.some(t=>t.length>1):e.length>1:!1;function Zv(e){const t={};for(const ie in e)ie in Gv||(t[ie]=e[ie]);if(e.css===!1)return t;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,g=Ux(r),_=g&&g[0],w=g&&g[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:C,onLeave:F,onLeaveCancelled:T,onBeforeAppear:P=E,onAppear:I=x,onAppearCancelled:N=C}=t,V=(ie,te,W)=>{Uo(ie,te?h:l),Uo(ie,te?u:a),W&&W()},q=(ie,te)=>{ie._isLeaving=!1,Uo(ie,p),Uo(ie,f),Uo(ie,d),te&&te()},ve=ie=>(te,W)=>{const H=ie?I:x,de=()=>V(te,ie,W);Br(H,[te,de]),Xm(()=>{Uo(te,ie?c:i),So(te,ie?h:l),Km(H)||Jm(te,s,_,de)})};return pt(t,{onBeforeEnter(ie){Br(E,[ie]),So(ie,i),So(ie,a)},onBeforeAppear(ie){Br(P,[ie]),So(ie,c),So(ie,u)},onEnter:ve(!1),onAppear:ve(!0),onLeave(ie,te){ie._isLeaving=!0;const W=()=>q(ie,te);So(ie,p),Xv(),So(ie,d),Xm(()=>{ie._isLeaving&&(Uo(ie,p),So(ie,f),Km(F)||Jm(ie,s,w,W))}),Br(F,[ie,W])},onEnterCancelled(ie){V(ie,!1),Br(C,[ie])},onAppearCancelled(ie){V(ie,!0),Br(N,[ie])},onLeaveCancelled(ie){q(ie),Br(T,[ie])}})}function Ux(e){if(e==null)return null;if(rt(e))return[kh(e.enter),kh(e.leave)];{const t=kh(e);return[t,t]}}function kh(e){const t=X5(e);return KC(t,"<transition> explicit duration"),t}function So(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Uo(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Xm(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Yx=0;function Jm(e,t,n,s){const r=e._endId=++Yx,i=()=>{r===e._endId&&s()};if(n)return setTimeout(i,n);const{type:a,timeout:l,propCount:c}=Kv(e,t);if(!a)return s();const u=a+"end";let h=0;const p=()=>{e.removeEventListener(u,d),i()},d=f=>{f.target===e&&++h>=c&&p()};setTimeout(()=>{h<c&&p()},l+1),e.addEventListener(u,d)}function Kv(e,t){const n=window.getComputedStyle(e),s=g=>(n[g]||"").split(", "),r=s(`${zo}Delay`),i=s(`${zo}Duration`),a=Qm(r,i),l=s(`${Ki}Delay`),c=s(`${Ki}Duration`),u=Qm(l,c);let h=null,p=0,d=0;t===zo?a>0&&(h=zo,p=a,d=i.length):t===Ki?u>0&&(h=Ki,p=u,d=c.length):(p=Math.max(a,u),h=p>0?a>u?zo:Ki:null,d=h?h===zo?i.length:c.length:0);const f=h===zo&&/\b(transform|all)(,|$)/.test(s(`${zo}Property`).toString());return{type:h,timeout:p,propCount:d,hasTransform:f}}function Qm(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>ey(n)+ey(e[s])))}function ey(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Xv(){return document.body.offsetHeight}const Jv=new WeakMap,Qv=new WeakMap,e1={name:"TransitionGroup",props:pt({},qx,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=pn(),s=Cv();let r,i;return Lu(()=>{if(!r.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Qx(r[0].el,n.vnode.el,a))return;r.forEach(Kx),r.forEach(Xx);const l=r.filter(Jx);Xv(),l.forEach(c=>{const u=c.el,h=u.style;So(u,a),h.transform=h.webkitTransform=h.transitionDuration="";const p=u._moveCb=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",p),u._moveCb=null,Uo(u,a))};u.addEventListener("transitionend",p)})}),()=>{const a=We(e),l=Zv(a);let c=a.tag||nt;r=i,i=t.default?Yd(t.default()):[];for(let u=0;u<i.length;u++){const h=i[u];h.key!=null?Oi(h,Ra(h,l,s,n)):G("<TransitionGroup> children must be keyed.")}if(r)for(let u=0;u<r.length;u++){const h=r[u];Oi(h,Ra(h,l,s,n)),Jv.set(h,h.el.getBoundingClientRect())}return ce(c,null,i)}}},Gx=e=>delete e.mode;e1.props;const Zx=e1;function Kx(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Xx(e){Qv.set(e,e.el.getBoundingClientRect())}function Jx(e){const t=Jv.get(e),n=Qv.get(e),s=t.left-n.left,r=t.top-n.top;if(s||r){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",e}}function Qx(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:i}=Kv(s);return r.removeChild(s),i}const ek=["ctrl","shift","alt","meta"],tk={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ek.some(n=>e[`${n}Key`]&&!t.includes(n))},nk=(e,t)=>(n,...s)=>{for(let r=0;r<t.length;r++){const i=tk[t[r]];if(i&&i(n,t))return}return e(n,...s)},sk={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jl=(e,t)=>n=>{if(!("key"in n))return;const s=Po(n.key);if(t.some(r=>r===s||sk[r]===s))return e(n)},t1={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Xi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Xi(e,!0),s.enter(e)):s.leave(e,()=>{Xi(e,!1)}):Xi(e,t))},beforeUnmount(e,{value:t}){Xi(e,t)}};function Xi(e,t){e.style.display=t?e._vod:"none"}const ok=pt({patchProp:Hx},Ax);let ty;function rk(){return ty||(ty=sx(ok))}const ik=(...e)=>{const t=rk().createApp(...e);ak(t),lk(t);const{mount:n}=t;return t.mount=s=>{const r=ck(s);if(!r)return;const i=t._component;!Ne(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};function ak(e){Object.defineProperty(e.config,"isNativeTag",{value:t=>D_(t)||oC(t),writable:!1})}function lk(e){{const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get(){return t},set(){G("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,s='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get(){return G(s),n},set(){G(s)}})}}function ck(e){if(dt(e)){const t=document.querySelector(e);return t||G(`Failed to mount app: mount target selector "${e}" returned null.`),t}return window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode==="closed"&&G('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}function uk(){Ex()}uk();function Ep(e,t={},n){for(const s in e){const r=e[s],i=n?`${n}:${s}`:s;typeof r=="object"&&r!==null?Ep(r,t,i):typeof r=="function"&&(t[i]=r)}return t}const hk={run:e=>e()},pk=()=>hk,n1=typeof console.createTask<"u"?console.createTask:pk;function dk(e,t){const n=t.shift(),s=n1(n);return e.reduce((r,i)=>r.then(()=>s.run(()=>i(...t))),Promise.resolve())}function fk(e,t){const n=t.shift(),s=n1(n);return Promise.all(e.map(r=>s.run(()=>r(...t))))}function Bh(e,t){for(const n of[...e])n(t)}class mk{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,s={}){if(!t||typeof n!="function")return()=>{};const r=t;let i;for(;this._deprecatedHooks[t];)i=this._deprecatedHooks[t],t=i.to;if(i&&!s.allowDeprecated){let a=i.message;a||(a=`${r} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let s,r=(...i)=>(typeof s=="function"&&s(),s=void 0,r=void 0,n(...i));return s=this.hook(t,r),s}removeHook(t,n){if(this._hooks[t]){const s=this._hooks[t].indexOf(n);s!==-1&&this._hooks[t].splice(s,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const s=this._hooks[t]||[];delete this._hooks[t];for(const r of s)this.hook(t,r)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Ep(t),s=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of s.splice(0,s.length))r()}}removeHooks(t){const n=Ep(t);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(dk,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(fk,t,...n)}callHookWith(t,n,...s){const r=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&Bh(this._before,r);const i=t(n in this._hooks?[...this._hooks[n]]:[],s);return i instanceof Promise?i.finally(()=>{this._after&&r&&Bh(this._after,r)}):(this._after&&r&&Bh(this._after,r),i)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function yk(){return new mk}function gk(e){return Array.isArray(e)?e:[e]}const _k=["title","titleTemplate","script","style","noscript"],uc=["base","meta","link","style","script","noscript"],vk=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],bk=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],s1=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"],Ck=typeof window<"u";function o1(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function ny(e){return e._h||o1(e._d?e._d:`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,n])=>`${t}:${String(n)}`).join(",")}`)}function r1(e,t){const{props:n,tag:s}=e;if(bk.includes(s))return s;if(s==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const r=["id"];s==="meta"&&r.push("name","property","http-equiv");for(const i of r)if(typeof n[i]<"u"){const a=String(n[i]);return t&&!t(a)?!1:`${s}:${i}:${a}`}return!1}function sy(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function wk(e,t,n){const s={tag:e,props:await i1(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[["script","noscript","style"].includes(e)?"innerHTML":"textContent"]:t},["templateParams","titleTemplate"].includes(e))};return s1.forEach(r=>{const i=typeof s.props[r]<"u"?s.props[r]:n[r];typeof i<"u"&&((!["innerHTML","textContent"].includes(r)||_k.includes(s.tag))&&(s[r]=i),delete s.props[r])}),s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.props.children&&(s.innerHTML=s.props.children,delete s.props.children),s.tag==="script"&&(typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),s.innerHTML&&["application/ld+json","application/json"].includes(s.props.type)&&(s.innerHTML=s.innerHTML.replace(/</g,"\\u003C"))),Array.isArray(s.props.content)?s.props.content.map(r=>({...s,props:{...s.props,content:r}})):s}function xk(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function i1(e,t){for(const n of Object.keys(e)){if(n==="class"){e[n]=xk(e[n]);continue}if(e[n]instanceof Promise&&(e[n]=await e[n]),!t&&!s1.includes(n)){const s=String(e[n]),r=n.startsWith("data-");s==="true"||s===""?e[n]=r?"true":!0:e[n]||(r&&s==="false"?e[n]="false":delete e[n])}}return e}const kk=10;async function Bk(e){const t=[];return Object.entries(e.resolvedInput).filter(([n,s])=>typeof s<"u"&&vk.includes(n)).forEach(([n,s])=>{const r=gk(s);t.push(...r.map(i=>wk(n,i,e)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((n,s)=>(n._e=e._i,e.mode&&(n._m=e.mode),n._p=(e._i<<kk)+s,n))}const oy={base:-10,title:10},ry={critical:-80,high:-10,low:20};function Hc(e){let t=100;const n=e.tagPriority;return typeof n=="number"?n:(e.tag==="meta"?(e.props["http-equiv"]==="content-security-policy"&&(t=-30),e.props.charset&&(t=-20),e.props.name==="viewport"&&(t=-15)):e.tag==="link"&&e.props.rel==="preconnect"?t=20:e.tag in oy&&(t=oy[e.tag]),typeof n=="string"&&n in ry?t+ry[n]:t)}const Ek=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],Ho="%separator";function $r(e,t,n){if(typeof e!="string"||!e.includes("%"))return e;function s(a){let l;return["s","pageTitle"].includes(a)?l=t.pageTitle:a.includes(".")?l=a.split(".").reduce((c,u)=>c&&c[u]||void 0,t):l=t[a],typeof l<"u"?(l||"").replace(/"/g,'\\"'):!1}let r=e;try{r=decodeURI(e)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(a=>{const l=s(a.slice(1));typeof l=="string"&&(e=e.replace(new RegExp(`\\${a}(\\W|$)`,"g"),(c,u)=>`${l}${u}`).trim())}),e.includes(Ho)&&(e.endsWith(Ho)&&(e=e.slice(0,-Ho.length).trim()),e.startsWith(Ho)&&(e=e.slice(Ho.length).trim()),e=e.replace(new RegExp(`\\${Ho}\\s*\\${Ho}`,"g"),Ho),e=$r(e,{separator:n},n)),e}async function Tk(e){const t={tag:e.tagName.toLowerCase(),props:await i1(e.getAttributeNames().reduce((n,s)=>({...n,[s]:e.getAttribute(s)}),{})),innerHTML:e.innerHTML};return t._d=r1(t),t}async function Ak(e,t={}){var h;const n=t.document||e.resolvedOptions.document;if(!n)return;const s={shouldRender:e.dirty,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!s.shouldRender)return;const r=(await e.resolveTags()).map(p=>({tag:p,id:uc.includes(p.tag)?ny(p):p.tag,shouldRender:!0}));let i=e._dom;if(!i){i={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};for(const p of["body","head"]){const d=(h=n==null?void 0:n[p])==null?void 0:h.children;for(const f of[...d].filter(g=>uc.includes(g.tagName.toLowerCase())))i.elMap[f.getAttribute("data-hid")||ny(await Tk(f))]=f}}i.pendingSideEffects={...i.sideEffects||{}},i.sideEffects={};function a(p,d,f){const g=`${p}:${d}`;i.sideEffects[g]=f,delete i.pendingSideEffects[g]}function l({id:p,$el:d,tag:f}){const g=f.tag.endsWith("Attrs");i.elMap[p]=d,g||(["textContent","innerHTML"].forEach(_=>{f[_]&&f[_]!==d[_]&&(d[_]=f[_])}),a(p,"el",()=>{i.elMap[p].remove(),delete i.elMap[p]})),Object.entries(f.props).forEach(([_,w])=>{const E=`attr:${_}`;if(_==="class")for(const x of(w||"").split(" ").filter(Boolean))g&&a(p,`${E}:${x}`,()=>d.classList.remove(x)),!d.classList.contains(x)&&d.classList.add(x);else d.getAttribute(_)!==w&&d.setAttribute(_,w===!0?"":String(w)),g&&a(p,E,()=>d.removeAttribute(_))})}const c=[],u={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const p of r){const{tag:d,shouldRender:f,id:g}=p;if(f){if(d.tag==="title"){n.title=d.textContent;continue}p.$el=p.$el||i.elMap[g],p.$el?l(p):uc.includes(d.tag)&&c.push(p)}}for(const p of c){const d=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),l(p),u[d]=u[d]||n.createDocumentFragment(),u[d].appendChild(p.$el)}for(const p of r)await e.hooks.callHook("dom:renderTag",p,n,a);u.head&&n.head.appendChild(u.head),u.bodyOpen&&n.body.insertBefore(u.bodyOpen,n.body.firstChild),u.bodyClose&&n.body.appendChild(u.bodyClose),Object.values(i.pendingSideEffects).forEach(p=>p()),e._dom=i,e.dirty=!1,await e.hooks.callHook("dom:rendered",{renders:r})}async function Sk(e,t={}){const n=t.delayFn||(s=>setTimeout(s,10));return e._domUpdatePromise=e._domUpdatePromise||new Promise(s=>n(async()=>{await Ak(e,t),delete e._domUpdatePromise,s()}))}function $k(e){return t=>{var s,r;const n=((r=(s=t.resolvedOptions.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":function(i){Sk(i,e)}}}}}const Fk=["templateParams","htmlAttrs","bodyAttrs"],Ok={hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(s=>{e.props[s]&&(e.key=e.props[s],delete e.props[s])});const n=r1(e)||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":function(e){const t={};e.tags.forEach(s=>{const r=(s.key?`${s.tag}:${s.key}`:s._d)||s._p,i=t[r];if(i){let l=s==null?void 0:s.tagDuplicateStrategy;if(!l&&Fk.includes(s.tag)&&(l="merge"),l==="merge"){const c=i.props;["class","style"].forEach(u=>{s.props[u]&&c[u]&&(u==="style"&&!c[u].endsWith(";")&&(c[u]+=";"),s.props[u]=`${c[u]} ${s.props[u]}`)}),t[r].props={...c,...s.props};return}else if(s._e===i._e){i._duped=i._duped||[],s._d=`${i._d}:${i._duped.length+1}`,i._duped.push(s);return}else if(Hc(s)>Hc(i))return}const a=Object.keys(s.props).length+(s.innerHTML?1:0)+(s.textContent?1:0);if(uc.includes(s.tag)&&a===0){delete t[r];return}t[r]=s});const n=[];Object.values(t).forEach(s=>{const r=s._duped;delete s._duped,n.push(s),r&&n.push(...r)}),e.tags=n,e.tags=e.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},Lk={mode:"server",hooks:{"tags:resolve":function(e){const t={};e.tags.filter(n=>["titleTemplate","templateParams","title"].includes(n.tag)&&n._m==="server").forEach(n=>{t[n.tag]=n.tag.startsWith("title")?n.textContent:n.props}),Object.keys(t).length&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},iy=["script","link","bodyAttrs"];function ay(e){const t={},n={};return Object.entries(e.props).forEach(([s,r])=>{s.startsWith("on")&&typeof r=="function"?n[s]=r:t[s]=r}),{props:t,eventHandlers:n}}const Ik={hooks:{"ssr:render":function(e){e.tags=e.tags.map(t=>(!iy.includes(t.tag)||!Object.entries(t.props).find(([n,s])=>n.startsWith("on")&&typeof s=="function")||(t.props=ay(t).props),t))},"tags:resolve":function(e){e.tags=e.tags.map(t=>{if(!iy.includes(t.tag))return t;const{props:n,eventHandlers:s}=ay(t);return Object.keys(s).length&&(t.props=n,t._eventHandlers=s),t})},"dom:renderTag":function(e,t,n){if(!e.tag._eventHandlers)return;const s=e.tag.tag==="bodyAttrs"?t.defaultView:e.$el;Object.entries(e.tag._eventHandlers).forEach(([r,i])=>{const a=`${e.tag._d||e.tag._p}:${r}`,l=r.slice(2).toLowerCase(),c=`data-h-${l}`;if(n(e.id,a,()=>{}),e.$el.hasAttribute(c))return;const u=i;e.$el.setAttribute(c,""),s.addEventListener(l,u),e.entry&&n(e.id,a,()=>{s.removeEventListener(l,u),e.$el.removeAttribute(c)})})}}},Mk=["link","style","script","noscript"],Pk={hooks:{"tag:normalise":({tag:e})=>{e.key&&Mk.includes(e.tag)&&(e.props["data-hid"]=e._h=o1(e.key))}}},Dk={hooks:{"tags:resolve":e=>{const t=n=>{var s;return(s=e.tags.find(r=>r._d===n))==null?void 0:s._p};for(const{prefix:n,offset:s}of Ek)for(const r of e.tags.filter(i=>typeof i.tagPriority=="string"&&i.tagPriority.startsWith(n))){const i=t(r.tagPriority.replace(n,""));typeof i<"u"&&(r._p=i+s)}e.tags.sort((n,s)=>n._p-s._p).sort((n,s)=>Hc(n)-Hc(s))}}},Rk={hooks:{"tags:resolve":e=>{var a;const{tags:t}=e,n=(a=t.find(l=>l.tag==="title"))==null?void 0:a.textContent,s=t.findIndex(l=>l.tag==="templateParams"),r=s!==-1?t[s].props:{},i=r.separator||"|";delete r.separator,r.pageTitle=$r(r.pageTitle||n||"",r,i);for(const l of t)l.processTemplateParams!==!1&&(["titleTemplate","title"].includes(l.tag)&&typeof l.textContent=="string"?l.textContent=$r(l.textContent,r,i):l.tag==="meta"&&typeof l.props.content=="string"?l.props.content=$r(l.props.content,r,i):l.tag==="link"&&typeof l.props.href=="string"?l.props.href=$r(l.props.href,r,i):l.processTemplateParams===!0&&(l.innerHTML?l.innerHTML=$r(l.innerHTML,r,i):l.textContent&&(l.textContent=$r(l.textContent,r,i))));e.tags=t.filter(l=>l.tag!=="templateParams")}}},Nk={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n=t.findIndex(r=>r.tag==="titleTemplate");const s=t.findIndex(r=>r.tag==="title");if(s!==-1&&n!==-1){const r=sy(t[n].textContent,t[s].textContent);r!==null?t[s].textContent=r||t[s].textContent:delete t[s]}else if(n!==-1){const r=sy(t[n].textContent);r!==null&&(t[n].textContent=r,t[n].tag="title",n=-1)}n!==-1&&delete t[n],e.tags=t.filter(Boolean)}}};let a1;function jk(e={}){const t=Wk(e);return t.use($k()),a1=t}function ly(e,t){return!e||e==="server"&&t||e==="client"&&!t}function Wk(e={}){const t=yk();t.addHooks(e.hooks||{}),e.document=e.document||(Ck?document:void 0);const n=!e.document;e.plugins=[Ok,Lk,Ik,Pk,Dk,Rk,Nk,...(e==null?void 0:e.plugins)||[]];const s=()=>{a.dirty=!0,t.callHook("entries:updated",a)};let r=0,i=[];const a={dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return i},use(l){const c=typeof l=="function"?l(a):l;ly(c.mode,n)&&t.addHooks(c.hooks||{})},push(l,c){c==null||delete c.head;const u={_i:r++,input:l,...c};return ly(u.mode,n)&&(i.push(u),s()),{dispose(){i=i.filter(h=>h._i!==u._i),t.callHook("entries:updated",a),s()},patch(h){i=i.map(p=>(p._i===u._i&&(p.input=u.input=h),p)),s()}}},async resolveTags(){const l={tags:[],entries:[...i]};await t.callHook("entries:resolve",l);for(const c of l.entries){const u=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(u):u),c.resolvedInput)for(const h of await Bk(c)){const p={tag:h,entry:c,resolvedOptions:a.resolvedOptions};await t.callHook("tag:normalise",p),l.tags.push(p.tag)}}return await t.callHook("tags:beforeResolve",l),await t.callHook("tags:resolve",l),l.tags},ssr:n};return e.plugins.forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function zk(){return a1}const Hk=kp.startsWith("3");function Vk(e){return typeof e=="function"?e():A(e)}function Vc(e,t=""){if(e instanceof Promise)return e;const n=Vk(e);return!e||!n?n:Array.isArray(n)?n.map(s=>Vc(s,t)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([s,r])=>s==="titleTemplate"||s.startsWith("on")?[s,A(r)]:[s,Vc(r,s)])):n}const qk={hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=Vc(t.input)}}},l1="usehead";function Uk(e){return{install(n){Hk&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(l1,e))}}.install}function Yk(e={}){e.domDelayFn=e.domDelayFn||(n=>Dt(()=>setTimeout(()=>n(),0)));const t=jk(e);return t.use(qk),t.install=Uk(t),t}const cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uy="__unhead_injection_handler__";function Gk(){if(uy in cy)return cy[uy]();const e=b(l1);return e||console.warn("Unhead is missing Vue context, falling back to shared context. This may have unexpected results."),e||zk()}function c1(e,t={}){const n=t.head||Gk();if(n)return n.ssr?n.push(e,t):Zk(n,e,t)}function Zk(e,t,n={}){const s=ne(!1),r=ne({});zn(()=>{r.value=s.value?{}:Vc(t)});const i=e.push(r.value,n);return ze(r,l=>{i.patch(l)}),pn()&&(ml(()=>{i.dispose()}),Ev(()=>{s.value=!0}),Bv(()=>{s.value=!1})),i}function Kk(e){const t=e;return t.headTags=e.resolveTags,t.addEntry=e.push,t.addHeadObjs=e.push,t.addReactiveEntry=(n,s)=>{const r=c1(n,s);return typeof r<"u"?r.dispose:()=>{}},t.removeHeadObjs=()=>{},t.updateDOM=()=>{e.hooks.callHook("entries:updated",e)},t.unhead=e,t}function Xk(e,t){const n=Yk(t||{}),s=Kk(n);return e&&s.push(e),s}let Jk=e=>crypto.getRandomValues(new Uint8Array(e)),Qk=(e,t,n)=>{let s=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*s*t/e.length);return(i=t)=>{let a="";for(;;){let l=n(r),c=r;for(;c--;)if(a+=e[l[c]&s]||"",a.length===i)return a}}},eB=(e,t=21)=>Qk(e,t,Jk),tB=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function Tp(e,t){if(!e)return!1;const n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}function nB(...e){let t,n,s;e.length===1?(t=0,s=1,[n]=e):[t,n,s=1]=e;const r=[];let i=t;for(;i<n;)r.push(i),i+=s||1;return r}function sB(e){return e!=null}function oB(e,t){return Object.fromEntries(Object.entries(e).map(([n,s])=>t(n,s)).filter(sB))}function hy(e){return Object.keys(e).forEach(t=>e[t]===void 0?delete e[t]:{}),e}const ma={theme:"default",title:"Processes, StateCharts and WorkFlows",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!0,export:{},info:`<p>Mattia Manzati</p>
`,highlighter:"shiki",lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:850,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"unocss",presenter:!0,htmlAttrs:{},transition:"slide-left",editor:!0,class:"text-center",layout:"image",image:"/image-cover.jpeg",mdc:!0},st=ma,or=st.aspectRatio??16/9,rr=st.canvasWidth??980,ef=Math.ceil(rr/or),tf=m(()=>oB(st.themeConfig||{},(e,t)=>[`--slidev-theme-${e}`,t]));function u1(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function Ln(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!1})}const ci=M({page:0,clicks:0});let rB=[],iB=[];Ln(ci,"$syncUp",!0);Ln(ci,"$syncDown",!0);Ln(ci,"$paused",!1);Ln(ci,"$onSet",e=>rB.push(e));Ln(ci,"$onPatch",e=>iB.push(e));u1();Ln(ci,"$patch",async()=>!1);function h1(e,t,n=!1){const s=[];let r=!1,i=!1,a,l;const c=M(t);function u(f){s.push(f)}function h(f,g){c[f]!==g&&(clearTimeout(a),r=!0,c[f]=g,a=setTimeout(()=>r=!1,0))}function p(f){r||(clearTimeout(l),i=!0,Object.entries(f).forEach(([g,_])=>{c[g]=_}),l=setTimeout(()=>i=!1,0))}function d(f){let g;n?n&&window.addEventListener("storage",w=>{w&&w.key===f&&w.newValue&&p(JSON.parse(w.newValue))}):(g=new BroadcastChannel(f),g.addEventListener("message",w=>p(w.data)));function _(){!n&&g&&!i?g.postMessage(We(c)):n&&!i&&window.localStorage.setItem(f,JSON.stringify(c)),r||s.forEach(w=>w(c))}if(ze(c,_,{deep:!0,flush:"sync"}),n){const w=window.localStorage.getItem(f);w&&p(JSON.parse(w))}}return{init:d,onPatch:u,patch:h,state:c}}const{init:aB,onPatch:lB,patch:Ji,state:Eh}=h1(ci,{page:1,clicks:0,viewerPage:1,viewerClicks:0}),ui=M({});let cB=[],uB=[];Ln(ui,"$syncUp",!0);Ln(ui,"$syncDown",!0);Ln(ui,"$paused",!1);Ln(ui,"$onSet",e=>cB.push(e));Ln(ui,"$onPatch",e=>uB.push(e));u1();Ln(ui,"$patch",async()=>!1);const{init:hB,onPatch:pB,patch:p1,state:qc}=h1(ui,{},!1),dB="modulepreload",fB=function(e){return"/"+e},py={},ht=function(t,n,s){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=fB(i),i in py)return;py[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let h=r.length-1;h>=0;h--){const p=r[h];if(p.href===i&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":dB,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};function mB(e,t){let n,s,r;const i=ne(!0),a=()=>{i.value=!0,r()};ze(e,a,{flush:"sync"});const l=typeof t=="function"?t:t.get,c=typeof t=="function"?void 0:t.set,u=Wd((h,p)=>(s=h,r=p,{get(){return i.value&&(n=l(),i.value=!1),s(),n},set(d){c==null||c(d)}}));return Object.isExtensible(u)&&(u.trigger=a),u}function _o(e){return W_()?(cC(e),!0):!1}function gt(e){return typeof e=="function"?e():A(e)}function yB(e){if(!ot(e))return M(e);const t=new Proxy({},{get(n,s,r){return A(Reflect.get(e.value,s,r))},set(n,s,r){return ot(e.value[s])&&!ot(r)?e.value[s].value=r:e.value[s]=r,!0},deleteProperty(n,s){return Reflect.deleteProperty(e.value,s)},has(n,s){return Reflect.has(e.value,s)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return M(t)}const un=typeof window<"u"&&typeof document<"u",gB=e=>typeof e<"u",_B=e=>e!=null,vB=Object.prototype.toString,za=e=>vB.call(e)==="[object Object]",Ap=()=>+Date.now(),ir=()=>{},bB=CB();function CB(){var e;return un&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function wB(e,t){function n(...s){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(r).catch(i)})}return n}const d1=e=>e();function xB(e=d1){const t=ne(!0);function n(){t.value=!1}function s(){t.value=!0}const r=(...i)=>{t.value&&e(...i)};return{isActive:jn(t),pause:n,resume:s,eventFilter:r}}function kB(e,t){var n;if(typeof e=="number")return e+t;const s=((n=e.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:n[0])||"",r=e.slice(s.length),i=Number.parseFloat(s)+t;return Number.isNaN(i)?e:i+r}function BB(...e){if(e.length!==1)return ye(...e);const t=e[0];return typeof t=="function"?jn(Wd(()=>({get:t,set:ir}))):ne(t)}function EB(e,t,n={}){const{eventFilter:s=d1,...r}=n;return ze(e,wB(s,t),r)}function TB(e,t,n={}){const{eventFilter:s,...r}=n,{eventFilter:i,pause:a,resume:l,isActive:c}=xB(s);return{stop:EB(e,t,{...r,eventFilter:i}),pause:a,resume:l,isActive:c}}function AB(e,t={}){if(!ot(e))return WC(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const s in e.value)n[s]=Wd(()=>({get(){return e.value[s]},set(r){var i;if((i=gt(t.replaceRef))!=null?i:!0)if(Array.isArray(e.value)){const l=[...e.value];l[s]=r,e.value=l}else{const l={...e.value,[s]:r};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[s]=r}}));return n}function f1(e,t=!0){pn()?_r(e):t?e():Dt(e)}function SB(e){pn()&&Iu(e)}function $B(e,t=1e3,n={}){const{immediate:s=!0,immediateCallback:r=!1}=n;let i=null;const a=ne(!1);function l(){i&&(clearInterval(i),i=null)}function c(){a.value=!1,l()}function u(){const h=gt(t);h<=0||(a.value=!0,r&&e(),l(),i=setInterval(e,h))}if(s&&un&&u(),ot(t)||typeof t=="function"){const h=ze(t,()=>{a.value&&un&&u()});_o(h)}return _o(c),{isActive:a,pause:c,resume:u}}function FB(e,t,n={}){const{immediate:s=!0}=n,r=ne(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}function l(){r.value=!1,a()}function c(...u){a(),r.value=!0,i=setTimeout(()=>{r.value=!1,i=null,e(...u)},gt(t))}return s&&(r.value=!0,un&&c()),_o(l),{isPending:jn(r),start:c,stop:l}}function m1(e=!1,t={}){const{truthyValue:n=!0,falsyValue:s=!1}=t,r=ot(e),i=ne(e);function a(l){if(arguments.length)return i.value=l,i.value;{const c=gt(n);return i.value=i.value===c?gt(s):c,i.value}}return r?a:[i,a]}function Rt(e){var t;const n=gt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const It=un?window:void 0,y1=un?window.document:void 0,OB=un?window.navigator:void 0;function Ge(...e){let t,n,s,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,r]=e,t=It):[t,n,s,r]=e,!t)return ir;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],a=()=>{i.forEach(h=>h()),i.length=0},l=(h,p,d,f)=>(h.addEventListener(p,d,f),()=>h.removeEventListener(p,d,f)),c=ze(()=>[Rt(t),gt(r)],([h,p])=>{if(a(),!h)return;const d=za(p)?{...p}:p;i.push(...n.flatMap(f=>s.map(g=>l(h,f,g,d))))},{immediate:!0,flush:"post"}),u=()=>{c(),a()};return _o(u),u}let dy=!1;function LB(e,t,n={}){const{window:s=It,ignore:r=[],capture:i=!0,detectIframe:a=!1}=n;if(!s)return;bB&&!dy&&(dy=!0,Array.from(s.document.body.children).forEach(d=>d.addEventListener("click",ir)),s.document.documentElement.addEventListener("click",ir));let l=!0;const c=d=>r.some(f=>{if(typeof f=="string")return Array.from(s.document.querySelectorAll(f)).some(g=>g===d.target||d.composedPath().includes(g));{const g=Rt(f);return g&&(d.target===g||d.composedPath().includes(g))}}),h=[Ge(s,"click",d=>{const f=Rt(e);if(!(!f||f===d.target||d.composedPath().includes(f))){if(d.detail===0&&(l=!c(d)),!l){l=!0;return}t(d)}},{passive:!0,capture:i}),Ge(s,"pointerdown",d=>{const f=Rt(e);f&&(l=!d.composedPath().includes(f)&&!c(d))},{passive:!0}),a&&Ge(s,"blur",d=>{setTimeout(()=>{var f;const g=Rt(e);((f=s.document.activeElement)==null?void 0:f.tagName)==="IFRAME"&&!(g!=null&&g.contains(s.document.activeElement))&&t(d)},0)})].filter(Boolean);return()=>h.forEach(d=>d())}function IB(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function MB(...e){let t,n,s={};e.length===3?(t=e[0],n=e[1],s=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],s=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=It,eventName:i="keydown",passive:a=!1,dedupe:l=!1}=s,c=IB(t);return Ge(r,i,h=>{h.repeat&&gt(l)||c(h)&&n(h)},a)}function PB(e={}){var t;const{window:n=It,deep:s=!0}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,i=()=>{var l;let c=r==null?void 0:r.activeElement;if(s)for(;c!=null&&c.shadowRoot;)c=(l=c==null?void 0:c.shadowRoot)==null?void 0:l.activeElement;return c},a=mB(()=>null,()=>i());return n&&(Ge(n,"blur",l=>{l.relatedTarget===null&&a.trigger()},!0),Ge(n,"focus",a.trigger,!0)),a}function DB(){const e=ne(!1);return pn()&&_r(()=>{e.value=!0}),e}function gl(e){const t=DB();return m(()=>(t.value,!!e()))}function g1(e,t={}){const{immediate:n=!0,window:s=It}=t,r=ne(!1);let i=0,a=null;function l(h){if(!r.value||!s)return;const p=h-(i||h);e({delta:p,timestamp:h}),i=h,a=s.requestAnimationFrame(l)}function c(){!r.value&&s&&(r.value=!0,a=s.requestAnimationFrame(l))}function u(){r.value=!1,a!=null&&s&&(s.cancelAnimationFrame(a),a=null)}return n&&c(),_o(u),{isActive:jn(r),pause:u,resume:c}}function Pr(e,t={}){const{window:n=It}=t,s=gl(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=ne(!1),a=u=>{i.value=u.matches},l=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},c=zn(()=>{s.value&&(l(),r=n.matchMedia(gt(e)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),i.value=r.matches)});return _o(()=>{c(),l(),r=void 0}),i}const RB={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function NB(e,t={}){function n(l,c){let u=e[l];return c!=null&&(u=kB(u,c)),typeof u=="number"&&(u=`${u}px`),u}const{window:s=It}=t;function r(l){return s?s.matchMedia(l).matches:!1}const i=l=>Pr(`(min-width: ${n(l)})`,t),a=Object.keys(e).reduce((l,c)=>(Object.defineProperty(l,c,{get:()=>i(c),enumerable:!0,configurable:!0}),l),{});return Object.assign(a,{greater(l){return Pr(`(min-width: ${n(l,.1)})`,t)},greaterOrEqual:i,smaller(l){return Pr(`(max-width: ${n(l,-.1)})`,t)},smallerOrEqual(l){return Pr(`(max-width: ${n(l)})`,t)},between(l,c){return Pr(`(min-width: ${n(l)}) and (max-width: ${n(c,-.1)})`,t)},isGreater(l){return r(`(min-width: ${n(l,.1)})`)},isGreaterOrEqual(l){return r(`(min-width: ${n(l)})`)},isSmaller(l){return r(`(max-width: ${n(l,-.1)})`)},isSmallerOrEqual(l){return r(`(max-width: ${n(l)})`)},isInBetween(l,c){return r(`(min-width: ${n(l)}) and (max-width: ${n(c,-.1)})`)},current(){const l=Object.keys(e).map(c=>[c,i(c)]);return m(()=>l.filter(([,c])=>c.value).map(([c])=>c))}})}function jB(e={}){const{navigator:t=OB,read:n=!1,source:s,copiedDuring:r=1500,legacy:i=!1}=e,a=gl(()=>t&&"clipboard"in t),l=m(()=>a.value||i),c=ne(""),u=ne(!1),h=FB(()=>u.value=!1,r);function p(){a.value?t.clipboard.readText().then(_=>{c.value=_}):c.value=g()}l.value&&n&&Ge(["copy","cut"],p);async function d(_=gt(s)){l.value&&_!=null&&(a.value?await t.clipboard.writeText(_):f(_),c.value=_,u.value=!0,h.start())}function f(_){const w=document.createElement("textarea");w.value=_??"",w.style.position="absolute",w.style.opacity="0",document.body.appendChild(w),w.select(),document.execCommand("copy"),w.remove()}function g(){var _,w,E;return(E=(w=(_=document==null?void 0:document.getSelection)==null?void 0:_.call(document))==null?void 0:w.toString())!=null?E:""}return{isSupported:l,text:c,copied:u,copy:d}}function WB(e){return JSON.parse(JSON.stringify(e))}const Wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zl="__vueuse_ssr_handlers__",zB=HB();function HB(){return zl in Wl||(Wl[zl]=Wl[zl]||{}),Wl[zl]}function VB(e,t){return zB[e]||t}function qB(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const UB={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},fy="vueuse-storage";function YB(e,t,n,s={}){var r;const{flush:i="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:c=!0,mergeDefaults:u=!1,shallow:h,window:p=It,eventFilter:d,onError:f=N=>{console.error(N)}}=s,g=(h?go:ne)(t);if(!n)try{n=VB("getDefaultStorage",()=>{var N;return(N=It)==null?void 0:N.localStorage})()}catch(N){f(N)}if(!n)return g;const _=gt(t),w=qB(_),E=(r=s.serializer)!=null?r:UB[w],{pause:x,resume:C}=TB(g,()=>F(g.value),{flush:i,deep:a,eventFilter:d});return p&&l&&(Ge(p,"storage",I),Ge(p,fy,P)),I(),g;function F(N){try{if(N==null)n.removeItem(e);else{const V=E.write(N),q=n.getItem(e);q!==V&&(n.setItem(e,V),p&&p.dispatchEvent(new CustomEvent(fy,{detail:{key:e,oldValue:q,newValue:V,storageArea:n}})))}}catch(V){f(V)}}function T(N){const V=N?N.newValue:n.getItem(e);if(V==null)return c&&_!==null&&n.setItem(e,E.write(_)),_;if(!N&&u){const q=E.read(V);return typeof u=="function"?u(q,_):w==="object"&&!Array.isArray(q)?{..._,...q}:q}else return typeof V!="string"?V:E.read(V)}function P(N){I(N.detail)}function I(N){if(!(N&&N.storageArea!==n)){if(N&&N.key==null){g.value=_;return}if(!(N&&N.key!==e)){x();try{(N==null?void 0:N.newValue)!==E.write(g.value)&&(g.value=T(N))}catch(V){f(V)}finally{N?Dt(C):C()}}}}}function GB(e){return Pr("(prefers-color-scheme: dark)",e)}function JJ(e,t={}){var n,s;const{pointerTypes:r,preventDefault:i,stopPropagation:a,exact:l,onMove:c,onEnd:u,onStart:h,initialValue:p,axis:d="both",draggingElement:f=It,containerElement:g,handle:_=e}=t,w=ne((n=gt(p))!=null?n:{x:0,y:0}),E=ne(),x=I=>r?r.includes(I.pointerType):!0,C=I=>{gt(i)&&I.preventDefault(),gt(a)&&I.stopPropagation()},F=I=>{var N;if(!x(I)||gt(l)&&I.target!==gt(e))return;const q=((N=gt(g))!=null?N:gt(e)).getBoundingClientRect(),ve={x:I.clientX-q.left,y:I.clientY-q.top};(h==null?void 0:h(ve,I))!==!1&&(E.value=ve,C(I))},T=I=>{if(!x(I)||!E.value)return;let{x:N,y:V}=w.value;(d==="x"||d==="both")&&(N=I.clientX-E.value.x),(d==="y"||d==="both")&&(V=I.clientY-E.value.y),w.value={x:N,y:V},c==null||c(w.value,I),C(I)},P=I=>{x(I)&&E.value&&(E.value=void 0,u==null||u(w.value,I),C(I))};if(un){const I={capture:(s=t.capture)!=null?s:!0};Ge(_,"pointerdown",F,I),Ge(f,"pointermove",T,I),Ge(f,"pointerup",P,I)}return{...AB(w),position:w,isDragging:m(()=>!!E.value),style:m(()=>`left:${w.value.x}px;top:${w.value.y}px;`)}}function ZB(e,t,n={}){const{window:s=It,...r}=n;let i;const a=gl(()=>s&&"ResizeObserver"in s),l=()=>{i&&(i.disconnect(),i=void 0)},c=m(()=>Array.isArray(e)?e.map(p=>Rt(p)):[Rt(e)]),u=ze(c,p=>{if(l(),a.value&&s){i=new ResizeObserver(t);for(const d of p)d&&i.observe(d,r)}},{immediate:!0,flush:"post",deep:!0}),h=()=>{l(),u()};return _o(h),{isSupported:a,stop:h}}function KB(e,t={width:0,height:0},n={}){const{window:s=It,box:r="content-box"}=n,i=m(()=>{var c,u;return(u=(c=Rt(e))==null?void 0:c.namespaceURI)==null?void 0:u.includes("svg")}),a=ne(t.width),l=ne(t.height);return ZB(e,([c])=>{const u=r==="border-box"?c.borderBoxSize:r==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(s&&i.value){const h=Rt(e);if(h){const p=s.getComputedStyle(h);a.value=Number.parseFloat(p.width),l.value=Number.parseFloat(p.height)}}else if(u){const h=Array.isArray(u)?u:[u];a.value=h.reduce((p,{inlineSize:d})=>p+d,0),l.value=h.reduce((p,{blockSize:d})=>p+d,0)}else a.value=c.contentRect.width,l.value=c.contentRect.height},n),ze(()=>Rt(e),c=>{a.value=c?t.width:0,l.value=c?t.height:0}),{width:a,height:l}}function XB(e,t,n={}){const{root:s,rootMargin:r="0px",threshold:i=.1,window:a=It,immediate:l=!0}=n,c=gl(()=>a&&"IntersectionObserver"in a),u=m(()=>{const g=gt(e);return(Array.isArray(g)?g:[g]).map(Rt).filter(_B)});let h=ir;const p=ne(l),d=c.value?ze(()=>[u.value,Rt(s),p.value],([g,_])=>{if(h(),!p.value||!g.length)return;const w=new IntersectionObserver(t,{root:Rt(_),rootMargin:r,threshold:i});g.forEach(E=>E&&w.observe(E)),h=()=>{w.disconnect(),h=ir}},{immediate:l,flush:"post"}):ir,f=()=>{h(),d(),p.value=!1};return _o(f),{isSupported:c,isActive:p,pause(){h(),p.value=!1},resume(){p.value=!0},stop:f}}const my=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function JB(e,t={}){const{document:n=y1,autoExit:s=!1}=t,r=m(()=>{var E;return(E=Rt(e))!=null?E:n==null?void 0:n.querySelector("html")}),i=ne(!1),a=m(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(E=>n&&E in n||r.value&&E in r.value)),l=m(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(E=>n&&E in n||r.value&&E in r.value)),c=m(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(E=>n&&E in n||r.value&&E in r.value)),u=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(E=>n&&E in n),h=gl(()=>r.value&&n&&a.value!==void 0&&l.value!==void 0&&c.value!==void 0),p=()=>u?(n==null?void 0:n[u])===r.value:!1,d=()=>{if(c.value){if(n&&n[c.value]!=null)return n[c.value];{const E=r.value;if((E==null?void 0:E[c.value])!=null)return!!E[c.value]}}return!1};async function f(){if(!(!h.value||!i.value)){if(l.value)if((n==null?void 0:n[l.value])!=null)await n[l.value]();else{const E=r.value;(E==null?void 0:E[l.value])!=null&&await E[l.value]()}i.value=!1}}async function g(){if(!h.value||i.value)return;d()&&await f();const E=r.value;a.value&&(E==null?void 0:E[a.value])!=null&&(await E[a.value](),i.value=!0)}async function _(){await(i.value?f():g())}const w=()=>{const E=d();(!E||E&&p())&&(i.value=E)};return Ge(n,my,w,!1),Ge(()=>Rt(r),my,w,!1),s&&_o(f),{isSupported:h,isFullscreen:i,enter:g,exit:f,toggle:_}}function Yn(e,t,n={}){const{window:s=It}=n;return YB(e,t,s==null?void 0:s.localStorage,n)}const QB={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function e6(e={}){const{reactive:t=!1,target:n=It,aliasMap:s=QB,passive:r=!0,onEventFired:i=ir}=e,a=M(new Set),l={toJSON(){return{}},current:a},c=t?M(l):l,u=new Set,h=new Set;function p(_,w){_ in c&&(t?c[_]=w:c[_].value=w)}function d(){a.clear();for(const _ of h)p(_,!1)}function f(_,w){var E,x;const C=(E=_.key)==null?void 0:E.toLowerCase(),T=[(x=_.code)==null?void 0:x.toLowerCase(),C].filter(Boolean);C&&(w?a.add(C):a.delete(C));for(const P of T)h.add(P),p(P,w);C==="meta"&&!w?(u.forEach(P=>{a.delete(P),p(P,!1)}),u.clear()):typeof _.getModifierState=="function"&&_.getModifierState("Meta")&&w&&[...a,...T].forEach(P=>u.add(P))}Ge(n,"keydown",_=>(f(_,!0),i(_)),{passive:r}),Ge(n,"keyup",_=>(f(_,!1),i(_)),{passive:r}),Ge("blur",d,{passive:!0}),Ge("focus",d,{passive:!0});const g=new Proxy(c,{get(_,w,E){if(typeof w!="string")return Reflect.get(_,w,E);if(w=w.toLowerCase(),w in s&&(w=s[w]),!(w in c))if(/[+_-]/.test(w)){const C=w.split(/[+_-]/g).map(F=>F.trim());c[w]=m(()=>C.every(F=>gt(g[F])))}else c[w]=ne(!1);const x=Reflect.get(_,w,E);return t?gt(x):x}});return g}const t6={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function QJ(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:s=!1,initialValue:r={x:0,y:0},window:i=It,target:a=i,scroll:l=!0,eventFilter:c}=e;let u=null;const h=ne(r.x),p=ne(r.y),d=ne(null),f=typeof t=="function"?t:t6[t],g=T=>{const P=f(T);u=T,P&&([h.value,p.value]=P,d.value="mouse")},_=T=>{if(T.touches.length>0){const P=f(T.touches[0]);P&&([h.value,p.value]=P,d.value="touch")}},w=()=>{if(!u||!i)return;const T=f(u);u instanceof MouseEvent&&T&&(h.value=T[0]+i.scrollX,p.value=T[1]+i.scrollY)},E=()=>{h.value=r.x,p.value=r.y},x=c?T=>c(()=>g(T),{}):T=>g(T),C=c?T=>c(()=>_(T),{}):T=>_(T),F=c?()=>c(()=>w(),{}):()=>w();if(a){const T={passive:!0};Ge(a,["mousemove","dragover"],x,T),n&&t!=="movement"&&(Ge(a,["touchstart","touchmove"],C,T),s&&Ge(a,"touchend",E,T)),l&&t==="page"&&Ge(i,"scroll",F,{passive:!0})}return{x:h,y:p,sourceType:d}}function n6(e,t={}){const n=BB(e),{threshold:s=50,onSwipe:r,onSwipeEnd:i,onSwipeStart:a}=t,l=M({x:0,y:0}),c=(P,I)=>{l.x=P,l.y=I},u=M({x:0,y:0}),h=(P,I)=>{u.x=P,u.y=I},p=m(()=>l.x-u.x),d=m(()=>l.y-u.y),{max:f,abs:g}=Math,_=m(()=>f(g(p.value),g(d.value))>=s),w=ne(!1),E=ne(!1),x=m(()=>_.value?g(p.value)>g(d.value)?p.value>0?"left":"right":d.value>0?"up":"down":"none"),C=P=>{var I,N,V;const q=P.buttons===0,ve=P.buttons===1;return(V=(N=(I=t.pointerTypes)==null?void 0:I.includes(P.pointerType))!=null?N:q||ve)!=null?V:!0},F=[Ge(e,"pointerdown",P=>{var I,N;if(!C(P))return;E.value=!0,(N=(I=n.value)==null?void 0:I.style)==null||N.setProperty("touch-action","none");const V=P.target;V==null||V.setPointerCapture(P.pointerId);const{clientX:q,clientY:ve}=P;c(q,ve),h(q,ve),a==null||a(P)}),Ge(e,"pointermove",P=>{if(!C(P)||!E.value)return;const{clientX:I,clientY:N}=P;h(I,N),!w.value&&_.value&&(w.value=!0),w.value&&(r==null||r(P))}),Ge(e,"pointerup",P=>{var I,N;C(P)&&(w.value&&(i==null||i(P,x.value)),E.value=!1,w.value=!1,(N=(I=n.value)==null?void 0:I.style)==null||N.setProperty("touch-action","initial"))})],T=()=>F.forEach(P=>P());return{isSwiping:jn(w),direction:jn(x),posStart:jn(l),posEnd:jn(u),distanceX:p,distanceY:d,stop:T}}let s6=0;function eQ(e,t={}){const n=ne(!1),{document:s=y1,immediate:r=!0,manual:i=!1,id:a=`vueuse_styletag_${++s6}`}=t,l=ne(e);let c=()=>{};const u=()=>{if(!s)return;const p=s.getElementById(a)||s.createElement("style");p.isConnected||(p.id=a,t.media&&(p.media=t.media),s.head.appendChild(p)),!n.value&&(c=ze(l,d=>{p.textContent=d},{immediate:!0}),n.value=!0)},h=()=>{!s||!n.value||(c(),s.head.removeChild(s.getElementById(a)),n.value=!1)};return r&&!i&&f1(u),i||_o(h),{id:a,css:l,unload:h,load:u,isLoaded:jn(n)}}function o6(e={}){const{controls:t=!1,offset:n=0,immediate:s=!0,interval:r="requestAnimationFrame",callback:i}=e,a=ne(Ap()+n),l=()=>a.value=Ap()+n,c=i?()=>{l(),i(a.value)}:l,u=r==="requestAnimationFrame"?g1(c,{immediate:s}):$B(c,r,{immediate:s});return t?{timestamp:a,...u}:a}function lo(e,t,n,s={}){var r,i,a;const{clone:l=!1,passive:c=!1,eventName:u,deep:h=!1,defaultValue:p,shouldEmit:d}=s,f=pn(),g=n||(f==null?void 0:f.emit)||((r=f==null?void 0:f.$emit)==null?void 0:r.bind(f))||((a=(i=f==null?void 0:f.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(f==null?void 0:f.proxy));let _=u;t||(t="modelValue"),_=_||`update:${t.toString()}`;const w=C=>l?typeof l=="function"?l(C):WB(C):C,E=()=>gB(e[t])?w(e[t]):p,x=C=>{d?d(C)&&g(_,C):g(_,C)};if(c){const C=E(),F=ne(C);let T=!1;return ze(()=>e[t],P=>{T||(T=!0,F.value=w(P),Dt(()=>T=!1))}),ze(F,P=>{!T&&(P!==e[t]||h)&&x(P)},{deep:h}),F}else return m({get(){return E()},set(C){x(C)}})}function tQ({window:e=It}={}){if(!e)return ne(!1);const t=ne(e.document.hasFocus());return Ge(e,"blur",()=>{t.value=!1}),Ge(e,"focus",()=>{t.value=!0}),t}function r6(e={}){const{window:t=It,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:i=!0}=e,a=ne(n),l=ne(s),c=()=>{t&&(i?(a.value=t.innerWidth,l.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight))};if(c(),f1(c),Ge("resize",c,{passive:!0}),r){const u=Pr("(orientation: portrait)");ze(u,()=>c())}return{width:a,height:l}}function i6(){return _1().__VUE_DEVTOOLS_GLOBAL_HOOK__}function _1(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const a6=typeof Proxy=="function",l6="devtools-plugin:setup",c6="plugin:settings:set";let gi,Sp;function u6(){var e;return gi!==void 0||(typeof window<"u"&&window.performance?(gi=!0,Sp=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(gi=!0,Sp=global.perf_hooks.performance):gi=!1),gi}function h6(){return u6()?Sp.now():Date.now()}class p6{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const s={};if(t.settings)for(const a in t.settings){const l=t.settings[a];s[a]=l.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},s);try{const a=localStorage.getItem(r),l=JSON.parse(a);Object.assign(i,l)}catch{}this.fallbacks={getSettings(){return i},setSettings(a){try{localStorage.setItem(r,JSON.stringify(a))}catch{}i=a},now(){return h6()}},n&&n.on(c6,(a,l)=>{a===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(a,l)=>this.target?this.target.on[l]:(...c)=>{this.onQueue.push({method:l,args:c})}}),this.proxiedTarget=new Proxy({},{get:(a,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...c)=>(this.targetQueue.push({method:l,args:c,resolve:()=>{}}),this.fallbacks[l](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:l,args:c,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function d6(e,t){const n=e,s=_1(),r=i6(),i=a6&&n.enableEarlyProxy;if(r&&(s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))r.emit(l6,e,t);else{const a=i?new p6(n,r):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Oo=typeof window<"u";function f6(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const at=Object.assign;function Th(e,t){const n={};for(const s in t){const r=t[s];n[s]=bn(r)?r.map(e):e(r)}return n}const wa=()=>{},bn=Array.isArray;function Je(e){const t=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+e].concat(t))}const m6=/\/$/,y6=e=>e.replace(m6,"");function Ah(e,t,n="/"){let s,r={},i="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),r=e(i)),l>-1&&(s=s||t.slice(0,l),a=t.slice(l,t.length)),s=v6(s??t,n),{fullPath:s+(i&&"?")+i+a,path:s,query:r,hash:a}}function g6(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function yy(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gy(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&fr(t.matched[s],n.matched[r])&&v1(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function fr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function v1(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_6(e[n],t[n]))return!1;return!0}function _6(e,t){return bn(e)?_y(e,t):bn(t)?_y(t,e):e===t}function _y(e,t){return bn(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function v6(e,t){if(e.startsWith("/"))return e;if(!t.startsWith("/"))return Je(`Cannot resolve a relative location without an absolute path. Trying to resolve "${e}" from "${t}". It should look like "/${t}".`),e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(a-(a===s.length?1:0)).join("/")}var Ha;(function(e){e.pop="pop",e.push="push"})(Ha||(Ha={}));var xa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xa||(xa={}));function b6(e){if(!e)if(Oo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),y6(e)}const C6=/^[^#]+#/;function w6(e,t){return e.replace(C6,"#")+t}function x6(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ru=()=>({left:window.pageXOffset,top:window.pageYOffset});function k6(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#");if(typeof e.el=="string"&&(!s||!document.getElementById(e.el.slice(1))))try{const i=document.querySelector(e.el);if(s&&i){Je(`The selector "${e.el}" should be passed as "el: document.querySelector('${e.el}')" because it starts with "#".`);return}}catch{Je(`The selector "${e.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r){Je(`Couldn't find element using selector "${e.el}" returned by scrollBehavior.`);return}t=x6(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function vy(e,t){return(history.state?history.state.position-t:-1)+e}const $p=new Map;function B6(e,t){$p.set(e,t)}function E6(e){const t=$p.get(e);return $p.delete(e),t}let T6=()=>location.protocol+"//"+location.host;function b1(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let l=r.includes(e.slice(i))?e.slice(i).length:1,c=r.slice(l);return c[0]!=="/"&&(c="/"+c),yy(c,"")}return yy(n,e)+s+r}function A6(e,t,n,s){let r=[],i=[],a=null;const l=({state:d})=>{const f=b1(e,location),g=n.value,_=t.value;let w=0;if(d){if(n.value=f,t.value=d,a&&a===g){a=null;return}w=_?d.position-_.position:0}else s(f);r.forEach(E=>{E(n.value,g,{delta:w,type:Ha.pop,direction:w?w>0?xa.forward:xa.back:xa.unknown})})};function c(){a=n.value}function u(d){r.push(d);const f=()=>{const g=r.indexOf(d);g>-1&&r.splice(g,1)};return i.push(f),f}function h(){const{history:d}=window;d.state&&d.replaceState(at({},d.state,{scroll:Ru()}),"")}function p(){for(const d of i)d();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:u,destroy:p}}function by(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Ru():null}}function S6(e){const{history:t,location:n}=window,s={value:b1(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,u,h){const p=e.indexOf("#"),d=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+c:T6()+e+c;try{t[h?"replaceState":"pushState"](u,"",d),r.value=u}catch(f){Je("Error with push/replace State",f),n[h?"replace":"assign"](d)}}function a(c,u){const h=at({},t.state,by(r.value.back,c,r.value.forward,!0),u,{position:r.value.position});i(c,h,!0),s.value=c}function l(c,u){const h=at({},r.value,t.state,{forward:c,scroll:Ru()});t.state||Je(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),i(h.current,h,!0);const p=at({},by(s.value,c,null),{position:h.position+1},u);i(c,p,!1),s.value=c}return{location:s,state:r,push:l,replace:a}}function $6(e){e=b6(e);const t=S6(e),n=A6(e,t.state,t.location,t.replace);function s(i,a=!0){a||n.pauseListeners(),history.go(i)}const r=at({location:"",base:e,go:s,createHref:w6.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function F6(e){return typeof e=="string"||e&&typeof e=="object"}function C1(e){return typeof e=="string"||typeof e=="symbol"}const Vo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},w1=Symbol("navigation failure");var Cy;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Cy||(Cy={}));const O6={1({location:e,currentLocation:t}){return`No match for
 ${JSON.stringify(e)}${t?`
while being at
`+JSON.stringify(t):""}`},2({from:e,to:t}){return`Redirected from "${e.fullPath}" to "${I6(t)}" via a navigation guard.`},4({from:e,to:t}){return`Navigation aborted from "${e.fullPath}" to "${t.fullPath}" via a navigation guard.`},8({from:e,to:t}){return`Navigation cancelled from "${e.fullPath}" to "${t.fullPath}" with a new navigation.`},16({from:e,to:t}){return`Avoided redundant navigation to current location: "${e.fullPath}".`}};function Ii(e,t){return at(new Error(O6[e](t)),{type:e,[w1]:!0},t)}function ko(e,t){return e instanceof Error&&w1 in e&&(t==null||!!(e.type&t))}const L6=["params","query","hash"];function I6(e){if(typeof e=="string")return e;if("path"in e)return e.path;const t={};for(const n of L6)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}const wy="[^/]+?",M6={sensitive:!1,strict:!1,start:!0,end:!0},P6=/[.+*?^${}()[\]/\\]/g;function D6(e,t){const n=at({},M6,t),s=[];let r=n.start?"^":"";const i=[];for(const u of e){const h=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let p=0;p<u.length;p++){const d=u[p];let f=40+(n.sensitive?.25:0);if(d.type===0)p||(r+="/"),r+=d.value.replace(P6,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:_,optional:w,regexp:E}=d;i.push({name:g,repeatable:_,optional:w});const x=E||wy;if(x!==wy){f+=10;try{new RegExp(`(${x})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${g}" (${x}): `+F.message)}}let C=_?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;p||(C=w&&u.length<2?`(?:/${C})`:"/"+C),w&&(C+="?"),r+=C,f+=20,w&&(f+=-8),_&&(f+=-20),x===".*"&&(f+=-50)}h.push(f)}s.push(h)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function l(u){const h=u.match(a),p={};if(!h)return null;for(let d=1;d<h.length;d++){const f=h[d]||"",g=i[d-1];p[g.name]=f&&g.repeatable?f.split("/"):f}return p}function c(u){let h="",p=!1;for(const d of e){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const f of d)if(f.type===0)h+=f.value;else if(f.type===1){const{value:g,repeatable:_,optional:w}=f,E=g in u?u[g]:"";if(bn(E)&&!_)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const x=bn(E)?E.join("/"):E;if(!x)if(w)d.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${g}"`);h+=x}}return h||"/"}return{re:a,score:s,keys:i,parse:l,stringify:c}}function R6(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function N6(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=R6(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(xy(s))return 1;if(xy(r))return-1}return r.length-s.length}function xy(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const j6={type:0,value:""},W6=/[a-zA-Z0-9_]/;function z6(e){if(!e)return[[]];if(e==="/")return[[j6]];if(!e.startsWith("/"))throw new Error(`Route paths should start with a "/": "${e}" should be "/${e}".`);function t(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,s=n;const r=[];let i;function a(){i&&r.push(i),i=[]}let l=0,c,u="",h="";function p(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(u&&p(),a()):c===":"?(p(),n=1):d();break;case 4:d(),n=s;break;case 1:c==="("?n=2:W6.test(c)?d():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),p(),a(),r}function H6(e,t,n){const s=D6(z6(e.path),n);{const i=new Set;for(const a of s.keys)i.has(a.name)&&Je(`Found duplicated params with name "${a.name}" for path "${e.path}". Only the last one will be available on "$route.params".`),i.add(a.name)}const r=at(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function V6(e,t){const n=[],s=new Map;t=Ey({strict:!1,end:!0,sensitive:!1},t);function r(h){return s.get(h)}function i(h,p,d){const f=!d,g=q6(h);Z6(g,p),g.aliasOf=d&&d.record;const _=Ey(t,h),w=[g];if("alias"in h){const C=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of C)w.push(at({},g,{components:d?d.record.components:g.components,path:F,aliasOf:d?d.record:g}))}let E,x;for(const C of w){const{path:F}=C;if(p&&F[0]!=="/"){const T=p.record.path,P=T[T.length-1]==="/"?"":"/";C.path=p.record.path+(F&&P+F)}if(C.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(E=H6(C,p,_),p&&F[0]==="/"&&K6(E,p),d?(d.alias.push(E),G6(d,E)):(x=x||E,x!==E&&x.alias.push(E),f&&h.name&&!By(E)&&a(h.name)),g.children){const T=g.children;for(let P=0;P<T.length;P++)i(T[P],E,d&&d.children[P])}d=d||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&c(E)}return x?()=>{a(x)}:wa}function a(h){if(C1(h)){const p=s.get(h);p&&(s.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(a),p.alias.forEach(a))}else{const p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&s.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function l(){return n}function c(h){let p=0;for(;p<n.length&&N6(h,n[p])>=0&&(h.record.path!==n[p].record.path||!x1(h,n[p]));)p++;n.splice(p,0,h),h.record.name&&!By(h)&&s.set(h.record.name,h)}function u(h,p){let d,f={},g,_;if("name"in h&&h.name){if(d=s.get(h.name),!d)throw Ii(1,{location:h});{const x=Object.keys(h.params||{}).filter(C=>!d.keys.find(F=>F.name===C));x.length&&Je(`Discarded invalid param(s) "${x.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}_=d.record.name,f=at(ky(p.params,d.keys.filter(x=>!x.optional).map(x=>x.name)),h.params&&ky(h.params,d.keys.map(x=>x.name))),g=d.stringify(f)}else if("path"in h)g=h.path,g.startsWith("/")||Je(`The Matcher cannot resolve relative paths but received "${g}". Unless you directly called \`matcher.resolve("${g}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),d=n.find(x=>x.re.test(g)),d&&(f=d.parse(g),_=d.record.name);else{if(d=p.name?s.get(p.name):n.find(x=>x.re.test(p.path)),!d)throw Ii(1,{location:h,currentLocation:p});_=d.record.name,f=at({},p.params,h.params),g=d.stringify(f)}const w=[];let E=d;for(;E;)w.unshift(E.record),E=E.parent;return{name:_,path:g,params:f,matched:w,meta:Y6(w)}}return e.forEach(h=>i(h)),{addRoute:i,resolve:u,removeRoute:a,getRoutes:l,getRecordMatcher:r}}function ky(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function q6(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:U6(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function U6(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function By(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Y6(e){return e.reduce((t,n)=>at(t,n.meta),{})}function Ey(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Fp(e,t){return e.name===t.name&&e.optional===t.optional&&e.repeatable===t.repeatable}function G6(e,t){for(const n of e.keys)if(!n.optional&&!t.keys.find(Fp.bind(null,n)))return Je(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`);for(const n of t.keys)if(!n.optional&&!e.keys.find(Fp.bind(null,n)))return Je(`Alias "${t.record.path}" and the original record: "${e.record.path}" must have the exact same param named "${n.name}"`)}function Z6(e,t){t&&t.record.name&&!e.name&&!e.path&&Je(`The route named "${String(t.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function K6(e,t){for(const n of t.keys)if(!e.keys.find(Fp.bind(null,n)))return Je(`Absolute path "${e.record.path}" must have the exact same param named "${n.name}" as its parent "${t.record.path}".`)}function x1(e,t){return t.children.some(n=>n===e||x1(e,n))}const k1=/#/g,X6=/&/g,J6=/\//g,Q6=/=/g,eE=/\?/g,B1=/\+/g,tE=/%5B/g,nE=/%5D/g,E1=/%5E/g,sE=/%60/g,T1=/%7B/g,oE=/%7C/g,A1=/%7D/g,rE=/%20/g;function nf(e){return encodeURI(""+e).replace(oE,"|").replace(tE,"[").replace(nE,"]")}function iE(e){return nf(e).replace(T1,"{").replace(A1,"}").replace(E1,"^")}function Op(e){return nf(e).replace(B1,"%2B").replace(rE,"+").replace(k1,"%23").replace(X6,"%26").replace(sE,"`").replace(T1,"{").replace(A1,"}").replace(E1,"^")}function aE(e){return Op(e).replace(Q6,"%3D")}function lE(e){return nf(e).replace(k1,"%23").replace(eE,"%3F")}function cE(e){return e==null?"":lE(e).replace(J6,"%2F")}function Va(e){try{return decodeURIComponent(""+e)}catch{Je(`Error decoding "${e}". Using original value`)}return""+e}function uE(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(B1," "),a=i.indexOf("="),l=Va(a<0?i:i.slice(0,a)),c=a<0?null:Va(i.slice(a+1));if(l in t){let u=t[l];bn(u)||(u=t[l]=[u]),u.push(c)}else t[l]=c}return t}function Ty(e){let t="";for(let n in e){const s=e[n];if(n=aE(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(bn(s)?s.map(i=>i&&Op(i)):[s&&Op(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function hE(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=bn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const pE=Symbol("router view location matched"),Ay=Symbol("router view depth"),Nu=Symbol("router"),S1=Symbol("route location"),Lp=Symbol("router view location");function Qi(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ko(e,t,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=p=>{p===!1?l(Ii(4,{from:n,to:t})):p instanceof Error?l(p):F6(p)?l(Ii(2,{from:t,to:p})):(i&&s.enterCallbacks[r]===i&&typeof p=="function"&&i.push(p),a())},u=e.call(s&&s.instances[r],t,n,dE(c,t,n));let h=Promise.resolve(u);if(e.length<3&&(h=h.then(c)),e.length>2){const p=`The "next" callback was never called inside of ${e.name?'"'+e.name+'"':""}:
${e.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof u=="object"&&"then"in u)h=h.then(d=>c._called?d:(Je(p),Promise.reject(new Error("Invalid navigation guard"))));else if(u!==void 0&&!c._called){Je(p),l(new Error("Invalid navigation guard"));return}}h.catch(p=>l(p))})}function dE(e,t,n){let s=0;return function(){s++===1&&Je(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${t.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),e._called=!0,s===1&&e.apply(null,arguments)}}function Sh(e,t,n,s){const r=[];for(const i of e){!i.components&&!i.children.length&&Je(`Record with path "${i.path}" is either missing a "component(s)" or "children" property.`);for(const a in i.components){let l=i.components[a];{if(!l||typeof l!="object"&&typeof l!="function")throw Je(`Component "${a}" in record with path "${i.path}" is not a valid component. Received "${String(l)}".`),new Error("Invalid route component");if("then"in l){Je(`Component "${a}" in record with path "${i.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const c=l;l=()=>c}else l.__asyncLoader&&!l.__warnedDefineAsync&&(l.__warnedDefineAsync=!0,Je(`Component "${a}" in record with path "${i.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(fE(l)){const u=(l.__vccOpts||l)[t];u&&r.push(Ko(u,n,s,i,a))}else{let c=l();"catch"in c||(Je(`Component "${a}" in record with path "${i.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),c=Promise.resolve(c)),r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const h=f6(u)?u.default:u;i.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&Ko(d,n,s,i,a)()}))}}}return r}function fE(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Sy(e){const t=b(Nu),n=b(S1),s=m(()=>t.resolve(A(e.to))),r=m(()=>{const{matched:c}=s.value,{length:u}=c,h=c[u-1],p=n.matched;if(!h||!p.length)return-1;const d=p.findIndex(fr.bind(null,h));if(d>-1)return d;const f=$y(c[u-2]);return u>1&&$y(h)===f&&p[p.length-1].path!==f?p.findIndex(fr.bind(null,c[u-2])):d}),i=m(()=>r.value>-1&&_E(n.params,s.value.params)),a=m(()=>r.value>-1&&r.value===n.matched.length-1&&v1(n.params,s.value.params));function l(c={}){return gE(c)?t[A(e.replace)?"replace":"push"](A(e.to)).catch(wa):Promise.resolve()}if(Oo){const c=pn();if(c){const u={route:s.value,isActive:i.value,isExactActive:a.value};c.__vrl_devtools=c.__vrl_devtools||[],c.__vrl_devtools.push(u),zn(()=>{u.route=s.value,u.isActive=i.value,u.isExactActive=a.value},{flush:"post"})}}return{route:s,href:m(()=>s.value.href),isActive:i,isExactActive:a,navigate:l}}const mE=Xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Sy,setup(e,{slots:t}){const n=M(Sy(e)),{options:s}=b(Nu),r=m(()=>({[Fy(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Fy(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:cn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),yE=mE;function gE(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _E(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!bn(r)||r.length!==s.length||s.some((i,a)=>i!==r[a]))return!1}return!0}function $y(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fy=(e,t,n)=>e??t??n,vE=Xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){CE();const s=b(Lp),r=m(()=>e.route||s.value),i=b(Ay,0),a=m(()=>{let u=A(i);const{matched:h}=r.value;let p;for(;(p=h[u])&&!p.components;)u++;return u}),l=m(()=>r.value.matched[a.value]);pe(Ay,m(()=>a.value+1)),pe(pE,l),pe(Lp,r);const c=ne();return ze(()=>[c.value,l.value,e.name],([u,h,p],[d,f,g])=>{h&&(h.instances[p]=u,f&&f!==h&&u&&u===d&&(h.leaveGuards.size||(h.leaveGuards=f.leaveGuards),h.updateGuards.size||(h.updateGuards=f.updateGuards))),u&&h&&(!f||!fr(h,f)||!d)&&(h.enterCallbacks[p]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=r.value,h=e.name,p=l.value,d=p&&p.components[h];if(!d)return Oy(n.default,{Component:d,route:u});const f=p.props[h],g=f?f===!0?u.params:typeof f=="function"?f(u):f:null,w=cn(d,at({},g,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(p.instances[h]=null)},ref:c}));if(Oo&&w.ref){const E={depth:a.value,name:p.name,path:p.path,meta:p.meta};(bn(w.ref)?w.ref.map(C=>C.i):[w.ref.i]).forEach(C=>{C.__vrv_devtools=E})}return Oy(n.default,{Component:w,route:u})||w}}});function Oy(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const bE=vE;function CE(){const e=pn(),t=e.parent&&e.parent.type.name,n=e.parent&&e.parent.subTree&&e.parent.subTree.type;if(t&&(t==="KeepAlive"||t.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const s=t==="KeepAlive"?"keep-alive":"transition";Je(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${s}>
    <component :is="Component" />
  </${s}>
</router-view>`)}}function ea(e,t){const n=at({},e,{matched:e.matched.map(s=>$E(s,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function Hl(e){return{_custom:{display:e}}}let wE=0;function xE(e,t,n){if(t.__hasDevtools)return;t.__hasDevtools=!0;const s=wE++;d6({id:"org.vuejs.router"+(s?"."+s:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},r=>{typeof r.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent((h,p)=>{h.instanceData&&h.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:ea(t.currentRoute.value,"Current Route")})}),r.on.visitComponentTree(({treeNode:h,componentInstance:p})=>{if(p.__vrv_devtools){const d=p.__vrv_devtools;h.tags.push({label:(d.name?`${d.name.toString()}: `:"")+d.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:$1})}bn(p.__vrl_devtools)&&(p.__devtoolsApi=r,p.__vrl_devtools.forEach(d=>{let f=L1,g="";d.isExactActive?(f=O1,g="This is exactly active"):d.isActive&&(f=F1,g="This link is active"),h.tags.push({label:d.route.path,textColor:0,tooltip:g,backgroundColor:f})}))}),ze(t.currentRoute,()=>{c(),r.notifyComponentUpdate(),r.sendInspectorTree(l),r.sendInspectorState(l)});const i="router:navigations:"+s;r.addTimelineLayer({id:i,label:`Router${s?" "+s:""} Navigations`,color:4237508}),t.onError((h,p)=>{r.addTimelineEvent({layerId:i,event:{title:"Error during Navigation",subtitle:p.fullPath,logType:"error",time:r.now(),data:{error:h},groupId:p.meta.__navigationId}})});let a=0;t.beforeEach((h,p)=>{const d={guard:Hl("beforeEach"),from:ea(p,"Current Location during this navigation"),to:ea(h,"Target location")};Object.defineProperty(h.meta,"__navigationId",{value:a++}),r.addTimelineEvent({layerId:i,event:{time:r.now(),title:"Start of navigation",subtitle:h.fullPath,data:d,groupId:h.meta.__navigationId}})}),t.afterEach((h,p,d)=>{const f={guard:Hl("afterEach")};d?(f.failure={_custom:{type:Error,readOnly:!0,display:d?d.message:"",tooltip:"Navigation Failure",value:d}},f.status=Hl("❌")):f.status=Hl("✅"),f.from=ea(p,"Current Location during this navigation"),f.to=ea(h,"Target location"),r.addTimelineEvent({layerId:i,event:{title:"End of navigation",subtitle:h.fullPath,time:r.now(),data:f,logType:d?"warning":"default",groupId:h.meta.__navigationId}})});const l="router-inspector:"+s;r.addInspector({id:l,label:"Routes"+(s?" "+s:""),icon:"book",treeFilterPlaceholder:"Search routes"});function c(){if(!u)return;const h=u;let p=n.getRoutes().filter(d=>!d.parent||!d.parent.record.components);p.forEach(P1),h.filter&&(p=p.filter(d=>Ip(d,h.filter.toLowerCase()))),p.forEach(d=>M1(d,t.currentRoute.value)),h.rootNodes=p.map(I1)}let u;r.on.getInspectorTree(h=>{u=h,h.app===e&&h.inspectorId===l&&c()}),r.on.getInspectorState(h=>{if(h.app===e&&h.inspectorId===l){const d=n.getRoutes().find(f=>f.record.__vd_id===h.nodeId);d&&(h.state={options:BE(d)})}}),r.sendInspectorTree(l),r.sendInspectorState(l)})}function kE(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}function BE(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return t.name!=null&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map(s=>`${s.name}${kE(s)}`).join(" "),tooltip:"Param keys",value:e.keys}}}),t.redirect!=null&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map(s=>s.record.path)}),Object.keys(e.record.meta).length&&n.push({editable:!1,key:"meta",value:e.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map(s=>s.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const $1=15485081,F1=2450411,O1=8702998,EE=2282478,L1=16486972,TE=6710886;function I1(e){const t=[],{record:n}=e;n.name!=null&&t.push({label:String(n.name),textColor:0,backgroundColor:EE}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:L1}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:$1}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:O1}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:F1}),n.redirect&&t.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:TE});let s=n.__vd_id;return s==null&&(s=String(AE++),n.__vd_id=s),{id:s,label:n.path,tags:t,children:e.children.map(I1)}}let AE=0;const SE=/^\/(.*)\/([a-z]*)$/;function M1(e,t){const n=t.matched.length&&fr(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some(s=>fr(s,e.record))),e.children.forEach(s=>M1(s,t))}function P1(e){e.__vd_match=!1,e.children.forEach(P1)}function Ip(e,t){const n=String(e.re).match(SE);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach(a=>Ip(a,t)),e.record.path!=="/"||t==="/"?(e.__vd_match=e.re.test(t),!0):!1;const r=e.record.path.toLowerCase(),i=Va(r);return!t.startsWith("/")&&(i.includes(t)||r.includes(t))||i.startsWith(t)||r.startsWith(t)||e.record.name&&String(e.record.name).includes(t)?!0:e.children.some(a=>Ip(a,t))}function $E(e,t){const n={};for(const s in e)t.includes(s)||(n[s]=e[s]);return n}function FE(e){const t=V6(e.routes,e),n=e.parseQuery||uE,s=e.stringifyQuery||Ty,r=e.history;if(!r)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const i=Qi(),a=Qi(),l=Qi(),c=go(Vo);let u=Vo;Oo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Th.bind(null,D=>""+D),p=Th.bind(null,cE),d=Th.bind(null,Va);function f(D,le){let ee,ae;return C1(D)?(ee=t.getRecordMatcher(D),ae=le):ae=D,t.addRoute(ae,ee)}function g(D){const le=t.getRecordMatcher(D);le?t.removeRoute(le):Je(`Cannot remove non-existent route "${String(D)}"`)}function _(){return t.getRoutes().map(D=>D.record)}function w(D){return!!t.getRecordMatcher(D)}function E(D,le){if(le=at({},le||c.value),typeof D=="string"){const B=Ah(n,D,le.path),L=t.resolve({path:B.path},le),z=r.createHref(B.fullPath);return z.startsWith("//")?Je(`Location "${D}" resolved to "${z}". A resolved location cannot start with multiple slashes.`):L.matched.length||Je(`No match found for location with path "${D}"`),at(B,L,{params:d(L.params),hash:Va(B.hash),redirectedFrom:void 0,href:z})}let ee;if("path"in D)"params"in D&&!("name"in D)&&Object.keys(D.params).length&&Je(`Path "${D.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),ee=at({},D,{path:Ah(n,D.path,le.path).path});else{const B=at({},D.params);for(const L in B)B[L]==null&&delete B[L];ee=at({},D,{params:p(B)}),le.params=p(le.params)}const ae=t.resolve(ee,le),Pe=D.hash||"";Pe&&!Pe.startsWith("#")&&Je(`A \`hash\` should always start with the character "#". Replace "${Pe}" with "#${Pe}".`),ae.params=h(d(ae.params));const Ze=g6(s,at({},D,{hash:iE(Pe),path:ae.path})),v=r.createHref(Ze);return v.startsWith("//")?Je(`Location "${D}" resolved to "${v}". A resolved location cannot start with multiple slashes.`):ae.matched.length||Je(`No match found for location with path "${"path"in D?D.path:D}"`),at({fullPath:Ze,hash:Pe,query:s===Ty?hE(D.query):D.query||{}},ae,{redirectedFrom:void 0,href:v})}function x(D){return typeof D=="string"?Ah(n,D,c.value.path):at({},D)}function C(D,le){if(u!==D)return Ii(8,{from:le,to:D})}function F(D){return I(D)}function T(D){return F(at(x(D),{replace:!0}))}function P(D){const le=D.matched[D.matched.length-1];if(le&&le.redirect){const{redirect:ee}=le;let ae=typeof ee=="function"?ee(D):ee;if(typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=x(ae):{path:ae},ae.params={}),!("path"in ae)&&!("name"in ae))throw Je(`Invalid redirect found:
${JSON.stringify(ae,null,2)}
 when navigating to "${D.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return at({query:D.query,hash:D.hash,params:"path"in ae?{}:D.params},ae)}}function I(D,le){const ee=u=E(D),ae=c.value,Pe=D.state,Ze=D.force,v=D.replace===!0,B=P(ee);if(B)return I(at(x(B),{state:typeof B=="object"?at({},Pe,B.state):Pe,force:Ze,replace:v}),le||ee);const L=ee;L.redirectedFrom=le;let z;return!Ze&&gy(s,ae,ee)&&(z=Ii(16,{to:L,from:ae}),Ie(ae,ae,!0,!1)),(z?Promise.resolve(z):q(L,ae)).catch(j=>ko(j)?ko(j,2)?j:Ee(j):Y(j,L,ae)).then(j=>{if(j){if(ko(j,2))return gy(s,E(j.to),L)&&le&&(le._count=le._count?le._count+1:1)>30?(Je(`Detected a possibly infinite redirection in a navigation guard when going from "${ae.fullPath}" to "${L.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):I(at({replace:v},x(j.to),{state:typeof j.to=="object"?at({},Pe,j.to.state):Pe,force:Ze}),le||L)}else j=ie(L,ae,!0,v,Pe);return ve(L,ae,j),j})}function N(D,le){const ee=C(D,le);return ee?Promise.reject(ee):Promise.resolve()}function V(D){const le=ft.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(D):D()}function q(D,le){let ee;const[ae,Pe,Ze]=OE(D,le);ee=Sh(ae.reverse(),"beforeRouteLeave",D,le);for(const B of ae)B.leaveGuards.forEach(L=>{ee.push(Ko(L,D,le))});const v=N.bind(null,D,le);return ee.push(v),xt(ee).then(()=>{ee=[];for(const B of i.list())ee.push(Ko(B,D,le));return ee.push(v),xt(ee)}).then(()=>{ee=Sh(Pe,"beforeRouteUpdate",D,le);for(const B of Pe)B.updateGuards.forEach(L=>{ee.push(Ko(L,D,le))});return ee.push(v),xt(ee)}).then(()=>{ee=[];for(const B of Ze)if(B.beforeEnter)if(bn(B.beforeEnter))for(const L of B.beforeEnter)ee.push(Ko(L,D,le));else ee.push(Ko(B.beforeEnter,D,le));return ee.push(v),xt(ee)}).then(()=>(D.matched.forEach(B=>B.enterCallbacks={}),ee=Sh(Ze,"beforeRouteEnter",D,le),ee.push(v),xt(ee))).then(()=>{ee=[];for(const B of a.list())ee.push(Ko(B,D,le));return ee.push(v),xt(ee)}).catch(B=>ko(B,8)?B:Promise.reject(B))}function ve(D,le,ee){l.list().forEach(ae=>V(()=>ae(D,le,ee)))}function ie(D,le,ee,ae,Pe){const Ze=C(D,le);if(Ze)return Ze;const v=le===Vo,B=Oo?history.state:{};ee&&(ae||v?r.replace(D.fullPath,at({scroll:v&&B&&B.scroll},Pe)):r.push(D.fullPath,Pe)),c.value=D,Ie(D,le,ee,v),Ee()}let te;function W(){te||(te=r.listen((D,le,ee)=>{if(!wt.listening)return;const ae=E(D),Pe=P(ae);if(Pe){I(at(Pe,{replace:!0}),ae).catch(wa);return}u=ae;const Ze=c.value;Oo&&B6(vy(Ze.fullPath,ee.delta),Ru()),q(ae,Ze).catch(v=>ko(v,12)?v:ko(v,2)?(I(v.to,ae).then(B=>{ko(B,20)&&!ee.delta&&ee.type===Ha.pop&&r.go(-1,!1)}).catch(wa),Promise.reject()):(ee.delta&&r.go(-ee.delta,!1),Y(v,ae,Ze))).then(v=>{v=v||ie(ae,Ze,!1),v&&(ee.delta&&!ko(v,8)?r.go(-ee.delta,!1):ee.type===Ha.pop&&ko(v,20)&&r.go(-1,!1)),ve(ae,Ze,v)}).catch(wa)}))}let H=Qi(),de=Qi(),O;function Y(D,le,ee){Ee(D);const ae=de.list();return ae.length?ae.forEach(Pe=>Pe(D,le,ee)):(Je("uncaught error during route navigation:"),console.error(D)),Promise.reject(D)}function Z(){return O&&c.value!==Vo?Promise.resolve():new Promise((D,le)=>{H.add([D,le])})}function Ee(D){return O||(O=!D,W(),H.list().forEach(([le,ee])=>D?ee(D):le()),H.reset()),D}function Ie(D,le,ee,ae){const{scrollBehavior:Pe}=e;if(!Oo||!Pe)return Promise.resolve();const Ze=!ee&&E6(vy(D.fullPath,0))||(ae||!ee)&&history.state&&history.state.scroll||null;return Dt().then(()=>Pe(D,le,Ze)).then(v=>v&&k6(v)).catch(v=>Y(v,D,le))}const He=D=>r.go(D);let Le;const ft=new Set,wt={currentRoute:c,listening:!0,addRoute:f,removeRoute:g,hasRoute:w,getRoutes:_,resolve:E,options:e,push:F,replace:T,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:de.add,isReady:Z,install(D){const le=this;D.component("RouterLink",yE),D.component("RouterView",bE),D.config.globalProperties.$router=le,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>A(c)}),Oo&&!Le&&c.value===Vo&&(Le=!0,F(r.location).catch(Pe=>{Je("Unexpected error when starting the router:",Pe)}));const ee={};for(const Pe in Vo)Object.defineProperty(ee,Pe,{get:()=>c.value[Pe],enumerable:!0});D.provide(Nu,le),D.provide(S1,tv(ee)),D.provide(Lp,c);const ae=D.unmount;ft.add(D),D.unmount=function(){ft.delete(D),ft.size<1&&(u=Vo,te&&te(),te=null,c.value=Vo,Le=!1,O=!1),ae()},Oo&&xE(D,le,t)}};function xt(D){return D.reduce((le,ee)=>le.then(()=>V(ee)),Promise.resolve())}return wt}function OE(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(u=>fr(u,l))?s.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(u=>fr(u,c))||r.push(c))}return[n,s,r]}function LE(){return b(Nu)}const $h=ne(!1),ka=ne(!1),xi=ne(!1),IE=ne(!0),Mp=NB({xs:460,...RB}),Xr=r6(),D1=e6(),ME=m(()=>Xr.height.value-Xr.width.value/or>180),R1=JB(un?document.body:null),ar=PB(),PE=m(()=>{var e,t;return["INPUT","TEXTAREA"].includes(((e=ar.value)==null?void 0:e.tagName)||"")||((t=ar.value)==null?void 0:t.classList.contains("CodeMirror-code"))}),DE=m(()=>{var e;return["BUTTON","A"].includes(((e=ar.value)==null?void 0:e.tagName)||"")});Yn("slidev-camera","default");Yn("slidev-mic","default");const hc=Yn("slidev-scale",0),jt=Yn("slidev-show-overview",!1),Fh=Yn("slidev-presenter-cursor",!0),Ly=Yn("slidev-show-editor",!1);Yn("slidev-editor-width",un?window.innerWidth*.4:100);const N1=m1(jt);var RE=Object.defineProperty,Iy=Object.getOwnPropertySymbols,NE=Object.prototype.hasOwnProperty,jE=Object.prototype.propertyIsEnumerable,My=(e,t,n)=>t in e?RE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pp=(e,t)=>{for(var n in t||(t={}))NE.call(t,n)&&My(e,n,t[n]);if(Iy)for(var n of Iy(t))jE.call(t,n)&&My(e,n,t[n]);return e},WE=()=>({emit(e,...t){let n=this.events[e]||[];for(let s=0,r=n.length;s<r;s++)n[s](...t)},events:{},on(e,t){var n;return(n=this.events[e])!=null&&n.push(t)||(this.events[e]=[t]),()=>{var s;this.events[e]=(s=this.events[e])==null?void 0:s.filter(r=>t!==r)}}});function Py(e,t,n,s=r=>r){return e*s(.5-t*(.5-n))}function zE(e){return[-e[0],-e[1]]}function Dn(e,t){return[e[0]+t[0],e[1]+t[1]]}function Tn(e,t){return[e[0]-t[0],e[1]-t[1]]}function Pn(e,t){return[e[0]*t,e[1]*t]}function HE(e,t){return[e[0]/t,e[1]/t]}function ta(e){return[e[1],-e[0]]}function Dy(e,t){return e[0]*t[0]+e[1]*t[1]}function VE(e,t){return e[0]===t[0]&&e[1]===t[1]}function qE(e){return Math.hypot(e[0],e[1])}function UE(e){return e[0]*e[0]+e[1]*e[1]}function Ry(e,t){return UE(Tn(e,t))}function j1(e){return HE(e,qE(e))}function YE(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function na(e,t,n){let s=Math.sin(n),r=Math.cos(n),i=e[0]-t[0],a=e[1]-t[1],l=i*r-a*s,c=i*s+a*r;return[l+t[0],c+t[1]]}function Dp(e,t,n){return Dn(e,Pn(Tn(t,e),n))}function Ny(e,t,n){return Dn(e,Pn(t,n))}var{min:_i,PI:GE}=Math,jy=.275,sa=GE+1e-4;function ZE(e,t={}){let{size:n=16,smoothing:s=.5,thinning:r=.5,simulatePressure:i=!0,easing:a=O=>O,start:l={},end:c={},last:u=!1}=t,{cap:h=!0,easing:p=O=>O*(2-O)}=l,{cap:d=!0,easing:f=O=>--O*O*O+1}=c;if(e.length===0||n<=0)return[];let g=e[e.length-1].runningLength,_=l.taper===!1?0:l.taper===!0?Math.max(n,g):l.taper,w=c.taper===!1?0:c.taper===!0?Math.max(n,g):c.taper,E=Math.pow(n*s,2),x=[],C=[],F=e.slice(0,10).reduce((O,Y)=>{let Z=Y.pressure;if(i){let Ee=_i(1,Y.distance/n),Ie=_i(1,1-Ee);Z=_i(1,O+(Ie-O)*(Ee*jy))}return(O+Z)/2},e[0].pressure),T=Py(n,r,e[e.length-1].pressure,a),P,I=e[0].vector,N=e[0].point,V=N,q=N,ve=V,ie=!1;for(let O=0;O<e.length;O++){let{pressure:Y}=e[O],{point:Z,vector:Ee,distance:Ie,runningLength:He}=e[O];if(O<e.length-1&&g-He<3)continue;if(r){if(i){let ae=_i(1,Ie/n),Pe=_i(1,1-ae);Y=_i(1,F+(Pe-F)*(ae*jy))}T=Py(n,r,Y,a)}else T=n/2;P===void 0&&(P=T);let Le=He<_?p(He/_):1,ft=g-He<w?f((g-He)/w):1;T=Math.max(.01,T*Math.min(Le,ft));let wt=(O<e.length-1?e[O+1]:e[O]).vector,xt=O<e.length-1?Dy(Ee,wt):1,D=Dy(Ee,I)<0&&!ie,le=xt!==null&&xt<0;if(D||le){let ae=Pn(ta(I),T);for(let Pe=1/13,Ze=0;Ze<=1;Ze+=Pe)q=na(Tn(Z,ae),Z,sa*Ze),x.push(q),ve=na(Dn(Z,ae),Z,sa*-Ze),C.push(ve);N=q,V=ve,le&&(ie=!0);continue}if(ie=!1,O===e.length-1){let ae=Pn(ta(Ee),T);x.push(Tn(Z,ae)),C.push(Dn(Z,ae));continue}let ee=Pn(ta(Dp(wt,Ee,xt)),T);q=Tn(Z,ee),(O<=1||Ry(N,q)>E)&&(x.push(q),N=q),ve=Dn(Z,ee),(O<=1||Ry(V,ve)>E)&&(C.push(ve),V=ve),F=Y,I=Ee}let te=e[0].point.slice(0,2),W=e.length>1?e[e.length-1].point.slice(0,2):Dn(e[0].point,[1,1]),H=[],de=[];if(e.length===1){if(!(_||w)||u){let O=Ny(te,j1(ta(Tn(te,W))),-(P||T)),Y=[];for(let Z=1/13,Ee=Z;Ee<=1;Ee+=Z)Y.push(na(O,te,sa*2*Ee));return Y}}else{if(!(_||w&&e.length===1))if(h)for(let Y=1/13,Z=Y;Z<=1;Z+=Y){let Ee=na(C[0],te,sa*Z);H.push(Ee)}else{let Y=Tn(x[0],C[0]),Z=Pn(Y,.5),Ee=Pn(Y,.51);H.push(Tn(te,Z),Tn(te,Ee),Dn(te,Ee),Dn(te,Z))}let O=ta(zE(e[e.length-1].vector));if(w||_&&e.length===1)de.push(W);else if(d){let Y=Ny(W,O,T);for(let Z=1/29,Ee=Z;Ee<1;Ee+=Z)de.push(na(Y,W,sa*3*Ee))}else de.push(Dn(W,Pn(O,T)),Dn(W,Pn(O,T*.99)),Tn(W,Pn(O,T*.99)),Tn(W,Pn(O,T)))}return x.concat(de,C.reverse(),H)}function KE(e,t={}){var n;let{streamline:s=.5,size:r=16,last:i=!1}=t;if(e.length===0)return[];let a=.15+(1-s)*.85,l=Array.isArray(e[0])?e:e.map(({x:f,y:g,pressure:_=.5})=>[f,g,_]);if(l.length===2){let f=l[1];l=l.slice(0,-1);for(let g=1;g<5;g++)l.push(Dp(l[0],f,g/4))}l.length===1&&(l=[...l,[...Dn(l[0],[1,1]),...l[0].slice(2)]]);let c=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,h=0,p=c[0],d=l.length-1;for(let f=1;f<l.length;f++){let g=i&&f===d?l[f].slice(0,2):Dp(p.point,l[f],a);if(VE(p.point,g))continue;let _=YE(g,p.point);if(h+=_,f<d&&!u){if(h<r)continue;u=!0}p={point:g,pressure:l[f][2]>=0?l[f][2]:.5,vector:j1(Tn(p.point,g)),distance:_,runningLength:h},c.push(p)}return c[0].vector=((n=c[1])==null?void 0:n.vector)||[0,0],c}function XE(e,t={}){return ZE(KE(e,t),t)}function Uc(e,t){return e-t}function JE(e){return e<0?-1:1}function Yc(e){return[Math.abs(e),JE(e)]}function W1(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var QE=2,$o=QE,Hi=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var t,n;const s=this.drauu.el,r=(t=this.drauu.options.coordinateScale)!=null?t:1;if(this.drauu.options.coordinateTransform===!1){const i=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-i.left)*r,y:(e.pageY-i.top)*r,pressure:e.pressure}}else{const i=this.drauu.svgPoint;i.x=e.clientX,i.y=e.clientY;const a=i.matrixTransform((n=s.getScreenCTM())==null?void 0:n.inverse());return{x:a.x*r,y:a.y*r,pressure:e.pressure}}}createElement(e,t){var n;const s=document.createElementNS("http://www.w3.org/2000/svg",e),r=t?Pp(Pp({},this.brush),t):this.brush;return s.setAttribute("fill",(n=r.fill)!=null?n:"transparent"),s.setAttribute("stroke",r.color),s.setAttribute("stroke-width",r.size.toString()),s.setAttribute("stroke-linecap","round"),r.dasharray&&s.setAttribute("stroke-dasharray",r.dasharray),s}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed($o))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},eT=class z1 extends Hi{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){return z1.getSvgData(t,this.brush)}static getSvgData(t,n){const s=XE(t,Pp({size:n.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},n.stylusOptions));if(!s.length)return"";const r=s.reduce((i,[a,l],c,u)=>{const[h,p]=u[(c+1)%u.length];return i.push(a,l,(a+h)/2,(l+p)/2),i},["M",...s[0],"Q"]);return r.push("Z"),r.map(i=>typeof i=="number"?i.toFixed(2):i).join(" ")}},tT=class extends Hi{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,n]=Yc(e.x-this.start.x),[s,r]=Yc(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,s);t=i,s=i}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",s);else{const[i,a]=[this.start.x,this.start.x+t*n].sort(Uc),[l,c]=[this.start.y,this.start.y+s*r].sort(Uc);this.attr("cx",(i+a)/2),this.attr("cy",(l+c)/2),this.attr("rx",(a-i)/2),this.attr("ry",(c-l)/2)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function H1(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),s=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",t),s.setAttribute("id",e),s.setAttribute("viewBox","0 -5 10 10"),s.setAttribute("refX","5"),s.setAttribute("refY","0"),s.setAttribute("markerWidth","4"),s.setAttribute("markerHeight","4"),s.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),s.appendChild(r),n.appendChild(s),n}var nT=class extends Hi{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=W1(),n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.append(H1(t,this.brush.color)),n.append(this.el),this.attr("marker-end",`url(#${t})`),n}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:n}=e;if(this.shiftPressed){const s=e.x-this.start.x,r=e.y-this.start.y;if(r!==0){let i=s/r;i=Math.round(i),Math.abs(i)<=1?(t=this.start.x+r*i,n=this.start.y+r):(t=this.start.x+s,n=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-n),this.attr("x2",t),this.attr("y2",n)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",n)),!0}onEnd(){const e=this.el;return this.el=null,!(!e||e.getTotalLength()<5)}},sT=class extends Hi{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,n]=Yc(e.x-this.start.x),[s,r]=Yc(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,s);t=i,s=i}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-s),this.attr("width",t*2),this.attr("height",s*2);else{const[i,a]=[this.start.x,this.start.x+t*n].sort(Uc),[l,c]=[this.start.y,this.start.y+s*r].sort(Uc);this.attr("x",i),this.attr("y",l),this.attr("width",a-i),this.attr("height",c-l)}return!0}onEnd(){const e=this.el;return this.el=null,!(!e||!e.getTotalLength())}};function oT(e,t){const n=e.x-t.x,s=e.y-t.y;return n*n+s*s}function rT(e,t,n){let s=t.x,r=t.y,i=n.x-s,a=n.y-r;if(i!==0||a!==0){const l=((e.x-s)*i+(e.y-r)*a)/(i*i+a*a);l>1?(s=n.x,r=n.y):l>0&&(s+=i*l,r+=a*l)}return i=e.x-s,a=e.y-r,i*i+a*a}function iT(e,t){let n=e[0];const s=[n];let r;for(let i=1,a=e.length;i<a;i++)r=e[i],oT(r,n)>t&&(s.push(r),n=r);return n!==r&&r&&s.push(r),s}function Rp(e,t,n,s,r){let i=s,a=0;for(let l=t+1;l<n;l++){const c=rT(e[l],e[t],e[n]);c>i&&(a=l,i=c)}i>s&&(a-t>1&&Rp(e,t,a,s,r),r.push(e[a]),n-a>1&&Rp(e,a,n,s,r))}function aT(e,t){const n=e.length-1,s=[e[0]];return Rp(e,0,n,t,s),s.push(e[n]),s}function Wy(e,t,n=!1){if(e.length<=2)return e;const s=t!==void 0?t*t:1;return e=n?e:iT(e,s),e=aT(e,s),e}var lT=class Fr extends Hi{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=W1();const n=H1(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=Wy(this.points,1,!0),this.count=0),this.attr("d",Fr.toSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||(t.setAttribute("d",Fr.toSvgData(Wy(this.points,1,!0))),!t.getTotalLength()))}static line(t,n){const s=n.x-t.x,r=n.y-t.y;return{length:Math.sqrt(s**2+r**2),angle:Math.atan2(r,s)}}static controlPoint(t,n,s,r){const i=n||t,a=s||t,l=.2,c=Fr.line(i,a),u=c.angle+(r?Math.PI:0),h=c.length*l,p=t.x+Math.cos(u)*h,d=t.y+Math.sin(u)*h;return{x:p,y:d}}static bezierCommand(t,n,s){const r=Fr.controlPoint(s[n-1],s[n-2],t),i=Fr.controlPoint(t,s[n-1],s[n+1],!0);return`C ${r.x.toFixed($o)},${r.y.toFixed($o)} ${i.x.toFixed($o)},${i.y.toFixed($o)} ${t.x.toFixed($o)},${t.y.toFixed($o)}`}static toSvgData(t){return t.reduce((n,s,r,i)=>r===0?`M ${s.x.toFixed($o)},${s.y.toFixed($o)}`:`${n} ${Fr.bezierCommand(s,r,i)}`,"")}},cT=class extends Hi{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(e){const t=(n,s)=>{if(n&&n.length)for(let r=0;r<n.length;r++){const i=n[r];if(i.getTotalLength){const a=i.getTotalLength();for(let l=0;l<this.pathSubFactor;l++){const c=i.getPointAtLength(a*l/this.pathSubFactor),u=i.getPointAtLength(a*(l+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:u.x,y1:c.y,y2:u.y,segment:l,element:s||i})}}else i.children&&t(i.children,i)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const e=[];if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const n=this.pathFragments[t],s={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(n,s)&&(n.element.remove(),e.push(t))}return e.length&&(this.pathFragments=this.pathFragments.filter((t,n)=>!e.includes(n))),e.length>0}lineLineIntersect(e,t){const n=e.x1,s=e.x2,r=t.x1,i=t.x2,a=e.y1,l=e.y2,c=t.y1,u=t.y2,h=(n-s)*(c-u)-(a-l)*(r-i),p=(n*l-a*s)*(r-i)-(n-s)*(r*u-c*i),d=(n*l-a*s)*(c-u)-(a-l)*(r*u-c*i),f=(g,_,w)=>g>=_&&g<=w?!0:g>=w&&g<=_;if(h===0)return!1;{const g={x:p/h,y:d/h};return f(g.x,n,s)&&f(g.y,a,l)&&f(g.x,r,i)&&f(g.y,c,u)}}};function uT(e){return{draw:new lT(e),stylus:new eT(e),line:new nT(e),rectangle:new sT(e),ellipse:new tT(e),eraseLine:new cT(e)}}var hT=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=WE(),this._originalPointerId=null,this._models=uT(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const n=this.resolveSelector(t)||this.el,s=this.eventStart.bind(this),r=this.eventMove.bind(this),i=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);n.addEventListener("pointerdown",s,{passive:!1}),window.addEventListener("pointermove",r,{passive:!1}),window.addEventListener("pointerup",i,{passive:!1}),window.addEventListener("pointercancel",i,{passive:!1}),window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),this._disposables.push(()=>{n.removeEventListener("pointerdown",s),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",i),window.removeEventListener("pointercancel",i),window.removeEventListener("keydown",a,!1),window.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){const e=this.el;return e.lastElementChild?(this._undoStack.push(e.lastElementChild.cloneNode(!0)),e.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var e;return!!((e=this.el)!=null&&e.lastElementChild)}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){this.acceptsInput(e)&&(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=e.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);t?(t instanceof Element&&t!==this._currentNode&&(this._currentNode=t),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(e){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==e.pointerId)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}};function pT(e){return new hT(e)}const Np=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],co=Yn("slidev-drawing-enabled",!1),nQ=Yn("slidev-drawing-pinned",!1),dT=ne(!1),fT=ne(!1),mT=ne(!1),qa=ne(!1),Wr=yB(Yn("slidev-drawing-brush",{color:Np[0],size:4,mode:"stylus"})),zy=ne("stylus"),V1=m(()=>st.drawings.syncAll||on.value);let Ua=!1;const oa=m({get(){return zy.value},set(e){zy.value=e,e==="arrow"?(Wr.mode="line",Wr.arrowEnd=!0):(Wr.mode=e,Wr.arrowEnd=!1)}}),yT=M({brush:Wr,acceptsInputTypes:m(()=>co.value&&(!st.drawings.presenterOnly||on.value)?void 0:["pen"]),coordinateTransform:!1}),Qt=Tu(pT(yT));function gT(){Qt.clear(),V1.value&&p1(Ct.value,"")}function sf(){var e;fT.value=Qt.canRedo(),dT.value=Qt.canUndo(),mT.value=!!((e=Qt.el)!=null&&e.children.length)}function _T(e){Ua=!0;const t=qc[e||Ct.value];t!=null?Qt.load(t):Qt.clear(),sf(),Ua=!1}Qt.on("changed",()=>{if(sf(),!Ua){const e=Qt.dump(),t=Ct.value;(qc[t]||"")!==e&&V1.value&&p1(t,Qt.dump())}});pB(e=>{Ua=!0,e[Ct.value]!=null&&Qt.load(e[Ct.value]||""),Ua=!1,sf()});Dt(()=>{ze(Ct,()=>{Qt.mounted&&_T()},{immediate:!0})});Qt.on("start",()=>qa.value=!0);Qt.on("end",()=>qa.value=!1);window.addEventListener("keydown",e=>{if(!co.value)return;const t=!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey;let n=!0;e.code==="KeyZ"&&(e.ctrlKey||e.metaKey)?e.shiftKey?Qt.redo():Qt.undo():e.code==="Escape"?co.value=!1:e.code==="KeyL"&&t?oa.value="line":e.code==="KeyA"&&t?oa.value="arrow":e.code==="KeyS"&&t?oa.value="stylus":e.code==="KeyR"&&t?oa.value="rectangle":e.code==="KeyE"&&t?oa.value="ellipse":e.code==="KeyC"&&t?gT():e.code.startsWith("Digit")&&t&&+e.code[5]<=Np.length?Wr.color=Np[+e.code[5]-1]:n=!1,n&&(e.preventDefault(),e.stopPropagation())},!1);function At(...e){return m(()=>e.every(t=>gt(t)))}function yn(e){return m(()=>!gt(e))}function vT(...e){return m(()=>e.some(t=>gt(t)))}const Hy=GB(),Oh=Yn("slidev-color-schema","auto"),jp=m(()=>st.colorSchema!=="auto"),ju=m({get(){return jp.value?st.colorSchema==="dark":Oh.value==="auto"?Hy.value:Oh.value==="dark"},set(e){jp.value||(Oh.value=e===Hy.value?"auto":e?"dark":"light")}}),q1=m1(ju);un&&ze(ju,e=>{const t=document.querySelector("html");t.classList.toggle("dark",e),t.classList.toggle("light",!e)},{immediate:!0});const pc=ne(1),dc=m(()=>_t.length),Kt=ne(0),of=ne(0);function bT(){Kt.value>pc.value&&(Kt.value-=1)}function CT(){Kt.value<dc.value&&(Kt.value+=1)}function wT(){if(Kt.value>pc.value){let e=Kt.value-of.value;e<pc.value&&(e=pc.value),Kt.value=e}}function xT(){if(Kt.value<dc.value){let e=Kt.value+of.value;e>dc.value&&(e=dc.value),Kt.value=e}}function kT(){const{escape:e,space:t,shift:n,left:s,right:r,up:i,down:a,enter:l,d:c,g:u,o:h,"`":p}=D1;let d=[{name:"next_space",key:At(t,yn(n)),fn:cr,autoRepeat:!0},{name:"prev_space",key:At(t,n),fn:ur,autoRepeat:!0},{name:"next_right",key:At(r,yn(n),yn(jt)),fn:cr,autoRepeat:!0},{name:"prev_left",key:At(s,yn(n),yn(jt)),fn:ur,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:cr,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:ur,autoRepeat:!0},{name:"next_down",key:At(a,yn(jt)),fn:il,autoRepeat:!0},{name:"prev_up",key:At(i,yn(jt)),fn:()=>al(!1),autoRepeat:!0},{name:"next_shift",key:At(r,n),fn:il,autoRepeat:!0},{name:"prev_shift",key:At(s,n),fn:()=>al(!1),autoRepeat:!0},{name:"toggle_dark",key:At(c,yn(co)),fn:q1},{name:"toggle_overview",key:At(vT(h,p),yn(co)),fn:N1},{name:"hide_overview",key:At(e,yn(co)),fn:()=>jt.value=!1},{name:"goto",key:At(u,yn(co)),fn:()=>xi.value=!xi.value},{name:"next_overview",key:At(r,jt),fn:CT},{name:"prev_overview",key:At(s,jt),fn:bT},{name:"up_overview",key:At(i,jt),fn:wT},{name:"down_overview",key:At(a,jt),fn:xT},{name:"goto_from_overview",key:At(l,jt),fn:()=>{ii(Kt.value),jt.value=!1}}];const f=new Set(d.map(_=>_.name));if(d.filter(_=>_.name&&f.has(_.name)).length===0){const _=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(_),console.warn(_)}return d}const U1=At(yn(PE),yn(DE),IE);function BT(e,t,n=!1){typeof e=="string"&&(e=D1[e]);const s=At(e,U1);let r=0,i;const a=()=>{if(clearTimeout(i),!s.value){r=0;return}n&&(i=setTimeout(a,Math.max(1e3-r*250,150)),r++),t()};return ze(s,a,{flush:"sync"})}function ET(e,t){return MB(e,n=>{U1.value&&(n.repeat||t())})}function TT(){const e=kT();new Map(e.map(n=>[n.key,n])).forEach(n=>{n.fn&&BT(n.key,n.fn,n.autoRepeat)}),ET("f",()=>R1.toggle())}const AT={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ST=o("path",{fill:"currentColor",d:"M17.414 16L24 9.414L22.586 8L16 14.586L9.414 8L8 9.414L14.586 16L8 22.586L9.414 24L16 17.414L22.586 24L24 22.586L17.414 16z"},null,-1),$T=[ST];function FT(e,t){return k(),R("svg",AT,$T)}const OT={name:"carbon-close",render:FT};function rf(e,t=""){var r,i;const n=["slidev-page",t],s=(i=(r=e==null?void 0:e.meta)==null?void 0:r.slide)==null?void 0:i.no;return s!=null&&n.push(`slidev-page-${s}`),n.filter(Boolean).join(" ")}const me=Symbol("v-click-clicks"),Dr=Symbol("v-click-clicks-elements"),Ba=Symbol("v-click-clicks-disabled"),Wp=Symbol("v-click-clicks-order-map"),ge=Symbol("slidev-page"),Y1=Symbol("slidev-slide-scale"),_e=Symbol("slidev-slidev-context"),LT=Symbol("slidev-route"),be=Symbol("slidev-render-context"),IT=Symbol("slidev-active"),xe=Symbol("slidev-fontmatter"),Or="slidev-vclick-target",Lh="slidev-vclick-hidden",MT="slidev-vclick-fade",Ih="slidev-vclick-hidden-explicitly",ra="slidev-vclick-current",Vl="slidev-vclick-prior",PT=["localhost","127.0.0.1"],DT=Xe({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(e){const t=e,n=ne(),s=KB(n),r=m(()=>t.width?t.width:s.width.value),i=m(()=>t.width?t.width/or:s.height.value);t.width&&zn(()=>{n.value&&(n.value.style.width=`${r.value}px`,n.value.style.height=`${i.value}px`)});const a=m(()=>r.value/i.value),l=m(()=>t.scale&&!Wi.value?t.scale:a.value<or?r.value/rr:i.value*or/rr),c=m(()=>({height:`${ef}px`,width:`${rr}px`,transform:`translate(-50%, -50%) scale(${l.value})`})),u=m(()=>({"select-none":!st.selectable}));return pe(Y1,l),(h,p)=>(k(),R("div",{id:"slide-container",ref_key:"root",ref:n,class:lt(u.value)},[o("div",{id:"slide-content",style:Tt(c.value)},[en(h.$slots,"default")],4),en(h.$slots,"controls")],2))}});const J=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},G1=J(DT,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/SlideContainer.vue"]]),af=Xe({name:"SlideWrapper",props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},renderContext:{type:String,default:"main"},active:{type:Boolean,default:!1},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(e,{emit:t}){var a;const n=lo(e,"clicks",t),s=lo(e,"clicksElements",t),r=lo(e,"clicksDisabled",t),i=lo(e,"clicksOrderMap",t);s.value.length=0,pe(LT,e.route),pe(ge,ne(+((a=e.route)==null?void 0:a.path))),pe(be,ne(e.renderContext)),pe(IT,ye(e,"active")),pe(me,n),pe(Ba,r),pe(Dr,s),pe(Wp,i)},render(){var e,t;return this.$props.is?cn(this.$props.is):(t=(e=this.$slots)==null?void 0:e.default)==null?void 0:t.call(e)}}),RT=["innerHTML"],NT=Xe({__name:"DrawingPreview",props:{page:{type:Number,required:!0}},setup(e){return(t,n)=>A(qc)[t.page]?(k(),R("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:A(qc)[t.page]},null,8,RT)):Ye("v-if",!0)}}),Z1=J(NT,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/DrawingPreview.vue"]]),jT=Object.freeze(Object.defineProperty({__proto__:null,default:Z1},Symbol.toStringTag,{value:"Module"})),WT=["onClick"],zT={class:"text-green font-bold"},HT={class:"opacity-50"},VT={key:1,class:"opacity-50"},Mh=4*16*2,Vy=2*16,qT=Xe({__name:"SlidesOverview",props:{modelValue:{type:Boolean,required:!0}},emits:[],setup(e,{emit:t}){const s=lo(e,"modelValue",t);function r(){s.value=!1}function i(d){ii(d),r()}function a(d){return d===Kt.value}const l=Mp.smaller("xs"),c=Mp.smaller("sm"),u=m(()=>l.value?Xr.width.value-Mh:c.value?(Xr.width.value-Mh-Vy)/2:300),h=m(()=>Math.floor((Xr.width.value-Mh)/(u.value+Vy))),p=ne("");return Ge("keypress",d=>{if(!jt.value){p.value="";return}if(d.key==="Enter"&&p.value){d.preventDefault(),i(+p.value),p.value="";return}const f=Number.parseInt(d.key.replace(/[^0-9]/g,""));if(Number.isNaN(f)){p.value="";return}if(!p.value&&f===0)return;if(p.value+=String(f),+p.value>=_t.length){p.value="";return}const g=_t.findIndex(_=>_.path===p.value);g!==-1&&(Kt.value=g+1),+p.value*10>_t.length&&(i(+p.value),p.value="")}),zn(()=>{Kt.value=Ct.value,of.value=h.value}),(d,f)=>{const g=OT;return k(),R(nt,null,[ce(Qd,{"enter-active-class":"duration-150 ease-out","enter-from-class":"opacity-0 scale-102 !backdrop-blur-0px","leave-active-class":"duration-200 ease-in","leave-to-class":"opacity-0 scale-102 !backdrop-blur-0px",persisted:""},{default:X(()=>[bv(o("div",{class:"bg-main !bg-opacity-75 p-16 overflow-y-auto backdrop-blur-5px fixed left-0 right-0 top-0 h-[calc(var(--vh,1vh)*100)]",onClick:f[0]||(f[0]=_=>r())},[o("div",{class:"grid gap-y-4 gap-x-8 w-full",style:Tt(`grid-template-columns: repeat(auto-fit,minmax(${u.value}px,1fr))`)},[(k(!0),R(nt,null,zi(A(_t),(_,w)=>(k(),R("div",{key:_.path,class:"relative"},[o("div",{class:lt(["inline-block border rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary transition",a(w+1)||A(Kt)===w+1?"border-$slidev-theme-primary":"border-gray-400"]),style:Tt(A(tf)),onClick:E=>i(+_.path)},[(k(),K(G1,{key:_.path,width:u.value,"clicks-disabled":!0,class:"pointer-events-none"},{default:X(()=>[_!=null&&_.component?(k(),K(A(af),{key:0,is:_.component,"clicks-disabled":!0,class:lt(A(rf)(_)),route:_,"render-context":"overview"},null,8,["is","class","route"])):Ye("v-if",!0),ce(Z1,{page:+_.path},null,8,["page"])]),_:2},1032,["width"]))],14,WT),o("div",{class:"absolute top-0",style:Tt(`left: ${u.value+5}px`)},[p.value&&String(w+1).startsWith(p.value)?(k(),R(nt,{key:0},[o("span",zT,ho(p.value),1),o("span",HT,ho(String(w+1).slice(p.value.length)),1)],64)):(k(),R("span",VT,ho(w+1),1))],4)]))),128))],4)],512),[[t1,A(s)]])]),_:1}),A(s)?(k(),R("button",{key:0,class:"fixed text-2xl top-4 right-4 slidev-icon-btn text-gray-400",onClick:r},[ce(g)])):Ye("v-if",!0)],64)}}}),UT=J(qT,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/SlidesOverview.vue"]]),YT="/assets/logo-b72bde5d.png",GT={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},ZT=Xe({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(e,{emit:t}){const n=e,s=lo(n,"modelValue",t);function r(){s.value=!1}return(i,a)=>(k(),K(kv,null,[A(s)?(k(),R("div",GT,[o("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=l=>r())}),o("div",{class:lt(["m-auto rounded-md bg-main shadow",n.class]),"dark:border":"~ main"},[en(i.$slots,"default")],2)])):Ye("v-if",!0)],1024))}}),KT=J(ZT,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/Modal.vue"]]),XT={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},JT=["innerHTML"],QT=o("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[o("div",{class:"flex gap-1 children:my-auto"},[o("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),o("img",{class:"w-5 h-5",src:YT,alt:"Slidev"}),o("div",{style:{color:"#2082A6"}},[o("b",null,"Sli"),y("dev ")])])],-1),eA=Xe({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(e,{emit:t}){const s=lo(e,"modelValue",t),r=m(()=>typeof st.info=="string");return(i,a)=>(k(),K(KT,{modelValue:A(s),"onUpdate:modelValue":a[0]||(a[0]=l=>ot(s)?s.value=l:null),class:"px-6 py-4"},{default:X(()=>[o("div",XT,[r.value?(k(),R("div",{key:0,class:"mb-4",innerHTML:A(st).info},null,8,JT)):Ye("v-if",!0),QT])]),_:1},8,["modelValue"]))}});const tA=J(eA,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/InfoDialog.vue"]]);function Do(e){return Array.isArray?Array.isArray(e):J1(e)==="[object Array]"}const nA=1/0;function sA(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-nA?"-0":t}function oA(e){return e==null?"":sA(e)}function uo(e){return typeof e=="string"}function K1(e){return typeof e=="number"}function rA(e){return e===!0||e===!1||iA(e)&&J1(e)=="[object Boolean]"}function X1(e){return typeof e=="object"}function iA(e){return X1(e)&&e!==null}function _n(e){return e!=null}function Ph(e){return!e.trim().length}function J1(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const aA="Incorrect 'index' type",lA=e=>`Invalid value for key ${e}`,cA=e=>`Pattern length exceeds max of ${e}.`,uA=e=>`Missing ${e} property in key`,hA=e=>`Property 'weight' in key '${e}' must be a positive integer`,qy=Object.prototype.hasOwnProperty;class pA{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let r=Q1(s);n+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,n+=r.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Q1(e){let t=null,n=null,s=null,r=1,i=null;if(uo(e)||Do(e))s=e,t=Uy(e),n=zp(e);else{if(!qy.call(e,"name"))throw new Error(uA("name"));const a=e.name;if(s=a,qy.call(e,"weight")&&(r=e.weight,r<=0))throw new Error(hA(a));t=Uy(a),n=zp(a),i=e.getFn}return{path:t,id:n,weight:r,src:s,getFn:i}}function Uy(e){return Do(e)?e:e.split(".")}function zp(e){return Do(e)?e.join("."):e}function dA(e,t){let n=[],s=!1;const r=(i,a,l)=>{if(_n(i))if(!a[l])n.push(i);else{let c=a[l];const u=i[c];if(!_n(u))return;if(l===a.length-1&&(uo(u)||K1(u)||rA(u)))n.push(oA(u));else if(Do(u)){s=!0;for(let h=0,p=u.length;h<p;h+=1)r(u[h],a,l+1)}else a.length&&r(u,a,l+1)}};return r(e,uo(t)?t.split("."):t,0),s?n:n[0]}const fA={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},mA={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},yA={location:0,threshold:.6,distance:100},gA={useExtendedSearch:!1,getFn:dA,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var je={...mA,...fA,...yA,...gA};const _A=/[^ ]+/g;function vA(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(r){const i=r.match(_A).length;if(n.has(i))return n.get(i);const a=1/Math.pow(i,.5*e),l=parseFloat(Math.round(a*s)/s);return n.set(i,l),l},clear(){n.clear()}}}class lf{constructor({getFn:t=je.getFn,fieldNormWeight:n=je.fieldNormWeight}={}){this.norm=vA(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,uo(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();uo(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!_n(t)||Ph(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((r,i)=>{let a=r.getFn?r.getFn(t):this.getFn(t,r.path);if(_n(a)){if(Do(a)){let l=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:u,value:h}=c.pop();if(_n(h))if(uo(h)&&!Ph(h)){let p={v:h,i:u,n:this.norm.get(h)};l.push(p)}else Do(h)&&h.forEach((p,d)=>{c.push({nestedArrIndex:d,value:p})})}s.$[i]=l}else if(uo(a)&&!Ph(a)){let l={v:a,n:this.norm.get(a)};s.$[i]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function e0(e,t,{getFn:n=je.getFn,fieldNormWeight:s=je.fieldNormWeight}={}){const r=new lf({getFn:n,fieldNormWeight:s});return r.setKeys(e.map(Q1)),r.setSources(t),r.create(),r}function bA(e,{getFn:t=je.getFn,fieldNormWeight:n=je.fieldNormWeight}={}){const{keys:s,records:r}=e,i=new lf({getFn:t,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(r),i}function ql(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:r=je.distance,ignoreLocation:i=je.ignoreLocation}={}){const a=t/e.length;if(i)return a;const l=Math.abs(s-n);return r?a+l/r:l?1:a}function CA(e=[],t=je.minMatchCharLength){let n=[],s=-1,r=-1,i=0;for(let a=e.length;i<a;i+=1){let l=e[i];l&&s===-1?s=i:!l&&s!==-1&&(r=i-1,r-s+1>=t&&n.push([s,r]),s=-1)}return e[i-1]&&i-s>=t&&n.push([s,i-1]),n}const Rr=32;function wA(e,t,n,{location:s=je.location,distance:r=je.distance,threshold:i=je.threshold,findAllMatches:a=je.findAllMatches,minMatchCharLength:l=je.minMatchCharLength,includeMatches:c=je.includeMatches,ignoreLocation:u=je.ignoreLocation}={}){if(t.length>Rr)throw new Error(cA(Rr));const h=t.length,p=e.length,d=Math.max(0,Math.min(s,p));let f=i,g=d;const _=l>1||c,w=_?Array(p):[];let E;for(;(E=e.indexOf(t,g))>-1;){let I=ql(t,{currentLocation:E,expectedLocation:d,distance:r,ignoreLocation:u});if(f=Math.min(I,f),g=E+h,_){let N=0;for(;N<h;)w[E+N]=1,N+=1}}g=-1;let x=[],C=1,F=h+p;const T=1<<h-1;for(let I=0;I<h;I+=1){let N=0,V=F;for(;N<V;)ql(t,{errors:I,currentLocation:d+V,expectedLocation:d,distance:r,ignoreLocation:u})<=f?N=V:F=V,V=Math.floor((F-N)/2+N);F=V;let q=Math.max(1,d-V+1),ve=a?p:Math.min(d+V,p)+h,ie=Array(ve+2);ie[ve+1]=(1<<I)-1;for(let W=ve;W>=q;W-=1){let H=W-1,de=n[e.charAt(H)];if(_&&(w[H]=+!!de),ie[W]=(ie[W+1]<<1|1)&de,I&&(ie[W]|=(x[W+1]|x[W])<<1|1|x[W+1]),ie[W]&T&&(C=ql(t,{errors:I,currentLocation:H,expectedLocation:d,distance:r,ignoreLocation:u}),C<=f)){if(f=C,g=H,g<=d)break;q=Math.max(1,2*d-g)}}if(ql(t,{errors:I+1,currentLocation:d,expectedLocation:d,distance:r,ignoreLocation:u})>f)break;x=ie}const P={isMatch:g>=0,score:Math.max(.001,C)};if(_){const I=CA(w,l);I.length?c&&(P.indices=I):P.isMatch=!1}return P}function xA(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const r=e.charAt(n);t[r]=(t[r]||0)|1<<s-n-1}return t}class t0{constructor(t,{location:n=je.location,threshold:s=je.threshold,distance:r=je.distance,includeMatches:i=je.includeMatches,findAllMatches:a=je.findAllMatches,minMatchCharLength:l=je.minMatchCharLength,isCaseSensitive:c=je.isCaseSensitive,ignoreLocation:u=je.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:u},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(d,f)=>{this.chunks.push({pattern:d,alphabet:xA(d),startIndex:f})},p=this.pattern.length;if(p>Rr){let d=0;const f=p%Rr,g=p-f;for(;d<g;)h(this.pattern.substr(d,Rr),d),d+=Rr;if(f){const _=p-Rr;h(this.pattern.substr(_),_)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let g={isMatch:!0,score:0};return s&&(g.indices=[[0,t.length-1]]),g}const{location:r,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:u}=this.options;let h=[],p=0,d=!1;this.chunks.forEach(({pattern:g,alphabet:_,startIndex:w})=>{const{isMatch:E,score:x,indices:C}=wA(t,g,_,{location:r+w,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:s,ignoreLocation:u});E&&(d=!0),p+=x,E&&C&&(h=[...h,...C])});let f={isMatch:d,score:d?p/this.chunks.length:1};return d&&s&&(f.indices=h),f}}class vr{constructor(t){this.pattern=t}static isMultiMatch(t){return Yy(t,this.multiRegex)}static isSingleMatch(t){return Yy(t,this.singleRegex)}search(){}}function Yy(e,t){const n=e.match(t);return n?n[1]:null}class kA extends vr{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class BA extends vr{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class EA extends vr{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class TA extends vr{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class AA extends vr{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class SA extends vr{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class n0 extends vr{constructor(t,{location:n=je.location,threshold:s=je.threshold,distance:r=je.distance,includeMatches:i=je.includeMatches,findAllMatches:a=je.findAllMatches,minMatchCharLength:l=je.minMatchCharLength,isCaseSensitive:c=je.isCaseSensitive,ignoreLocation:u=je.ignoreLocation}={}){super(t),this._bitapSearch=new t0(t,{location:n,threshold:s,distance:r,includeMatches:i,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class s0 extends vr{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const r=[],i=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+i,r.push([s,n-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const Hp=[kA,s0,EA,TA,SA,AA,BA,n0],Gy=Hp.length,$A=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,FA="|";function OA(e,t={}){return e.split(FA).map(n=>{let s=n.trim().split($A).filter(i=>i&&!!i.trim()),r=[];for(let i=0,a=s.length;i<a;i+=1){const l=s[i];let c=!1,u=-1;for(;!c&&++u<Gy;){const h=Hp[u];let p=h.isMultiMatch(l);p&&(r.push(new h(p,t)),c=!0)}if(!c)for(u=-1;++u<Gy;){const h=Hp[u];let p=h.isSingleMatch(l);if(p){r.push(new h(p,t));break}}}return r})}const LA=new Set([n0.type,s0.type]);class IA{constructor(t,{isCaseSensitive:n=je.isCaseSensitive,includeMatches:s=je.includeMatches,minMatchCharLength:r=je.minMatchCharLength,ignoreLocation:i=je.ignoreLocation,findAllMatches:a=je.findAllMatches,location:l=je.location,threshold:c=je.threshold,distance:u=je.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:r,findAllMatches:a,ignoreLocation:i,location:l,threshold:c,distance:u},this.pattern=n?t:t.toLowerCase(),this.query=OA(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:r}=this.options;t=r?t:t.toLowerCase();let i=0,a=[],l=0;for(let c=0,u=n.length;c<u;c+=1){const h=n[c];a.length=0,i=0;for(let p=0,d=h.length;p<d;p+=1){const f=h[p],{isMatch:g,indices:_,score:w}=f.search(t);if(g){if(i+=1,l+=w,s){const E=f.constructor.type;LA.has(E)?a=[...a,..._]:a.push(_)}}else{l=0,i=0,a.length=0;break}}if(i){let p={isMatch:!0,score:l/i};return s&&(p.indices=a),p}}return{isMatch:!1,score:1}}}const Vp=[];function MA(...e){Vp.push(...e)}function qp(e,t){for(let n=0,s=Vp.length;n<s;n+=1){let r=Vp[n];if(r.condition(e,t))return new r(e,t)}return new t0(e,t)}const Gc={AND:"$and",OR:"$or"},Up={PATH:"$path",PATTERN:"$val"},Yp=e=>!!(e[Gc.AND]||e[Gc.OR]),PA=e=>!!e[Up.PATH],DA=e=>!Do(e)&&X1(e)&&!Yp(e),Zy=e=>({[Gc.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function o0(e,t,{auto:n=!0}={}){const s=r=>{let i=Object.keys(r);const a=PA(r);if(!a&&i.length>1&&!Yp(r))return s(Zy(r));if(DA(r)){const c=a?r[Up.PATH]:i[0],u=a?r[Up.PATTERN]:r[c];if(!uo(u))throw new Error(lA(c));const h={keyId:zp(c),pattern:u};return n&&(h.searcher=qp(u,t)),h}let l={children:[],operator:i[0]};return i.forEach(c=>{const u=r[c];Do(u)&&u.forEach(h=>{l.children.push(s(h))})}),l};return Yp(e)||(e=Zy(e)),s(e)}function RA(e,{ignoreFieldNorm:t=je.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:r,norm:i,score:a})=>{const l=r?r.weight:null;s*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(t?1:i))}),n.score=s})}function NA(e,t){const n=e.matches;t.matches=[],_n(n)&&n.forEach(s=>{if(!_n(s.indices)||!s.indices.length)return;const{indices:r,value:i}=s;let a={indices:r,value:i};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),t.matches.push(a)})}function jA(e,t){t.score=e.score}function WA(e,t,{includeMatches:n=je.includeMatches,includeScore:s=je.includeScore}={}){const r=[];return n&&r.push(NA),s&&r.push(jA),e.map(i=>{const{idx:a}=i,l={item:t[a],refIndex:a};return r.length&&r.forEach(c=>{c(i,l)}),l})}class Vi{constructor(t,n={},s){this.options={...je,...n},this.options.useExtendedSearch,this._keyStore=new pA(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof lf))throw new Error(aA);this._myIndex=n||e0(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){_n(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,r=this._docs.length;s<r;s+=1){const i=this._docs[s];t(i,s)&&(this.removeAt(s),s-=1,r-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:r,shouldSort:i,sortFn:a,ignoreFieldNorm:l}=this.options;let c=uo(t)?uo(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return RA(c,{ignoreFieldNorm:l}),i&&c.sort(a),K1(n)&&n>-1&&(c=c.slice(0,n)),WA(c,this._docs,{includeMatches:s,includeScore:r})}_searchStringList(t){const n=qp(t,this.options),{records:s}=this._myIndex,r=[];return s.forEach(({v:i,i:a,n:l})=>{if(!_n(i))return;const{isMatch:c,score:u,indices:h}=n.searchIn(i);c&&r.push({item:i,idx:a,matches:[{score:u,value:i,norm:l,indices:h}]})}),r}_searchLogical(t){const n=o0(t,this.options),s=(l,c,u)=>{if(!l.children){const{keyId:p,searcher:d}=l,f=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(c,p),searcher:d});return f&&f.length?[{idx:u,item:c,matches:f}]:[]}const h=[];for(let p=0,d=l.children.length;p<d;p+=1){const f=l.children[p],g=s(f,c,u);if(g.length)h.push(...g);else if(l.operator===Gc.AND)return[]}return h},r=this._myIndex.records,i={},a=[];return r.forEach(({$:l,i:c})=>{if(_n(l)){let u=s(n,l,c);u.length&&(i[c]||(i[c]={idx:c,item:l,matches:[]},a.push(i[c])),u.forEach(({matches:h})=>{i[c].matches.push(...h)}))}}),a}_searchObjectList(t){const n=qp(t,this.options),{keys:s,records:r}=this._myIndex,i=[];return r.forEach(({$:a,i:l})=>{if(!_n(a))return;let c=[];s.forEach((u,h)=>{c.push(...this._findMatches({key:u,value:a[h],searcher:n}))}),c.length&&i.push({idx:l,item:a,matches:c})}),i}_findMatches({key:t,value:n,searcher:s}){if(!_n(n))return[];let r=[];if(Do(n))n.forEach(({v:i,i:a,n:l})=>{if(!_n(i))return;const{isMatch:c,score:u,indices:h}=s.searchIn(i);c&&r.push({score:u,key:t,value:i,idx:a,norm:l,indices:h})});else{const{v:i,n:a}=n,{isMatch:l,score:c,indices:u}=s.searchIn(i);l&&r.push({score:c,key:t,value:i,norm:a,indices:u})}return r}}Vi.version="6.6.2";Vi.createIndex=e0;Vi.parseIndex=bA;Vi.config=je;Vi.parseQuery=o0;MA(IA);const zA={key:0},HA={key:1},VA={key:2},qA={key:3},UA={key:4},YA={key:5},GA={key:6},ZA={key:7},KA={key:8},XA={key:9},JA={key:10},QA={key:11},eS={key:12},tS={key:13},nS={key:14},sS={key:15},oS={key:16},rS={key:17},iS={key:18},aS={key:19},lS={key:20},cS={key:21},uS={key:22},hS={key:23},pS={key:24},dS={key:25},fS={key:26},mS={key:27},yS={key:28},gS={key:29},_S={key:30},vS={key:31},bS={key:32},CS={key:33},wS={key:34},xS={key:35},kS={key:36},BS={key:37},ES={key:38},TS={key:39},AS={key:40},SS={key:41},$S={key:42},FS={key:43},OS={key:44},LS={key:45},IS={key:46},MS={key:47},PS={key:48},DS={key:49},RS={key:50},NS={key:51},jS={key:52},WS={key:53},zS={key:54},HS={key:55},VS={key:56},qS={key:57},US={key:58},YS={key:59},GS={key:60},ZS={key:61},KS={key:62},XS=Xe({__name:"titles",props:{no:{type:[Number,String],required:!0}},setup(e){return(t,n)=>(k(),R("div",null,[+t.no==1?(k(),R("p",zA,"Processes, StateCharts and WorkFlows")):+t.no==2?(k(),R("p",HA,"THANK YOU ORGANIZERS!")):+t.no==3?(k(),R("p",VA,"Ego Slide")):+t.no==4?(k(),R("p",qA,"undefined")):+t.no==5?(k(),R("p",UA,"Processes, StateCharts and WorkFlows")):+t.no==6?(k(),R("p",YA,"React Slide")):+t.no==7?(k(),R("p",GA,"🤌 Italian Restaurant 🤌")):+t.no==8?(k(),R("p",ZA,"/api/process")):+t.no==9?(k(),R("p",KA,"A tale of Success")):+t.no==10?(k(),R("p",XA,"Modeling software around the Real World")):+t.no==11?(k(),R("p",JA,"We have been LIED")):+t.no==12?(k(),R("p",QA,"Long Running Process")):+t.no==13?(k(),R("p",eS,"/api/seat")):+t.no==14?(k(),R("p",tS,"API names")):+t.no==15?(k(),R("p",nS,"How the Real World works: interleaved interactions")):+t.no==16?(k(),R("p",sS,"Is human interaction the only problem?")):+t.no==17?(k(),R("p",oS,"/api/checkout")):+t.no==18?(k(),R("p",rS,"Transactions are a LIE too")):+t.no==19?(k(),R("p",iS,"And what do we do today?")):+t.no==20?(k(),R("p",aS,"…is it fixed now?")):+t.no==21?(k(),R("p",lS,"Real World Problems")):+t.no==22?(k(),R("p",cS,"Upfront checks aren’t an option")):+t.no==23?(k(),R("p",uS,"Long Running Process involve different systems")):+t.no==24?(k(),R("p",hS,"User is an external service too")):+t.no==25?(k(),R("p",pS,"Beer slide")):+t.no==26?(k(),R("p",dS,"ACID may exist only locally")):+t.no==27?(k(),R("p",fS,"…long lived transactions?")):+t.no==28?(k(),R("p",mS,"/api/checkout")):+t.no==29?(k(),R("p",yS,"A communication layer")):+t.no==30?(k(),R("p",gS,"Two kinds of coordination: choreography")):+t.no==31?(k(),R("p",_S,"Two kinds of coordination:")):+t.no==32?(k(),R("p",vS,"Introducing new flows in our application")):+t.no==33?(k(),R("p",bS,"Events as a whole")):+t.no==34?(k(),R("p",CS,"What happens with failures?")):+t.no==35?(k(),R("p",wS,"Compensate all the things!")):+t.no==36?(k(),R("p",xS,"Three kind of transactions: Compensable")):+t.no==37?(k(),R("p",kS,"Three kind of transactions: Retriable")):+t.no==38?(k(),R("p",BS,"Three kind of transactions: Pivot")):+t.no==39?(k(),R("p",ES,"Asynchronous checkout in plain JavaScript")):+t.no==40?(k(),R("p",TS,"undefined")):+t.no==41?(k(),R("p",AS,"Simple implementation")):+t.no==42?(k(),R("p",SS,"Compensation handling")):+t.no==43?(k(),R("p",$S,"Waiting is part of the business process")):+t.no==44?(k(),R("p",FS,"What happens if the process stops?")):+t.no==45?(k(),R("p",OS,"Adding a persistence identifier")):+t.no==46?(k(),R("p",LS,"undefined")):+t.no==47?(k(),R("p",IS,"…ACID maybe?")):+t.no==48?(k(),R("p",MS,"Lack of isolation")):+t.no==49?(k(),R("p",PS,"StateCharts")):+t.no==50?(k(),R("p",DS,"Payment flow using State Machines")):+t.no==51?(k(),R("p",RS,"StateCharts are a DSL rather than Code")):+t.no==52?(k(),R("p",NS,"StateCharts are fully serializable")):+t.no==53?(k(),R("p",jS,"Evolving flows")):+t.no==54?(k(),R("p",WS,"Evolving flows: I do not care!")):+t.no==55?(k(),R("p",zS,"Evolving flows: Restore machine state!")):+t.no==56?(k(),R("p",HS,"Evolving flows: Replay events")):+t.no==57?(k(),R("p",VS,"Evolving flows: Upgrade events")):+t.no==58?(k(),R("p",qS,"Concurrent Executions")):+t.no==59?(k(),R("p",US,"Concurrent execution: Real world")):+t.no==60?(k(),R("p",YS,"Concurrent execution: Sharding")):+t.no==61?(k(),R("p",GS,"LRP means… long to reply APIs?")):+t.no==62?(k(),R("p",ZS,"Long Running Process: The challenges")):+t.no==63?(k(),R("p",KS,"Thanks for your time!")):Ye("v-if",!0)]))}}),JS=J(XS,[["__file","/@slidev/titles.md"]]),QS={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},e3=["value","disabled","onKeydown"],t3=["border","onClick"],n3={"w-4":"","text-right":"",op50:"","text-sm":""},s3=Xe({__name:"Goto",setup(e){const t=ne(),n=ne(),s=ne(),r=ne(),i=ne(""),a=ne(0);function l(C){return C!=null}const c=m(()=>new Vi(_t.map(C=>{var F;return(F=C.meta)==null?void 0:F.slide}).filter(l),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),u=m(()=>i.value.startsWith("/")?i.value.substring(1):i.value),h=m(()=>c.value.search(u.value).map(C=>C.item)),p=m(()=>!!h.value.length);function d(){if(p.value){const C=h.value.at(a.value||0);C&&ii(C.no)}f()}function f(){i.value="",xi.value=!1}function g(C){C.preventDefault(),a.value++,a.value>=h.value.length&&(a.value=0),w()}function _(C){C.preventDefault(),a.value--,a.value<=-2&&(a.value=h.value.length-1),w()}function w(){var F;const C=(F=r.value)==null?void 0:F[a.value];C&&s.value&&(C.offsetTop+C.offsetHeight>s.value.offsetHeight+s.value.scrollTop?s.value.scrollTo({behavior:"smooth",top:C.offsetTop+C.offsetHeight-s.value.offsetHeight+1}):C.offsetTop<s.value.scrollTop&&s.value.scrollTo({behavior:"smooth",top:C.offsetTop}))}function E(C){a.value=0,i.value=C.target.value}function x(C){ii(C),f()}return ze(xi,async C=>{var F;C?(i.value="",a.value=0,setTimeout(()=>{var T;return(T=n.value)==null?void 0:T.focus()},0)):(F=n.value)==null||F.blur()}),ze(ar,()=>{var C;(C=t.value)!=null&&C.contains(ar.value)||f()}),(C,F)=>(k(),R("div",{id:"slidev-goto-dialog",ref_key:"container",ref:t,class:lt(["fixed right-5 transition-all",A(xi)?"top-5":"-top-20"]),"w-90":"","max-w-90":"","min-w-90":""},[o("div",QS,[o("input",{id:"slidev-goto-input",ref_key:"input",ref:n,value:i.value,type:"text",disabled:!A(xi),class:lt(["outline-none bg-transparent",{"text-red-400":!p.value&&i.value}]),placeholder:"Goto...",onKeydown:[jl(d,["enter"]),jl(f,["escape"]),jl(g,["down"]),jl(_,["up"])],onInput:E},null,42,e3)]),h.value.length>0?(k(),R("ul",{key:0,ref_key:"list",ref:s,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[(k(!0),R(nt,null,zi(h.value,(T,P)=>(k(),R("li",{ref_for:!0,ref_key:"items",ref:r,key:T.id,role:"button",tabindex:"0",p:"x-4 y-2","cursor-pointer":"",hover:"op100",flex:"~ gap-2","w-90":"","items-center":"",border:P===0?"":"t main",class:lt(a.value===P?"bg-active op100":"op80"),onClick:nk(I=>x(T.no),["stop","prevent"])},[o("div",n3,ho(T.no),1),ce(A(JS),{no:T.no},null,8,["no"])],10,t3))),128))],512)):Ye("v-if",!0)],2))}});const o3=J(s3,[["__scopeId","data-v-524cc826"],["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/Goto.vue"]]),r3=Xe({__name:"Controls",setup(e){const t=go(),n=go();return(s,r)=>(k(),R(nt,null,[ce(UT,{modelValue:A(jt),"onUpdate:modelValue":r[0]||(r[0]=i=>ot(jt)?jt.value=i:null)},null,8,["modelValue"]),ce(o3),t.value?(k(),K(A(t),{key:0})):Ye("v-if",!0),n.value?(k(),K(A(n),{key:1,modelValue:A($h),"onUpdate:modelValue":r[1]||(r[1]=i=>ot($h)?$h.value=i:null)},null,8,["modelValue"])):Ye("v-if",!0),A(st).info?(k(),K(tA,{key:2,modelValue:A(ka),"onUpdate:modelValue":r[2]||(r[2]=i=>ot(ka)?ka.value=i:null)},null,8,["modelValue"])):Ye("v-if",!0)],64))}}),i3=J(r3,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/Controls.vue"]]),a3={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},l3=o("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),c3=[l3];function u3(e,t){return k(),R("svg",a3,c3)}const h3={name:"carbon-settings-adjust",render:u3},p3={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},d3=o("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),f3=o("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),m3=[d3,f3];function y3(e,t){return k(),R("svg",p3,m3)}const g3={name:"carbon-information",render:y3},_3={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},v3=o("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),b3=[v3];function C3(e,t){return k(),R("svg",_3,b3)}const w3={name:"carbon-download",render:C3},x3={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},k3=o("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),B3=o("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),E3=[k3,B3];function T3(e,t){return k(),R("svg",x3,E3)}const A3={name:"carbon-user-speaker",render:T3},S3={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},$3=o("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),F3=o("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),O3=[$3,F3];function L3(e,t){return k(),R("svg",S3,O3)}const I3={name:"carbon-presentation-file",render:L3},M3={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},P3=o("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),D3=[P3];function R3(e,t){return k(),R("svg",M3,D3)}const N3={name:"carbon-pen",render:R3},j3={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},W3=o("g",{fill:"currentColor"},[o("path",{d:"M213.66 201L201 213.66a8 8 0 0 1-11.31 0L140 164a8 8 0 0 0-13 2.46l-19.46 44.77a8 8 0 0 1-14.85-.71L40.41 50.44a8 8 0 0 1 10-10l160.1 52.24a8 8 0 0 1 .71 14.85L166.45 127a8 8 0 0 0-2.45 13l49.67 49.67a8 8 0 0 1-.01 11.33Z",opacity:".2"}),o("path",{d:"m169.64 134.33l44.77-19.46a16 16 0 0 0-1.41-29.8L52.92 32.8A16 16 0 0 0 32.8 52.92L85.07 213a15.83 15.83 0 0 0 14.41 11h.78a15.83 15.83 0 0 0 14.61-9.59l19.46-44.77L184 219.31a16 16 0 0 0 22.63 0l12.68-12.68a16 16 0 0 0 0-22.63Zm-69.48 73.76l.06-.05Zm95.15-.09l-49.67-49.67a16 16 0 0 0-26 4.94l-19.42 44.65L48 48l159.87 52.21l-44.64 19.41a16 16 0 0 0-4.94 26L208 195.31Z"})],-1),z3=[W3];function H3(e,t){return k(),R("svg",j3,z3)}const V3={name:"ph-cursor-duotone",render:H3},q3={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},U3=o("path",{fill:"currentColor",d:"M219.31 192a16 16 0 0 1 0 22.63l-4.68 4.68a16 16 0 0 1-22.63 0l-55.25-55.24l-21.88 50.34a15.84 15.84 0 0 1-14.61 9.59h-.78a15.82 15.82 0 0 1-14.41-11L32.8 52.92A15.95 15.95 0 0 1 52.92 32.8L213 85.07a16 16 0 0 1 1.41 29.8l-50.34 21.88Z"},null,-1),Y3=[U3];function G3(e,t){return k(),R("svg",q3,Y3)}const r0={name:"ph-cursor-fill",render:G3},Z3={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},K3=o("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),X3=[K3];function J3(e,t){return k(),R("svg",Z3,X3)}const Q3={name:"carbon-sun",render:J3},e$={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},t$=o("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),n$=[t$];function s$(e,t){return k(),R("svg",e$,n$)}const o$={name:"carbon-moon",render:s$},r$={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},i$=o("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),a$=[i$];function l$(e,t){return k(),R("svg",r$,a$)}const c$={name:"carbon-apps",render:l$},u$={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},h$=o("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),p$=[h$];function d$(e,t){return k(),R("svg",u$,p$)}const f$={name:"carbon-arrow-right",render:d$},m$={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},y$=o("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),g$=[y$];function _$(e,t){return k(),R("svg",m$,g$)}const v$={name:"carbon-arrow-left",render:_$},b$={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},C$=o("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),w$=[C$];function x$(e,t){return k(),R("svg",b$,w$)}const k$={name:"carbon-maximize",render:x$},B$={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},E$=o("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),T$=[E$];function A$(e,t){return k(),R("svg",B$,T$)}const S$={name:"carbon-minimize",render:A$},$$={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},F$=o("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),O$=[F$];function L$(e,t){return k(),R("svg",$$,O$)}const I$={name:"carbon-checkmark",render:L$},M$={class:"select-list"},P$={class:"title"},D$={class:"items"},R$=["onClick"],N$=Xe({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(e,{emit:t}){const s=lo(e,"modelValue",t,{passive:!0});return(r,i)=>{const a=I$;return k(),R("div",M$,[o("div",P$,ho(e.title),1),o("div",D$,[(k(!0),R(nt,null,zi(e.items,l=>(k(),R("div",{key:l.value,class:lt(["item",{active:A(s)===l.value}]),onClick:()=>{var c;s.value=l.value,(c=l.onClick)==null||c.call(l)}},[ce(a,{class:lt(["text-green-500",{"opacity-0":A(s)!==l.value}])},null,8,["class"]),y(" "+ho(l.display||l.value),1)],10,R$))),128))])])}}});const j$=J(N$,[["__scopeId","data-v-263ab8b8"],["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/SelectList.vue"]]),W$={class:"text-sm"},z$=Xe({__name:"Settings",setup(e){const t=[{display:"Fit",value:0},{display:"1:1",value:1}];return(n,s)=>(k(),R("div",W$,[ce(j$,{modelValue:A(hc),"onUpdate:modelValue":s[0]||(s[0]=r=>ot(hc)?hc.value=r:null),title:"Scale",items:t},null,8,["modelValue"])]))}}),H$=J(z$,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/Settings.vue"]]),V$={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ main"},q$=Xe({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const s=lo(e,"modelValue",t,{passive:!0}),r=ne();return LB(r,()=>{s.value=!1}),(i,a)=>(k(),R("div",{ref_key:"el",ref:r,class:"flex relative"},[o("button",{class:lt({disabled:e.disabled}),onClick:a[0]||(a[0]=l=>s.value=!A(s))},[en(i.$slots,"button",{class:lt({disabled:e.disabled})})],2),(k(),K(kv,null,[A(s)?(k(),R("div",V$,[en(i.$slots,"menu")])):Ye("v-if",!0)],1024))],512))}}),U$=J(q$,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/MenuButton.vue"]]),Y$={},G$={class:"w-1px opacity-10 bg-current m-1 lg:m-2"};function Z$(e,t){return k(),R("div",G$)}const Ul=J(Y$,[["render",Z$],["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/VerticalDivider.vue"]]),K$={render(){return[]}},X$={class:"slidev-icon-btn"},J$={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},Q$={class:"my-auto"},e4={class:"opacity-50"},t4=Xe({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e,n=Mp.smaller("md"),{isFullscreen:s,toggle:r}=R1,i=m(()=>_d.value?`?password=${_d.value}`:""),a=m(()=>`/presenter/${Ct.value}${i.value}`),l=m(()=>`/${Ct.value}${i.value}`),c=ne();function u(){c.value&&ar.value&&c.value.contains(ar.value)&&ar.value.blur()}const h=m(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),p=go(),d=go();return ht(()=>import("./DrawingControls-3fc2f408.js"),[]).then(f=>d.value=f.default),(f,g)=>{const _=S$,w=k$,E=v$,x=f$,C=c$,F=o$,T=Q3,P=r0,I=V3,N=N3,V=I3,q=Rc("RouterLink"),ve=A3,ie=w3,te=g3,W=h3;return k(),R("nav",{ref_key:"root",ref:c,class:"flex flex-col"},[o("div",{class:lt(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",h.value]),onMouseleave:u},[A(Fo)?Ye("v-if",!0):(k(),R("button",{key:0,class:"slidev-icon-btn",onClick:g[0]||(g[0]=(...H)=>A(r)&&A(r)(...H))},[A(s)?(k(),K(_,{key:0})):(k(),K(w,{key:1}))])),o("button",{class:lt(["slidev-icon-btn",{disabled:!A(HZ)}]),onClick:g[1]||(g[1]=(...H)=>A(ur)&&A(ur)(...H))},[ce(E)],2),o("button",{class:lt(["slidev-icon-btn",{disabled:!A(zZ)}]),title:"Next",onClick:g[2]||(g[2]=(...H)=>A(cr)&&A(cr)(...H))},[ce(x)],2),A(Fo)?Ye("v-if",!0):(k(),R("button",{key:1,class:"slidev-icon-btn",title:"Slides overview",onClick:g[3]||(g[3]=H=>A(N1)())},[ce(C)])),A(jp)?Ye("v-if",!0):(k(),R("button",{key:2,class:"slidev-icon-btn",title:"Toggle dark mode",onClick:g[4]||(g[4]=H=>A(q1)())},[A(ju)?(k(),K(F,{key:0})):(k(),K(T,{key:1}))])),ce(Ul),A(Fo)?Ye("v-if",!0):(k(),R(nt,{key:3},[!A(on)&&!A(n)&&p.value?(k(),R(nt,{key:0},[ce(A(p)),ce(Ul)],64)):Ye("v-if",!0),A(on)?(k(),R("button",{key:1,class:"slidev-icon-btn",title:"Show presenter cursor",onClick:g[5]||(g[5]=H=>Fh.value=!A(Fh))},[A(Fh)?(k(),K(P,{key:0})):(k(),K(I,{key:1,class:"opacity-50"}))])):Ye("v-if",!0)],64)),(!A(st).drawings.presenterOnly||A(on))&&!A(Fo)?(k(),R(nt,{key:4},[o("button",{class:"slidev-icon-btn relative",title:"Drawing",onClick:g[6]||(g[6]=H=>co.value=!A(co))},[ce(N),A(co)?(k(),R("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:Tt({background:A(Wr).color})},null,4)):Ye("v-if",!0)]),ce(Ul)],64)):Ye("v-if",!0),A(Fo)?Ye("v-if",!0):(k(),R(nt,{key:5},[A(on)?(k(),K(q,{key:0,to:l.value,class:"slidev-icon-btn",title:"Play Mode"},{default:X(()=>[ce(V)]),_:1},8,["to"])):Ye("v-if",!0),A(DZ)?(k(),K(q,{key:1,to:a.value,class:"slidev-icon-btn",title:"Presenter Mode"},{default:X(()=>[ce(ve)]),_:1},8,["to"])):Ye("v-if",!0),Ye("v-if",!0)],64)),(k(),R(nt,{key:6},[A(st).download?(k(),R("button",{key:0,class:"slidev-icon-btn",onClick:g[8]||(g[8]=(...H)=>A(vd)&&A(vd)(...H))},[ce(ie)])):Ye("v-if",!0)],64)),!A(on)&&A(st).info&&!A(Fo)?(k(),R("button",{key:7,class:"slidev-icon-btn",onClick:g[9]||(g[9]=H=>ka.value=!A(ka))},[ce(te)])):Ye("v-if",!0),!A(on)&&!A(Fo)?(k(),K(U$,{key:8},{button:X(()=>[o("button",X$,[ce(W)])]),menu:X(()=>[ce(H$)]),_:1})):Ye("v-if",!0),A(Fo)?Ye("v-if",!0):(k(),K(Ul,{key:9})),o("div",J$,[o("div",Q$,[y(ho(A(Ct))+" ",1),o("span",e4,"/ "+ho(A(RZ)),1)])]),ce(A(K$))],34)],512)}}}),n4=J(t4,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/NavControls.vue"]]);function s4(){const e=LE(),t=ne(!1);let n,s;const r=typeof document<"u"&&"startViewTransition"in document;return e.beforeResolve((i,a)=>{if(!(i.meta.transition==="view-transition"||a.meta.transition==="view-transition")){t.value=!1;return}if(!r){t.value=!1,console.warn("View transition is not supported in your browser, fallback to normal transition.");return}t.value=!0;const l=new Promise((p,d)=>{n=p,s=d});let c;const u=new Promise(p=>c=p);return document.startViewTransition(()=>(c(),l)).finished.then(()=>{s=void 0,n=void 0}),u}),r&&e.afterEach(()=>{n==null||n(),s==null||s()}),t}const Gp=ne(!1),i0={render(){return[]}},a0={render(){return[]}},o4={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},r4=Xe({__name:"PresenterMouse",setup(e){return(t,n)=>{const s=r0;return A(Eh).cursor?(k(),R("div",o4,[ce(s,{class:"absolute",style:Tt({left:`${A(Eh).cursor.x}%`,top:`${A(Eh).cursor.y}%`})},null,8,["style"])])):Ye("v-if",!0)}}}),i4=J(r4,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/PresenterMouse.vue"]]),a4=Xe({__name:"SlidesShow",props:{renderContext:{type:String,required:!0}},setup(e){ze(Wt,()=>{var a,l;(a=Wt.value)!=null&&a.meta&&Wt.value.meta.preload!==!1&&(Wt.value.meta.__preloaded=!0),(l=Qh.value)!=null&&l.meta&&Qh.value.meta.preload!==!1&&(Qh.value.meta.__preloaded=!0)},{immediate:!0});const t=s4();let n=[];Jt.beforeEach(()=>{var a;n=[(a=Wt.value)==null?void 0:a.path,vn.value]});const s=go();ht(()=>import("./DrawingLayer-0073f493.js"),[]).then(a=>s.value=a.default);const r=m(()=>_t.filter(a=>{var l;return((l=a.meta)==null?void 0:l.__preloaded)||a===Wt.value}));function i(){Gp.value=!0}return(a,l)=>(k(),R(nt,null,[Ye(" Global Bottom "),ce(A(a0)),Ye(" Slides "),(k(),K(Fw(A(t)?"div":Zx),Qe(A(Gp)?{}:A(UZ),{id:"slideshow",tag:"div",onAfterLeave:i}),{default:X(()=>[(k(!0),R(nt,null,zi(r.value,c=>{var u;return bv((k(),K(A(af),{key:c.path,is:c==null?void 0:c.component,clicks:c===A(Wt)?A(vn):c.path===A(n)[0]?A(n)[1]:0,"clicks-elements":((u=c.meta)==null?void 0:u.__clicksElements)||[],"clicks-disabled":!1,class:lt(A(rf)(c)),route:c,"render-context":a.renderContext},null,8,["is","clicks","clicks-elements","class","route","render-context"])),[[t1,c===A(Wt)]])}),128))]),_:1},16)),Ye(" Global Top "),ce(A(i0)),s.value?(k(),K(A(s),{key:0})):Ye("v-if",!0),A(on)?Ye("v-if",!0):(k(),K(i4,{key:1}))],64))}});const l4=J(a4,[["__scopeId","data-v-46e65d8e"],["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/SlidesShow.vue"]]),c4=Xe({__name:"PrintStyle",setup(e){function t(n,{slots:s}){if(s.default)return cn("style",s.default())}return(n,s)=>(k(),K(t,null,{default:X(()=>[y(" @page { size: "+ho(A(rr))+"px "+ho(A(ef))+"px; margin: 0px; } ",1)]),_:1}))}}),l0=J(c4,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/PrintStyle.vue"]]),u4=Xe({__name:"Play",setup(e){TT();const t=ne();function n(i){var a;Ly.value||((a=i.target)==null?void 0:a.id)==="slide-container"&&(i.screenX/window.innerWidth>.6?cr():ur())}YZ(t);const s=m(()=>ME.value||Ly.value);go();const r=go();return ht(()=>import("./DrawingControls-3fc2f408.js"),[]).then(i=>r.value=i.default),(i,a)=>(k(),R(nt,null,[A(Wi)?(k(),K(l0,{key:0})):Ye("v-if",!0),o("div",{id:"page-root",ref_key:"root",ref:t,class:"grid grid-cols-[1fr_max-content]",style:Tt(A(tf))},[ce(G1,{class:"w-full h-full",style:Tt({background:"var(--slidev-slide-container-background, black)"}),width:A(Wi)?A(Xr).width.value:void 0,scale:A(hc),onPointerdown:n},{default:X(()=>[ce(l4,{"render-context":"slide"})]),controls:X(()=>[o("div",{class:lt(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[s.value?"opacity-100 right-0":"opacity-0 p-2",A(qa)?"pointer-events-none":""]])},[ce(n4,{class:"m-auto",persist:s.value},null,8,["persist"])],2),!A(st).drawings.presenterOnly&&!A(Fo)&&r.value?(k(),K(A(r),{key:0,class:"ml-0"})):Ye("v-if",!0)]),_:1},8,["style","width","scale"]),Ye("v-if",!0)],4),ce(i3)],64))}}),h4=J(u4,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/Play.vue"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function c0(e){return typeof e>"u"||e===null}function p4(e){return typeof e=="object"&&e!==null}function d4(e){return Array.isArray(e)?e:c0(e)?[]:[e]}function f4(e,t){var n,s,r,i;if(t)for(i=Object.keys(t),n=0,s=i.length;n<s;n+=1)r=i[n],e[r]=t[r];return e}function m4(e,t){var n="",s;for(s=0;s<t;s+=1)n+=e;return n}function y4(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var g4=c0,_4=p4,v4=d4,b4=m4,C4=y4,w4=f4,cf={isNothing:g4,isObject:_4,toArray:v4,repeat:b4,isNegativeZero:C4,extend:w4};function u0(e,t){var n="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),s+" "+n):s}function Ya(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=u0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ya.prototype=Object.create(Error.prototype);Ya.prototype.constructor=Ya;Ya.prototype.toString=function(t){return this.name+": "+u0(this,t)};var Nr=Ya,x4=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],k4=["scalar","sequence","mapping"];function B4(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(s){t[String(s)]=n})}),t}function E4(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(x4.indexOf(n)===-1)throw new Nr('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=B4(t.styleAliases||null),k4.indexOf(this.kind)===-1)throw new Nr('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Vt=E4;function Ky(e,t){var n=[];return e[t].forEach(function(s){var r=n.length;n.forEach(function(i,a){i.tag===s.tag&&i.kind===s.kind&&i.multi===s.multi&&(r=a)}),n[r]=s}),n}function T4(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function s(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(s);return e}function Zp(e){return this.extend(e)}Zp.prototype.extend=function(t){var n=[],s=[];if(t instanceof Vt)s.push(t);else if(Array.isArray(t))s=s.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(s=s.concat(t.explicit));else throw new Nr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(i){if(!(i instanceof Vt))throw new Nr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new Nr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new Nr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(i){if(!(i instanceof Vt))throw new Nr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Zp.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(s),r.compiledImplicit=Ky(r,"implicit"),r.compiledExplicit=Ky(r,"explicit"),r.compiledTypeMap=T4(r.compiledImplicit,r.compiledExplicit),r};var A4=Zp,S4=new Vt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),$4=new Vt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),F4=new Vt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),O4=new A4({explicit:[S4,$4,F4]});function L4(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function I4(){return null}function M4(e){return e===null}var P4=new Vt("tag:yaml.org,2002:null",{kind:"scalar",resolve:L4,construct:I4,predicate:M4,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function D4(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function R4(e){return e==="true"||e==="True"||e==="TRUE"}function N4(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var j4=new Vt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:D4,construct:R4,predicate:N4,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function W4(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function z4(e){return 48<=e&&e<=55}function H4(e){return 48<=e&&e<=57}function V4(e){if(e===null)return!1;var t=e.length,n=0,s=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;s=!0}return s&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!W4(e.charCodeAt(n)))return!1;s=!0}return s&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!z4(e.charCodeAt(n)))return!1;s=!0}return s&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!H4(e.charCodeAt(n)))return!1;s=!0}return!(!s||r==="_")}function q4(e){var t=e,n=1,s;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),s=t[0],(s==="-"||s==="+")&&(s==="-"&&(n=-1),t=t.slice(1),s=t[0]),t==="0")return 0;if(s==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function U4(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!cf.isNegativeZero(e)}var Y4=new Vt("tag:yaml.org,2002:int",{kind:"scalar",resolve:V4,construct:q4,predicate:U4,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),G4=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Z4(e){return!(e===null||!G4.test(e)||e[e.length-1]==="_")}function K4(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var X4=/^[-+]?[0-9]+e/;function J4(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(cf.isNegativeZero(e))return"-0.0";return n=e.toString(10),X4.test(n)?n.replace("e",".e"):n}function Q4(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||cf.isNegativeZero(e))}var e2=new Vt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Z4,construct:K4,predicate:Q4,represent:J4,defaultStyle:"lowercase"}),t2=O4.extend({implicit:[P4,j4,Y4,e2]}),n2=t2,h0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),p0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function s2(e){return e===null?!1:h0.exec(e)!==null||p0.exec(e)!==null}function o2(e){var t,n,s,r,i,a,l,c=0,u=null,h,p,d;if(t=h0.exec(e),t===null&&(t=p0.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],s=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,s,r));if(i=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(h=+t[10],p=+(t[11]||0),u=(h*60+p)*6e4,t[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,s,r,i,a,l,c)),u&&d.setTime(d.getTime()-u),d}function r2(e){return e.toISOString()}var i2=new Vt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:s2,construct:o2,instanceOf:Date,represent:r2});function a2(e){return e==="<<"||e===null}var l2=new Vt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:a2}),uf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function c2(e){if(e===null)return!1;var t,n,s=0,r=e.length,i=uf;for(n=0;n<r;n++)if(t=i.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;s+=6}return s%8===0}function u2(e){var t,n,s=e.replace(/[\r\n=]/g,""),r=s.length,i=uf,a=0,l=[];for(t=0;t<r;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|i.indexOf(s.charAt(t));return n=r%4*6,n===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):n===18?(l.push(a>>10&255),l.push(a>>2&255)):n===12&&l.push(a>>4&255),new Uint8Array(l)}function h2(e){var t="",n=0,s,r,i=e.length,a=uf;for(s=0;s<i;s++)s%3===0&&s&&(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]),n=(n<<8)+e[s];return r=i%3,r===0?(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]):r===2?(t+=a[n>>10&63],t+=a[n>>4&63],t+=a[n<<2&63],t+=a[64]):r===1&&(t+=a[n>>2&63],t+=a[n<<4&63],t+=a[64],t+=a[64]),t}function p2(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var d2=new Vt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:c2,construct:u2,predicate:p2,represent:h2}),f2=Object.prototype.hasOwnProperty,m2=Object.prototype.toString;function y2(e){if(e===null)return!0;var t=[],n,s,r,i,a,l=e;for(n=0,s=l.length;n<s;n+=1){if(r=l[n],a=!1,m2.call(r)!=="[object Object]")return!1;for(i in r)if(f2.call(r,i))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}function g2(e){return e!==null?e:[]}var _2=new Vt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:y2,construct:g2}),v2=Object.prototype.toString;function b2(e){if(e===null)return!0;var t,n,s,r,i,a=e;for(i=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(s=a[t],v2.call(s)!=="[object Object]"||(r=Object.keys(s),r.length!==1))return!1;i[t]=[r[0],s[r[0]]]}return!0}function C2(e){if(e===null)return[];var t,n,s,r,i,a=e;for(i=new Array(a.length),t=0,n=a.length;t<n;t+=1)s=a[t],r=Object.keys(s),i[t]=[r[0],s[r[0]]];return i}var w2=new Vt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:b2,construct:C2}),x2=Object.prototype.hasOwnProperty;function k2(e){if(e===null)return!0;var t,n=e;for(t in n)if(x2.call(n,t)&&n[t]!==null)return!1;return!0}function B2(e){return e!==null?e:{}}var E2=new Vt("tag:yaml.org,2002:set",{kind:"mapping",resolve:k2,construct:B2});n2.extend({implicit:[i2,l2],explicit:[d2,_2,w2,E2]});function Xy(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}var T2=new Array(256),A2=new Array(256);for(var vi=0;vi<256;vi++)T2[vi]=Xy(vi)?1:0,A2[vi]=Xy(vi);function S2(e){return Array.from(new Set(e))}function Jy(...e){let t,n,s;e.length===1?(t=0,s=1,[n]=e):[t,n,s=1]=e;const r=[];let i=t;for(;i<n;)r.push(i),i+=s||1;return r}function d0(e,t){if(!t||t==="all"||t==="*")return Jy(1,e+1);const n=[];for(const s of t.split(/[,;]/g))if(!s.includes("-"))n.push(+s);else{const[r,i]=s.split("-",2);n.push(...Jy(+r,i?+i+1:e+1))}return S2(n).filter(s=>s<=e).sort((s,r)=>s-r)}function f0(e){const t=m(()=>e.value.path),n=m(()=>_t.length),s=m(()=>Number.parseInt(t.value.split(/\//g).slice(-1)[0])||1),r=m(()=>ah(s.value)),i=m(()=>_t.find(d=>d.path===`${s.value}`)),a=m(()=>{var d,f,g;return(g=(f=(d=i.value)==null?void 0:d.meta)==null?void 0:f.slide)==null?void 0:g.id}),l=m(()=>{var d,f;return((f=(d=i.value)==null?void 0:d.meta)==null?void 0:f.layout)||(s.value===1?"cover":"default")}),c=m(()=>_t.find(d=>d.path===`${Math.min(_t.length,s.value+1)}`)),u=m(()=>_t.filter(d=>{var f,g;return(g=(f=d.meta)==null?void 0:f.slide)==null?void 0:g.title}).reduce((d,f)=>(Uf(d,f),d),[])),h=m(()=>Yf(u.value,i.value)),p=m(()=>Gf(h.value));return{rawRoutes:_t,route:e,path:t,total:n,currentPage:s,currentPath:r,currentRoute:i,currentSlideId:a,currentLayout:l,nextRoute:c,rawTree:u,treeWithActiveStatuses:h,tree:p,go:ii,downloadPDF:vd,next:cr,nextSlide:il,openInEditor:GZ,prev:ur,prevSlide:al}}function m0(e,t,n){const s=ne(0);Dt(()=>{Jt.afterEach(async()=>{await Dt(),s.value+=1})});const r=m(()=>{var c,u;return s.value,((u=(c=t.value)==null?void 0:c.meta)==null?void 0:u.__clicksElements)||[]}),i=m(()=>{var c,u;return+(((u=(c=t.value)==null?void 0:c.meta)==null?void 0:u.clicks)??r.value.length)}),a=m(()=>n.value<_t.length-1||e.value<i.value),l=m(()=>n.value>1||e.value>0);return{clicks:e,clicksElements:r,clicksTotal:i,hasNext:a,hasPrev:l}}const $2=["id"],F2=Xe({__name:"PrintSlideClick",props:{clicks:{type:Number,required:!0},clicksElements:{type:Array,required:!1},nav:{type:null,required:!0},route:{type:null,required:!0}},emits:["update:clicksElements"],setup(e,{emit:t}){const n=e,s=lo(n,"clicksElements",t),r=m(()=>({height:`${ef}px`,width:`${rr}px`})),i=go();ht(()=>Promise.resolve().then(()=>jT),void 0).then(u=>i.value=u.default);const a=m(()=>n.clicks),l=m0(a,n.nav.currentRoute,n.nav.currentPage),c=m(()=>`${n.route.path.toString().padStart(3,"0")}-${(a.value+1).toString().padStart(2,"0")}`);return pe(_e,M({nav:{...n.nav,...l},configs:st,themeConfigs:m(()=>st.themeConfig)})),(u,h)=>{var p;return k(),R("div",{id:c.value,class:"print-slide-container",style:Tt(r.value)},[ce(A(a0)),ce(A(af),{is:(p=u.route)==null?void 0:p.component,"clicks-elements":A(s),"onUpdate:clicksElements":h[0]||(h[0]=d=>ot(s)?s.value=d:null),clicks:a.value,"clicks-disabled":!1,class:lt(A(rf)(u.route)),route:u.route},null,8,["is","clicks-elements","clicks","class","route"]),i.value?(k(),K(A(i),{key:0,page:+u.route.path},null,8,["page"])):Ye("v-if",!0),ce(A(i0))],12,$2)}}}),Qy=J(F2,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/PrintSlideClick.vue"]]),O2=Xe({__name:"PrintSlide",props:{route:{type:null,required:!0}},setup(e){var i;const t=e,n=ne(((i=t.route.meta)==null?void 0:i.__clicksElements)||[]),s=m(()=>t.route),r=f0(s);return(a,l)=>(k(),R(nt,null,[ce(Qy,{"clicks-elements":n.value,"onUpdate:clicksElements":l[0]||(l[0]=c=>n.value=c),clicks:0,nav:A(r),route:s.value},null,8,["clicks-elements","nav","route"]),A($a)?Ye("v-if",!0):(k(!0),R(nt,{key:0},zi(n.value.length,c=>(k(),K(Qy,{key:c,clicks:c,nav:A(r),route:s.value},null,8,["clicks","nav","route"]))),128))],64))}}),L2=J(O2,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/PrintSlide.vue"]]),I2={id:"print-content"},M2=Xe({__name:"PrintContainer",props:{width:{type:Number,required:!0}},setup(e){const t=e,n=m(()=>t.width),s=m(()=>t.width/or),r=m(()=>n.value/s.value),i=m(()=>r.value<or?n.value/rr:s.value*or/rr);let a=_t;On.value.query.range&&(a=d0(a.length,On.value.query.range).map(u=>a[u-1]));const l=m(()=>({"select-none":!st.selectable}));return pe(Y1,i),(c,u)=>(k(),R("div",{id:"print-container",class:lt(l.value)},[o("div",I2,[(k(!0),R(nt,null,zi(A(a),h=>(k(),K(L2,{key:h.path,route:h},null,8,["route"]))),128))]),en(c.$slots,"controls")],2))}});const P2=J(M2,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/PrintContainer.vue"]]),D2=Xe({__name:"Print",setup(e){return zn(()=>{Wi?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(t,n)=>(k(),R(nt,null,[A(Wi)?(k(),K(l0,{key:0})):Ye("v-if",!0),o("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:Tt(A(tf))},[ce(P2,{class:"w-full h-full",style:Tt({background:"var(--slidev-slide-container-background, black)"}),width:A(Xr).width.value},null,8,["style","width"])],4)],64))}});const R2=J(D2,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/Print.vue"]]);function eg(e){return e.startsWith("/")?"/"+e.slice(1):e}function hf(e,t=!1,n="cover"){const s=e&&(e[0]==="#"||e.startsWith("rgb")),r={background:s?e:void 0,color:e&&!s?"white":void 0,backgroundImage:s?void 0:e?t?`linear-gradient(#0005, #0008), url(${eg(e)})`:`url("${eg(e)}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:n};return r.background||delete r.background,r}const N2=Xe({__name:"image",props:{image:{type:String},backgroundSize:{type:String,default:"cover"}},setup(e){const t=e,n=m(()=>hf(t.image,!1,t.backgroundSize));return(s,r)=>(k(),R("div",{class:"slidev-layout w-full h-full",style:Tt(n.value)},[en(s.$slots,"default")],4))}}),y0=J(N2,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/layouts/image.vue"]]),Xn=M({theme:"default",class:"text-center",highlighter:"shiki",lineNumbers:!1,info:"Mattia Manzati",drawings:{persist:!1},transition:"slide-left",title:"Processes, StateCharts and WorkFlows",layout:"image",image:"/image-cover.jpeg",mdc:!0,download:!0,canvasWidth:850}),j2=M({layout:m(()=>Xn.layout),transition:m(()=>Xn.transition),class:m(()=>Xn.class),clicks:m(()=>Xn.clicks),name:m(()=>Xn.name),slide:{raw:"",title:"Processes, StateCharts and WorkFlows",content:"",note:"",index:0,start:0,end:17,noteHTML:"",frontmatter:Xn,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}),W2={__name:"1",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Xn;return pe(xe,Xn),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Xn))})(),(r,i)=>(k(),K(y0,Be(ke(A(Xn))),null,16))}},z2=J(W2,[["__file","/@slidev/slides/1.md"]]),H2={class:"slidev-layout fact"},V2={class:"my-auto"},q2={__name:"fact",setup(e){const t=b(_e);return ye(t,"nav"),b(me),b(ge),b(be),b(xe),(n,s)=>(k(),R("div",H2,[o("div",V2,[en(n.$slots,"default")])]))}},In=J(q2,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+theme-default@0.21.2/node_modules/@slidev/theme-default/layouts/fact.vue"]]),Jn=M({layout:"fact"}),U2=M({layout:m(()=>Jn.layout),transition:m(()=>Jn.transition),class:m(()=>Jn.class),clicks:m(()=>Jn.clicks),name:m(()=>Jn.name),slide:{raw:"",title:"THANK YOU ORGANIZERS!",level:1,content:"",note:"",index:1,start:17,end:24,noteHTML:"",frontmatter:Jn,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}),Y2=o("h1",null,"THANK YOU ORGANIZERS!",-1),G2={__name:"2",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Jn;return pe(xe,Jn),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Jn))})(),(r,i)=>(k(),K(In,Be(ke(A(Jn))),{default:X(()=>[Y2]),_:1},16))}},Z2=J(G2,[["__file","/@slidev/slides/2.md"]]),K2={class:"grid grid-cols-2 w-full h-full auto-rows-fr"},X2=Xe({__name:"image-left",props:{image:{type:String},class:{type:String},backgroundSize:{type:String,default:"cover"}},setup(e){const t=e,n=m(()=>hf(t.image,!1,t.backgroundSize));return(s,r)=>(k(),R("div",K2,[o("div",{class:"w-full w-full",style:Tt(n.value)},null,4),o("div",{class:lt(["slidev-layout default",t.class])},[en(s.$slots,"default")],2)]))}}),_l=J(X2,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/layouts/image-left.vue"]]),Qn=M({layout:"image-left",image:"/image-me.jpg"}),J2=M({layout:m(()=>Qn.layout),transition:m(()=>Qn.transition),class:m(()=>Qn.class),clicks:m(()=>Qn.clicks),name:m(()=>Qn.name),slide:{raw:"",title:"Ego Slide",level:1,content:"",note:"",index:2,start:24,end:37,noteHTML:"",frontmatter:Qn,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}),Q2=o("h1",null,"Ego Slide",-1),eF=o("br",null,null,-1),tF=o("ul",null,[o("li",null,"Push buttons"),o("li",null,"Type things"),o("li",null,"Break stuff"),o("li",null,"Wear sweatshirt as cape")],-1),nF={__name:"3",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Qn;return pe(xe,Qn),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Qn))})(),(r,i)=>(k(),K(_l,Be(ke(A(Qn))),{default:X(()=>[Q2,eF,tF]),_:1},16))}},sF=J(nF,[["__file","/@slidev/slides/3.md"]]),es=M({layout:"image",image:"/effect-days.jpeg"}),oF=M({layout:m(()=>es.layout),transition:m(()=>es.transition),class:m(()=>es.class),clicks:m(()=>es.clicks),name:m(()=>es.name),slide:{raw:"",content:"",note:"",index:3,start:37,end:42,noteHTML:"",frontmatter:es,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}),rF={__name:"4",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=es;return pe(xe,es),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,es))})(),(r,i)=>(k(),K(y0,Be(ke(A(es))),null,16))}},iF=J(rF,[["__file","/@slidev/slides/4.md"]]),ts=M({layout:"fact"}),aF=M({layout:m(()=>ts.layout),transition:m(()=>ts.transition),class:m(()=>ts.class),clicks:m(()=>ts.clicks),name:m(()=>ts.name),slide:{raw:"",title:"Processes, StateCharts and WorkFlows",level:1,content:"",note:"",index:4,start:42,end:49,noteHTML:"",frontmatter:ts,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}),lF=o("h1",null,"Processes, StateCharts and WorkFlows",-1),cF=o("p",null,"…and React?",-1),uF={__name:"5",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ts;return pe(xe,ts),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ts))})(),(r,i)=>(k(),K(In,Be(ke(A(ts))),{default:X(()=>[lF,cF]),_:1},16))}},hF=J(uF,[["__file","/@slidev/slides/5.md"]]),pF={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},dF=o("path",{fill:"currentColor",d:"M200 32h-36.26a47.92 47.92 0 0 0-71.48 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32 32 0 0 1 32 32H96a32 32 0 0 1 32-32Zm72 184H56V48h26.75A47.93 47.93 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.93 47.93 0 0 0-2.75-16H200Z"},null,-1),fF=[dF];function mF(e,t){return k(),R("svg",pF,fF)}const yF={name:"ph-clipboard",render:mF},gF={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},_F=o("path",{fill:"currentColor",d:"M173.66 98.34a8 8 0 0 1 0 11.32l-56 56a8 8 0 0 1-11.32 0l-24-24a8 8 0 0 1 11.32-11.32L112 148.69l50.34-50.35a8 8 0 0 1 11.32 0ZM232 128A104 104 0 1 1 128 24a104.11 104.11 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),vF=[_F];function bF(e,t){return k(),R("svg",gF,vF)}const CF={name:"ph-check-circle",render:bF};function sQ(){const e=ne(Date.now()),t=o6({interval:1e3}),n=m(()=>{const r=(t.value-e.value)/1e3,i=Math.floor(r%60).toString().padStart(2,"0");return`${Math.floor(r/60).toString().padStart(2,"0")}:${i}`});function s(){e.value=t.value}return{timer:n,resetTimer:s}}function wF(e=5){const t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=n.length;for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*s)));return t.join("")}const xF=["title"],kF=Xe({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},startLine:{type:Number,default:1},lines:{type:Boolean,default:st.lineNumbers},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(e){const t=e,n=b(me),s=b(Dr),r=b(Ba),i=ne(),a=pn();_r(()=>{const h=t.at==null?s==null?void 0:s.value.length:t.at,p=m(()=>r!=null&&r.value?t.ranges.length-1:Math.min(Math.max(0,((n==null?void 0:n.value)||0)-(h||0)),t.ranges.length-1)),d=m(()=>t.ranges[p.value]||"");if(t.ranges.length>=2&&!(r!=null&&r.value)){const f=wF(),g=nB(t.ranges.length-1).map(_=>f+_);s!=null&&s.value&&(s.value.push(...g),Iu(()=>g.forEach(_=>Tp(s.value,_)),a))}zn(()=>{if(!i.value)return;const g=i.value.querySelector(".shiki-dark")?Array.from(i.value.querySelectorAll(".shiki")):[i.value],_=t.startLine;for(const w of g){const E=Array.from(w.querySelectorAll(".line")),x=d0(E.length+_-1,d.value);if(E.forEach((C,F)=>{const T=x.includes(F+_);C.classList.toggle(Or,!0),C.classList.toggle("highlighted",T),C.classList.toggle("dishonored",!T)}),t.maxHeight){const C=Array.from(w.querySelectorAll(".line.highlighted"));C.reduce((T,P)=>P.offsetHeight+T,0)>i.value.offsetHeight?C[0].scrollIntoView({behavior:"smooth",block:"start"}):C.length>0&&C[Math.round((C.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:l,copy:c}=jB();function u(){var p,d;const h=(d=(p=i.value)==null?void 0:p.querySelector(".slidev-code"))==null?void 0:d.textContent;h&&c(h)}return(h,p)=>{const d=CF,f=yF;return k(),R("div",{ref_key:"el",ref:i,class:lt(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":t.lines}]),style:Tt({"max-height":t.maxHeight,"overflow-y":t.maxHeight?"scroll":void 0,"--start":t.startLine})},[en(h.$slots,"default"),A(st).codeCopy?(k(),R("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:A(l)?"Copied":"Copy",onClick:p[0]||(p[0]=g=>u())},[A(l)?(k(),K(d,{key:0,class:"p-2 w-8 h-8"})):(k(),K(f,{key:1,class:"p-2 w-8 h-8"}))],8,xF)):Ye("v-if",!0)],6)}}}),Mt=J(kF,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),BF={},EF={class:"slidev-layout default"};function TF(e,t){return k(),R("div",EF,[en(e.$slots,"default")])}const et=J(BF,[["render",TF],["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/layouts/default.vue"]]),ns=M({}),AF=M({layout:m(()=>ns.layout),transition:m(()=>ns.transition),class:m(()=>ns.class),clicks:m(()=>ns.clicks),name:m(()=>ns.name),slide:{raw:"",title:"React Slide",level:2,content:"",note:"",index:5,start:50,end:63,noteHTML:"",frontmatter:ns,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}),SF=o("h2",null,"React Slide",-1),$F=o("br",null,null,-1),FF=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," Counter"),o("span",{style:{color:"#858585"}},"(){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#858585"}}," ["),o("span",{style:{color:"#D4976C"}},"count"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#D4976C"}}," setCount"),o("span",{style:{color:"#858585"}},"]"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#B8A965"}}," React"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"useState"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#6394BF"}},"0"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"  return"),o("span",{style:{color:"#858585"}}," <"),o("span",{style:{color:"#429988"}},"button"),o("span",{style:{color:"#E0A569"}}," onClick"),o("span",{style:{color:"#CB7676"}},"="),o("span",{style:{color:"#858585"}},"{()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," setCount"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"previous"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#B8A965"}}," previous"),o("span",{style:{color:"#CB7676"}}," +"),o("span",{style:{color:"#6394BF"}}," 1"),o("span",{style:{color:"#858585"}},")}>")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#DBD7CA"}},"    Count: "),o("span",{style:{color:"#858585"}},"{"),o("span",{style:{color:"#B8A965"}},"count"),o("span",{style:{color:"#858585"}},"}")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  </"),o("span",{style:{color:"#429988"}},"button"),o("span",{style:{color:"#858585"}},">")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," Counter"),o("span",{style:{color:"#8E8F8B"}},"(){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#8E8F8B"}}," ["),o("span",{style:{color:"#A65E2B"}},"count"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#A65E2B"}}," setCount"),o("span",{style:{color:"#8E8F8B"}},"]"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#8C862B"}}," React"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"useState"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#296AA3"}},"0"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"  return"),o("span",{style:{color:"#8E8F8B"}}," <"),o("span",{style:{color:"#2F8A89"}},"button"),o("span",{style:{color:"#B58451"}}," onClick"),o("span",{style:{color:"#AB5959"}},"="),o("span",{style:{color:"#8E8F8B"}},"{()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," setCount"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"previous"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#8C862B"}}," previous"),o("span",{style:{color:"#AB5959"}}," +"),o("span",{style:{color:"#296AA3"}}," 1"),o("span",{style:{color:"#8E8F8B"}},")}>")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#393A34"}},"    Count: "),o("span",{style:{color:"#8E8F8B"}},"{"),o("span",{style:{color:"#8C862B"}},"count"),o("span",{style:{color:"#8E8F8B"}},"}")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  </"),o("span",{style:{color:"#2F8A89"}},"button"),o("span",{style:{color:"#8E8F8B"}},">")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),OF={__name:"6",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ns;return pe(xe,ns),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ns))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(ns))),{default:X(()=>[SF,$F,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[FF]),_:1},16)]),_:1},16)}}},LF=J(OF,[["__file","/@slidev/slides/6.md"]]),IF={class:"grid grid-cols-2 w-full h-full auto-rows-fr"},MF=Xe({__name:"image-right",props:{image:{type:String},class:{type:String},backgroundSize:{type:String,default:"cover"}},setup(e){const t=e,n=m(()=>hf(t.image,!1,t.backgroundSize));return(s,r)=>(k(),R("div",IF,[o("div",{class:lt(["slidev-layout default",t.class])},[en(s.$slots,"default")],2),o("div",{class:"w-full w-full",style:Tt(n.value)},null,4)]))}}),vl=J(MF,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/layouts/image-right.vue"]]),ss=M({layout:"image-right",image:"/image-restaurant.jpg"}),PF=M({layout:m(()=>ss.layout),transition:m(()=>ss.transition),class:m(()=>ss.class),clicks:m(()=>ss.clicks),name:m(()=>ss.name),slide:{raw:"",title:"🤌 Italian Restaurant 🤌",level:2,content:"",note:"",index:6,start:63,end:89,noteHTML:`<p>I want to tell you a story, a story about a very special restaurant, lost in the peaks of an unknown mountain in a very small village in Italy.</p>
<p>This village is very special, people say that it is an entirely different dimension, where time has stopped.</p>
<p>People come in and have a seat, order their food, the kitchen cooks the food, people eat and have a coffee, pay and leave, in less than a blink of an eye.</p>
<p>In this village, a young fullstack developer decided to build a restaurant manager application to help his dad drive the restaurant to success.</p>
`,frontmatter:ss,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}),DF=o("h2",null,"🤌 Italian Restaurant 🤌",-1),RF=o("br",null,null,-1),NF=o("ul",null,[o("li",null,"Customer is seated to a table"),o("li",null,"The customer places his order"),o("li",null,"The kitchen cooks the food"),o("li",null,"The customer eats the food"),o("li",null,"The customer pays")],-1),jF=o("p",null,"…gotta go Fast!",-1),WF={__name:"7",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ss;return pe(xe,ss),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ss))})(),(r,i)=>(k(),K(vl,Be(ke(A(ss))),{default:X(()=>[DF,RF,NF,jF]),_:1},16))}},zF=J(WF,[["__file","/@slidev/slides/7.md"]]),os=M({}),HF=M({layout:m(()=>os.layout),transition:m(()=>os.transition),class:m(()=>os.class),clicks:m(()=>os.clicks),name:m(()=>os.name),slide:{raw:"",title:"/api/process",level:1,content:"",note:"",index:7,start:90,end:114,noteHTML:`<p>He builds his application using React, and his backend API has only a single endpoint.</p>
<p>http://localhost/api/process</p>
<p>This single endpoint receives the name of the customer, the order and the payment information to proceed calculating the bill of each order and performing the payment.</p>
<p>A pseudo implementation of this endpoint may look like the one we see here, were we first seat people at a table, we place an order for some items, we then ask for the bill and enventually send a thank you email.</p>
`,frontmatter:os,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}),VF=o("h1",null,"/api/process",-1),qF=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postProcess"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  seatPeople"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"seatCount"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  placeOrder"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"menuItemId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"amount"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," amountDue"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#A1B567"}}," askForBill"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  removeFromBalance"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"cartNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," amountDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  markAsPayed"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postProcess"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  seatPeople"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"seatCount"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  placeOrder"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"menuItemId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"amount"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," amountDue"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#6C7834"}}," askForBill"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  removeFromBalance"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"cartNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," amountDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  markAsPayed"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),UF={__name:"8",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=os;return pe(xe,os),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,os))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(os))),{default:X(()=>[VF,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[qF]),_:1},16)]),_:1},16)}}},YF=J(UF,[["__file","/@slidev/slides/8.md"]]),rs=M({layout:"fact"}),GF=M({layout:m(()=>rs.layout),transition:m(()=>rs.transition),class:m(()=>rs.class),clicks:m(()=>rs.clicks),name:m(()=>rs.name),slide:{raw:"",title:"A tale of Success",level:2,content:"",note:"",index:8,start:114,end:128,noteHTML:`<p>The application is perfect, it works so well, and his dad is so proud of him that finally he says what the boy was waiting years for.</p>
<p>“It’s time for you to leave this small village son, go out, and seek your glory into the real world. Just beware, it’s really different from here, and also there are bad people that break spaghetti before cooking them just because they don't fit the pot, they are the worst.”</p>
<p>The young boy leaves his village, and arrives here in Alicante, and starts knocking every restaurant’s door, trying to sell his application.</p>
`,frontmatter:rs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}),ZF=o("h2",null,"A tale of Success",-1),KF={__name:"9",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=rs;return pe(xe,rs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,rs))})(),(r,i)=>(k(),K(In,Be(ke(A(rs))),{default:X(()=>[ZF]),_:1},16))}},XF=J(KF,[["__file","/@slidev/slides/9.md"]]),is=M({layout:"image-right",image:"/image-restaurant-success.jpg"}),JF=M({layout:m(()=>is.layout),transition:m(()=>is.transition),class:m(()=>is.class),clicks:m(()=>is.clicks),name:m(()=>is.name),slide:{raw:"",title:"Modeling software around the Real World",level:2,content:"",note:"",index:9,start:128,end:153,noteHTML:`<p>He quickly realized that his dad was right, the real world is very different from his hometown village.</p>
<p>People arrive at the restaurant and take a look at the menu. (I usually take a lot of time for that)
The waiter comes and people place their order.
The kitchen starts cooking.
Food is served.
The customer have a coffee and leaves.</p>
`,frontmatter:is,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}),QF=o("h2",null,"Modeling software around the Real World",-1),eO=o("br",null,null,-1),tO=o("ul",null,[o("li",null,"People arrive and seat"),o("li",null,"Choose what to eat (lot of time!)"),o("li",null,"The waiter takes the order (and brings it to kitchen)"),o("li",null,"The chef cooks (time again!)"),o("li",null,"Food is served and people eat (guess what? time!)"),o("li",null,"Customer request the bill and pay")],-1),nO={__name:"10",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=is;return pe(xe,is),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,is))})(),(r,i)=>(k(),K(vl,Be(ke(A(is))),{default:X(()=>[QF,eO,tO]),_:1},16))}},sO=J(nO,[["__file","/@slidev/slides/10.md"]]),as=M({layout:"image-left",image:"/image-time.jpg"}),oO=M({layout:m(()=>as.layout),transition:m(()=>as.transition),class:m(()=>as.class),clicks:m(()=>as.clicks),name:m(()=>as.name),slide:{raw:"",title:"We have been LIED",level:2,content:"",note:"",index:10,start:153,end:178,noteHTML:`<p>Everything takes time to happen.
It may be a very small amount, or it could be hours, but everything takes time.
And software should be built around real world needs right?</p>
<p>Our young developer learned the hard truth about the world. Nothing is synchronous.</p>
<p>Most of the processes happens over time, and over time they may wait for some condition to happen or process to complete before moving on to the next step.</p>
<p>Our waiter has waited for the customers to decide what to eat before taking the order.
The restaurant owner had to wait for the people to complete eating before placing the bill.</p>
`,frontmatter:as,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}),rO=o("h2",null,"We have been LIED",-1),iO=o("br",null,null,-1),aO=o("ul",null,[o("li",null,"Everything takes time to happen"),o("li",null,"The waiter waited for us to choose"),o("li",null,"The owner waited before placing the bill")],-1),lO={__name:"11",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=as;return pe(xe,as),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,as))})(),(r,i)=>(k(),K(_l,Be(ke(A(as))),{default:X(()=>[rO,iO,aO]),_:1},16))}},cO=J(lO,[["__file","/@slidev/slides/11.md"]]),ls=M({layout:"fact"}),uO=M({layout:m(()=>ls.layout),transition:m(()=>ls.transition),class:m(()=>ls.class),clicks:m(()=>ls.clicks),name:m(()=>ls.name),slide:{raw:"",title:"Long Running Process",level:2,content:"",note:"",index:11,start:178,end:192,noteHTML:`<p>Here we just acknowledged what a long running process is.</p>
<p>A long running process is a service that involves multiple steps, and will eventually need to stop in order to wait for an external input to proceed and continue processing.</p>
<p>Before going on I want to clarify a few things, by long running I do not mean that the process is continuously running or waiting for a thread to unlock, but instead it’s long lived and may even span across months or years.</p>
`,frontmatter:ls,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}),hO=o("h2",null,"Long Running Process",-1),pO={__name:"12",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ls;return pe(xe,ls),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ls))})(),(r,i)=>(k(),K(In,Be(ke(A(ls))),{default:X(()=>[hO]),_:1},16))}},dO=J(pO,[["__file","/@slidev/slides/12.md"]]),cs=M({}),fO=M({layout:m(()=>cs.layout),transition:m(()=>cs.transition),class:m(()=>cs.class),clicks:m(()=>cs.clicks),name:m(()=>cs.name),slide:{raw:"",title:"/api/seat",level:2,content:"",note:"",index:12,start:193,end:228,noteHTML:`<p>Our young developer wants to quickly fix his application to jump as soon as possible to the market.
No problem right? Just need to split our old single API into multiple ones, and introduce some new UI to the application that will basically invoke each of the new API.</p>
<p>Now instead of receiving the whole payload at once, we will call one API at a time with only the data needed to process each step.</p>
<p>Persistence is required in order to make our new API work. Our single persistence-less API is now splitted up into multiple ones, and in this very simple implementation every time we split and need to wait for the user to call next api, we introduce a persistence step where we store our domain state.</p>
<p>And right now the first step of each API will be basically checking if the previous one actually happened.</p>
`,frontmatter:cs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}),mO=o("h2",null,"/api/seat",-1),yO=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postSeat"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  seatPeople"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"seatCount"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postSeat"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  seatPeople"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"seatCount"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),gO=o("h2",null,"/api/order",-1),_O=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postOrder"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  placeOrder"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"menuItemId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"amount"),o("span",{style:{color:"#858585"}},")")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postOrder"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  placeOrder"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"menuItemId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"amount"),o("span",{style:{color:"#8E8F8B"}},")")])])])],-1),vO=o("h2",null,"/api/checkout",-1),bO=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postCheckout"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," amountDue"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#A1B567"}}," askForBill"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  removeFromBalance"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"cartNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," amountDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  markAsPayed"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postCheckout"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," amountDue"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#6C7834"}}," askForBill"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  removeFromBalance"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"cartNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," amountDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  markAsPayed"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),CO={__name:"13",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=cs;return pe(xe,cs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,cs))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(cs))),{default:X(()=>[mO,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[yO]),_:1},16),gO,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[_O]),_:1},16),vO,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[bO]),_:1},16)]),_:1},16)}}},wO=J(CO,[["__file","/@slidev/slides/13.md"]]),xO=Xe({__name:"two-cols",props:{class:{type:String},layoutClass:{type:String}},setup(e){const t=e;return(n,s)=>(k(),R("div",{class:lt(["slidev-layout two-columns w-full h-full grid grid-cols-2",t.layoutClass])},[o("div",{class:lt(["col-left",t.class])},[en(n.$slots,"default")],2),o("div",{class:lt(["col-right",t.class])},[en(n.$slots,"right")],2)],2))}}),g0=J(xO,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/layouts/two-cols.vue"]]),us=M({layout:"two-cols"}),kO=M({layout:m(()=>us.layout),transition:m(()=>us.transition),class:m(()=>us.class),clicks:m(()=>us.clicks),name:m(()=>us.name),slide:{raw:"",title:"API names",level:2,content:"",note:"",index:13,start:228,end:266,noteHTML:`<p>Another thing we notice here is that we kinda lost explicit information of what is the order of execution of those steps.</p>
<p>Sure, as humans we may understand by just the names of the APIs which is the expected execution and call order, but what if we are discussing a flow that may contain up to 25 different steps; are you sure to be able to tell the correct execution order by just looking at the API names?</p>
<p>And imagine those being hidden into our code, that’s even worse, there is no explicit list of names to look up, you need to dig into the entire codebase to find out all the possible steps (hoping you don’t miss one!), and then try to lookup all the code checks to find out the correct order the services are expected to be called.</p>
<p>That sounds awesome, right?</p>
`,frontmatter:us,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}),BO=o("h2",null,"API names",-1),EO=o("p",null,"/api/checkout",-1),TO=o("p",null,"/api/order",-1),AO=o("p",null,"/api/seat",-1),SO=o("h2",null,"Execution Flow",-1),$O=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postProcess"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#758575"}},"/* ... */"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  seatPeople"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," seatCount"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  placeOrder"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," menuItemId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," amount"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," amountDue"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#A1B567"}}," askForBill"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  removeFromBalance"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"cartNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," amountDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  markAsPayed"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postProcess"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#A0ADA0"}},"/* ... */"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  seatPeople"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," seatCount"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  placeOrder"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," menuItemId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," amount"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," amountDue"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#6C7834"}}," askForBill"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  removeFromBalance"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"cartNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," amountDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  markAsPayed"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),FO={__name:"14",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=us;return pe(xe,us),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,us))})(),(r,i)=>{const a=Mt;return k(),K(g0,Be(ke(A(us))),{right:X(l=>[SO,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[$O]),_:1},16)]),default:X(()=>[BO,EO,TO,AO]),_:1},16)}}},OO=J(FO,[["__file","/@slidev/slides/14.md"]]),hs=M({}),LO=M({layout:m(()=>hs.layout),transition:m(()=>hs.transition),class:m(()=>hs.class),clicks:m(()=>hs.clicks),name:m(()=>hs.name),slide:{raw:"",title:"How the Real World works: interleaved interactions",level:2,content:"",note:"",index:14,start:267,end:291,noteHTML:`<p>Now that we have gone fully asynchronous, we realize the things in real life happen in a completely different way.</p>
<p>When a customer arrives at a restaurant, it is greated seated.
Now, the waiter instead of staring at the table until the customer has chosen what to eat (and that would be very weird), another customer arrives and it is seated at another table.</p>
<p>Now the waiter goes to take the order from both customers, and finally delivers it to the kitchen.</p>
<p>Now the chef receives both orders at once, and may optimize by cooking both at once.</p>
`,frontmatter:hs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}),IO=o("h2",null,"How the Real World works: interleaved interactions",-1),MO=o("br",null,null,-1),PO=o("ul",null,[o("li",null,"Customer A is seated to a table"),o("li",null,"Customer B is seated to another table next to Customer A"),o("li",null,"The waiter takes Customer A order"),o("li",null,"The waiter takes Customer B order"),o("li",null,"The kitchen receives both orders and cooks them"),o("li",null,"The customers eats the food"),o("li",null,"The customers pays only upon finishing their food")],-1),DO={__name:"15",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=hs;return pe(xe,hs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,hs))})(),(r,i)=>(k(),K(et,Be(ke(A(hs))),{default:X(()=>[IO,MO,PO]),_:1},16))}},RO=J(DO,[["__file","/@slidev/slides/15.md"]]),ps=M({layout:"fact"}),NO=M({layout:m(()=>ps.layout),transition:m(()=>ps.transition),class:m(()=>ps.class),clicks:m(()=>ps.clicks),name:m(()=>ps.name),slide:{raw:"",title:"Is human interaction the only problem?",level:2,content:"",note:"",index:15,start:291,end:306,noteHTML:`<p>So did we just learned that human interactions are the things that force our application to go asynchronous?</p>
<p>Must a long running process span between minutes, hours, days or weeks and involve human interaction in order to be called so?</p>
<p>Or maybe the same apply to a set of automated operations that usually takes a few milliseconds but may take more due to unavailability of external systems like the payment provider?</p>
`,frontmatter:ps,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}),jO=o("h2",null,"Is human interaction the only problem?",-1),WO={__name:"16",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ps;return pe(xe,ps),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ps))})(),(r,i)=>(k(),K(In,Be(ke(A(ps))),{default:X(()=>[jO]),_:1},16))}},zO=J(WO,[["__file","/@slidev/slides/16.md"]]),ds=M({}),HO=M({layout:m(()=>ds.layout),transition:m(()=>ds.transition),class:m(()=>ds.class),clicks:m(()=>ds.clicks),name:m(()=>ds.name),slide:{raw:"",title:"/api/checkout",level:2,content:"",note:"",index:16,start:307,end:326,noteHTML:`<p>Let's take a step back and have a look at our checkout function, here what we do is really simple, we get the amount to pay, we subtract the amount from the card balance, and then we mark the bill as payed.</p>
<p>Do you see any problem in here?</p>
`,frontmatter:ds,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}),VO=o("h2",null,"/api/checkout",-1),qO=o("br",null,null,-1),UO=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postCheckout"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," amountDue"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#A1B567"}}," askForBill"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  removeFromBalance"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"cartNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," amountDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  markAsPayed"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postCheckout"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," amountDue"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#6C7834"}}," askForBill"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  removeFromBalance"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"cartNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," amountDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  markAsPayed"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),YO={__name:"17",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ds;return pe(xe,ds),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ds))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(ds))),{default:X(()=>[VO,qO,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[UO]),_:1},16)]),_:1},16)}}},GO=J(YO,[["__file","/@slidev/slides/17.md"]]),fs=M({}),ZO=M({layout:m(()=>fs.layout),transition:m(()=>fs.transition),class:m(()=>fs.class),clicks:m(()=>fs.clicks),name:m(()=>fs.name),slide:{raw:"",title:"Transactions are a LIE too",level:1,content:"",note:"",index:17,start:327,end:343,noteHTML:`<p>Since day one of learning how to develop software with databases when we were young we have been tought that we need to wrap multiple writes into one transaction, in order to ensure data consistency, right?</p>
<p>With our BEGIN and COMMIT we were thought that we ensure that everything will either happen or completely fail, right?</p>
`,frontmatter:fs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}),KO=o("h1",null,"Transactions are a LIE too",-1),XO=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"BEGIN"),o("span",{style:{color:"#4D9375"}}," TRANSACTION"),o("span",{style:{color:"#DBD7CA"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"UPDATE"),o("span",{style:{color:"#DBD7CA"}}," card_balances "),o("span",{style:{color:"#4D9375"}},"SET"),o("span",{style:{color:"#DBD7CA"}}," balance "),o("span",{style:{color:"#CB7676"}},"="),o("span",{style:{color:"#DBD7CA"}}," balance "),o("span",{style:{color:"#CB7676"}},"-"),o("span",{style:{color:"#6394BF"}}," 10"),o("span",{style:{color:"#4D9375"}}," WHERE"),o("span",{style:{color:"#DBD7CA"}}," card_number "),o("span",{style:{color:"#CB7676"}},"="),o("span",{style:{color:"#6394BF"}}," 42")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"UPDATE"),o("span",{style:{color:"#DBD7CA"}}," orders "),o("span",{style:{color:"#4D9375"}},"SET"),o("span",{style:{color:"#DBD7CA"}}," payed "),o("span",{style:{color:"#CB7676"}},"="),o("span",{style:{color:"#6394BF"}}," 1"),o("span",{style:{color:"#4D9375"}}," WHERE"),o("span",{style:{color:"#DBD7CA"}}," table_id "),o("span",{style:{color:"#CB7676"}},"="),o("span",{style:{color:"#6394BF"}}," 1")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"COMMIT"),o("span",{style:{color:"#4D9375"}}," TRANSACTION"),o("span",{style:{color:"#DBD7CA"}},";")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"BEGIN"),o("span",{style:{color:"#1C6B48"}}," TRANSACTION"),o("span",{style:{color:"#393A34"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"UPDATE"),o("span",{style:{color:"#393A34"}}," card_balances "),o("span",{style:{color:"#1C6B48"}},"SET"),o("span",{style:{color:"#393A34"}}," balance "),o("span",{style:{color:"#AB5959"}},"="),o("span",{style:{color:"#393A34"}}," balance "),o("span",{style:{color:"#AB5959"}},"-"),o("span",{style:{color:"#296AA3"}}," 10"),o("span",{style:{color:"#1C6B48"}}," WHERE"),o("span",{style:{color:"#393A34"}}," card_number "),o("span",{style:{color:"#AB5959"}},"="),o("span",{style:{color:"#296AA3"}}," 42")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"UPDATE"),o("span",{style:{color:"#393A34"}}," orders "),o("span",{style:{color:"#1C6B48"}},"SET"),o("span",{style:{color:"#393A34"}}," payed "),o("span",{style:{color:"#AB5959"}},"="),o("span",{style:{color:"#296AA3"}}," 1"),o("span",{style:{color:"#1C6B48"}}," WHERE"),o("span",{style:{color:"#393A34"}}," table_id "),o("span",{style:{color:"#AB5959"}},"="),o("span",{style:{color:"#296AA3"}}," 1")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"COMMIT"),o("span",{style:{color:"#1C6B48"}}," TRANSACTION"),o("span",{style:{color:"#393A34"}},";")])])])],-1),JO={__name:"18",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=fs;return pe(xe,fs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,fs))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(fs))),{default:X(()=>[KO,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[XO]),_:1},16)]),_:1},16)}}},QO=J(JO,[["__file","/@slidev/slides/18.md"]]),ms=M({}),e9=M({layout:m(()=>ms.layout),transition:m(()=>ms.transition),class:m(()=>ms.class),clicks:m(()=>ms.clicks),name:m(()=>ms.name),slide:{raw:"",title:"And what do we do today?",level:1,content:"",note:"",index:18,start:344,end:363,noteHTML:`<p>And yet today we did not learn the lesson.</p>
<p>What happens here for example if your payment processor succefully processed the payment, but your code somehow fails to mark your table as payed? I am sure that the customer won't be happy to try to pay again for the second time to see if the issue is fixed.</p>
`,frontmatter:ms,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}),t9=o("h1",null,"And what do we do today?",-1),n9=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postProcess"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#758575"}},"  // ...")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  fetch"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#C98A7D"}},"'http://payment.processor/?card='"),o("span",{style:{color:"#CB7676"}}," +"),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"cartNumber"),o("span",{style:{color:"#CB7676"}}," +")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"      +"),o("span",{style:{color:"#C98A7D"}}," '&amount='"),o("span",{style:{color:"#CB7676"}}," +"),o("span",{style:{color:"#B8A965"}}," amountDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  markAsPayed"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#758575"}}," // goes BOOM! 🤯")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#758575"}},"  // ...")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postProcess"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A0ADA0"}},"  // ...")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  fetch"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#B56959"}},"'http://payment.processor/?card='"),o("span",{style:{color:"#AB5959"}}," +"),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"cartNumber"),o("span",{style:{color:"#AB5959"}}," +")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"      +"),o("span",{style:{color:"#B56959"}}," '&amount='"),o("span",{style:{color:"#AB5959"}}," +"),o("span",{style:{color:"#8C862B"}}," amountDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  markAsPayed"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#A0ADA0"}}," // goes BOOM! 🤯")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A0ADA0"}},"  // ...")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),s9={__name:"19",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ms;return pe(xe,ms),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ms))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(ms))),{default:X(()=>[t9,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[n9]),_:1},16)]),_:1},16)}}},o9=J(s9,[["__file","/@slidev/slides/19.md"]]),ys=M({}),r9=M({layout:m(()=>ys.layout),transition:m(()=>ys.transition),class:m(()=>ys.class),clicks:m(()=>ys.clicks),name:m(()=>ys.name),slide:{raw:"",title:"...is it fixed now?",level:1,content:"",note:"",index:19,start:364,end:390,noteHTML:`<p>How many of you forgot to put your begin transaction and commit transaction instructions around your external services call?</p>
<p>There is no magic begin commit and rollback function.</p>
<p>When dealing with different systems, like for example external APIs, databases, and even users, ACID transactions are not an available option.</p>
`,frontmatter:ys,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}),i9=o("h1",null,"…is it fixed now?",-1),a9=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," postProcess"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"  try"),o("span",{style:{color:"#858585"}},"{")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    beginTransaction"),o("span",{style:{color:"#858585"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    fetch"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#C98A7D"}},"'http://payment.processor/?card='"),o("span",{style:{color:"#CB7676"}}," +"),o("span",{style:{color:"#B8A965"}}," payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"cartNumber"),o("span",{style:{color:"#CB7676"}}," +")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"        +"),o("span",{style:{color:"#C98A7D"}}," '&amount='"),o("span",{style:{color:"#CB7676"}}," +"),o("span",{style:{color:"#B8A965"}}," amountDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    markAsPayed"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#758575"}}," // goes BOOM! 🤯")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"payload"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    commitTransaction"),o("span",{style:{color:"#858585"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  }"),o("span",{style:{color:"#4D9375"}},"catch"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"e"),o("span",{style:{color:"#858585"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    rollbackTrasaction"),o("span",{style:{color:"#858585"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," postProcess"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"  try"),o("span",{style:{color:"#8E8F8B"}},"{")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    beginTransaction"),o("span",{style:{color:"#8E8F8B"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    fetch"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#B56959"}},"'http://payment.processor/?card='"),o("span",{style:{color:"#AB5959"}}," +"),o("span",{style:{color:"#8C862B"}}," payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"cartNumber"),o("span",{style:{color:"#AB5959"}}," +")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"        +"),o("span",{style:{color:"#B56959"}}," '&amount='"),o("span",{style:{color:"#AB5959"}}," +"),o("span",{style:{color:"#8C862B"}}," amountDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    markAsPayed"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#A0ADA0"}}," // goes BOOM! 🤯")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"payload"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    commitTransaction"),o("span",{style:{color:"#8E8F8B"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  }"),o("span",{style:{color:"#1C6B48"}},"catch"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"e"),o("span",{style:{color:"#8E8F8B"}},"){")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    rollbackTrasaction"),o("span",{style:{color:"#8E8F8B"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),l9={__name:"20",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ys;return pe(xe,ys),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ys))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(ys))),{default:X(()=>[i9,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[a9]),_:1},16)]),_:1},16)}}},c9=J(l9,[["__file","/@slidev/slides/20.md"]]),gs=M({layout:"image-right",image:"/image-restaurant-2.jpg"}),u9=M({layout:m(()=>gs.layout),transition:m(()=>gs.transition),class:m(()=>gs.class),clicks:m(()=>gs.clicks),name:m(()=>gs.name),slide:{raw:"",title:"Real World Problems",level:2,content:"",note:"",index:20,start:390,end:417,noteHTML:`<p>And is this a problem that only happens in code due to external services?</p>
<p>I would say that's not true, also in real life,  let's imagine the following:</p>
<ul>
<li>Customer is seated to a table</li>
<li>The customer places his order for a steak</li>
<li>The waiter delivers the order</li>
<li>The kitchen finds out it's out of steak</li>
<li>...BOOM! 🤯</li>
</ul>
<p>What do we do now? We cannot expect the real world to rollback as it never happened nothing.</p>
`,frontmatter:gs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}),h9=o("h2",null,"Real World Problems",-1),p9=o("br",null,null,-1),d9=o("ul",null,[o("li",null,"Customer is seated to a table"),o("li",null,"The customer places his order for a steak"),o("li",null,"The kitchen finds out it’s out of steak"),o("li",null,"…BOOM! 🤯")],-1),f9={__name:"21",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=gs;return pe(xe,gs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,gs))})(),(r,i)=>(k(),K(vl,Be(ke(A(gs))),{default:X(()=>[h9,p9,d9]),_:1},16))}},m9=J(f9,[["__file","/@slidev/slides/21.md"]]),_s=M({layout:"fact"}),y9=M({layout:m(()=>_s.layout),transition:m(()=>_s.transition),class:m(()=>_s.class),clicks:m(()=>_s.clicks),name:m(()=>_s.name),slide:{raw:"",title:"Upfront checks aren't an option",level:2,content:"",note:"",index:21,start:417,end:432,noteHTML:`<p>And we cannot also expect to be able to put a check upfront to avoid every possible failure that may happen downstream.</p>
<p>Back to our asynchronous restaurant we cannot expect the waiter to go check for the availability of each plate as the customer places an order for them.</p>
<p>And even if somehow we are able to, what do we do if later the chef burns the food so we are left with no more steaks?</p>
`,frontmatter:_s,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}),g9=o("h2",null,"Upfront checks aren’t an option",-1),_9=o("p",null,"What about possible downstream problems?",-1),v9={__name:"22",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=_s;return pe(xe,_s),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,_s))})(),(r,i)=>(k(),K(In,Be(ke(A(_s))),{default:X(()=>[g9,_9]),_:1},16))}},b9=J(v9,[["__file","/@slidev/slides/22.md"]]),vs=M({layout:"fact"}),C9=M({layout:m(()=>vs.layout),transition:m(()=>vs.transition),class:m(()=>vs.class),clicks:m(()=>vs.clicks),name:m(()=>vs.name),slide:{raw:"",title:"Long Running Process involve different systems",level:2,content:"",note:"",index:22,start:432,end:444,noteHTML:`<p>So as we just learned I would argue that there's no real difference in challenges of processes involving human interactions or being completely automated.</p>
<p>In both cases we are dealing and interacting with services that given an input, may perform some internal work that may involve calling external services and then broadcast new events as thing happens.</p>
`,frontmatter:vs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}),w9=o("h2",null,"Long Running Process involve different systems",-1),x9={__name:"23",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=vs;return pe(xe,vs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,vs))})(),(r,i)=>(k(),K(In,Be(ke(A(vs))),{default:X(()=>[w9]),_:1},16))}},k9=J(x9,[["__file","/@slidev/slides/23.md"]]),bs=M({layout:"image-left",image:"/image-old-computer.jpg"}),B9=M({layout:m(()=>bs.layout),transition:m(()=>bs.transition),class:m(()=>bs.class),clicks:m(()=>bs.clicks),name:m(()=>bs.name),slide:{raw:"",title:"User is an external service too",level:2,content:"",note:"",index:23,start:444,end:464,noteHTML:`<p>And if you think about it, every application has at least two system interacting.</p>
<p>The first one may be the application itself, and the second one is the user itself.
The user is just a service like any other that recives as input a question on the screen, it may take some time to decide, and then replies by clicking things on a screen.</p>
`,frontmatter:bs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}),E9=o("h2",null,"User is an external service too",-1),T9=o("br",null,null,-1),A9=o("ul",null,[o("li",null,"Input: screen"),o("li",null,"Output: key presses and clicks")],-1),S9={__name:"24",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=bs;return pe(xe,bs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,bs))})(),(r,i)=>(k(),K(_l,Be(ke(A(bs))),{default:X(()=>[E9,T9,A9]),_:1},16))}},$9=J(S9,[["__file","/@slidev/slides/24.md"]]),Cs=M({layout:"image-right",image:"/image-ichnusa.jpeg"}),F9=M({layout:m(()=>Cs.layout),transition:m(()=>Cs.transition),class:m(()=>Cs.class),clicks:m(()=>Cs.clicks),name:m(()=>Cs.name),slide:{raw:"",title:"Beer slide",level:2,content:"",note:"",index:24,start:464,end:477,noteHTML:"",frontmatter:Cs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}),O9=o("h2",null,"Beer slide",-1),L9=o("br",null,null,-1),I9=o("ul",null,[o("li",null,"Everyone else had one"),o("li",null,"So why should’nt I"),o("li",null,"Please send me free beer"),o("li",null,"Man, I love lists.")],-1),M9={__name:"25",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Cs;return pe(xe,Cs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Cs))})(),(r,i)=>(k(),K(vl,Be(ke(A(Cs))),{default:X(()=>[O9,L9,I9]),_:1},16))}},P9=J(M9,[["__file","/@slidev/slides/25.md"]]),ws=M({layout:"fact"}),D9=M({layout:m(()=>ws.layout),transition:m(()=>ws.transition),class:m(()=>ws.class),clicks:m(()=>ws.clicks),name:m(()=>ws.name),slide:{raw:"",title:"ACID may exist only locally",level:2,content:"",note:"",index:25,start:477,end:494,noteHTML:`<p>The key thing is that as long we are trying to couple two different systems together, we cannot have classic ACID transactions.</p>
<p>So did we learn that ACID transactions are useless because we always have at least two systems? Not quite.</p>
<p>They exists, but they can be relied only into a local scope for each service.
The software may perform consistent writes to its storage.
As user I can guarantee to always provide a response to each question I receive.
Does it mean that we can also guarantee that the interaction between these two systems will always be correct and consistent?</p>
`,frontmatter:ws,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}),R9=o("h2",null,"ACID may exist only locally",-1),N9={__name:"26",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ws;return pe(xe,ws),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ws))})(),(r,i)=>(k(),K(In,Be(ke(A(ws))),{default:X(()=>[R9]),_:1},16))}},j9=J(N9,[["__file","/@slidev/slides/26.md"]]),xs=M({layout:"image-left",image:"/image-saga.png"}),W9=M({layout:m(()=>xs.layout),transition:m(()=>xs.transition),class:m(()=>xs.class),clicks:m(()=>xs.clicks),name:m(()=>xs.name),slide:{raw:"",title:"...long lived transactions?",level:2,content:"",note:"",index:26,start:494,end:512,noteHTML:`<p>Well here we come to the concept of a Saga.</p>
<p>The idea is, instead of having a big long transaction that spans the entire flow of multiple steps that could involve external systems as we have seen before, you could actually break it up into many smaller transactions, and perform them one after the other, and they are hold on together by some kind of messaging or signaling.</p>
`,frontmatter:xs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}),z9=o("h2",null,"…long lived transactions?",-1),H9=o("br",null,null,-1),V9=o("ul",null,[o("li",null,"Sagas!"),o("li",null,"in 1987 they had computers!")],-1),q9={__name:"27",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=xs;return pe(xe,xs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,xs))})(),(r,i)=>(k(),K(_l,Be(ke(A(xs))),{default:X(()=>[z9,H9,V9]),_:1},16))}},U9=J(q9,[["__file","/@slidev/slides/27.md"]]);function Y9(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=Array.from(typeof e=="string"?[e]:e);s[s.length-1]=s[s.length-1].replace(/\r?\n([\t ]*)$/,"");var r=s.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(h){var p,d;return(d=(p=h.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&d!==void 0?d:0})):l},[]);if(r.length){var i=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");s=s.map(function(l){return l.replace(i,`
`)})}s[0]=s[0].replace(/^\r?\n/,"");var a=s[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),h=u?u[1]:"",p=l;typeof l=="string"&&l.includes(`
`)&&(p=String(l).split(`
`).map(function(d,f){return f===0?d:""+h+d}).join(`
`)),a+=p+s[c+1]}),a}var G9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z9(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _0={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(G9,function(){var n=1e3,s=6e4,r=36e5,i="millisecond",a="second",l="minute",c="hour",u="day",h="week",p="month",d="quarter",f="year",g="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var W=["th","st","nd","rd"],H=te%100;return"["+te+(W[(H-20)%10]||W[H]||W[0])+"]"}},C=function(te,W,H){var de=String(te);return!de||de.length>=W?te:""+Array(W+1-de.length).join(H)+te},F={s:C,z:function(te){var W=-te.utcOffset(),H=Math.abs(W),de=Math.floor(H/60),O=H%60;return(W<=0?"+":"-")+C(de,2,"0")+":"+C(O,2,"0")},m:function te(W,H){if(W.date()<H.date())return-te(H,W);var de=12*(H.year()-W.year())+(H.month()-W.month()),O=W.clone().add(de,p),Y=H-O<0,Z=W.clone().add(de+(Y?-1:1),p);return+(-(de+(H-O)/(Y?O-Z:Z-O))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:p,y:f,w:h,d:u,D:g,h:c,m:l,s:a,ms:i,Q:d}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},T="en",P={};P[T]=x;var I=function(te){return te instanceof ve},N=function te(W,H,de){var O;if(!W)return T;if(typeof W=="string"){var Y=W.toLowerCase();P[Y]&&(O=Y),H&&(P[Y]=H,O=Y);var Z=W.split("-");if(!O&&Z.length>1)return te(Z[0])}else{var Ee=W.name;P[Ee]=W,O=Ee}return!de&&O&&(T=O),O||!de&&T},V=function(te,W){if(I(te))return te.clone();var H=typeof W=="object"?W:{};return H.date=te,H.args=arguments,new ve(H)},q=F;q.l=N,q.i=I,q.w=function(te,W){return V(te,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var ve=function(){function te(H){this.$L=N(H.locale,null,!0),this.parse(H)}var W=te.prototype;return W.parse=function(H){this.$d=function(de){var O=de.date,Y=de.utc;if(O===null)return new Date(NaN);if(q.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var Z=O.match(w);if(Z){var Ee=Z[2]-1||0,Ie=(Z[7]||"0").substring(0,3);return Y?new Date(Date.UTC(Z[1],Ee,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,Ie)):new Date(Z[1],Ee,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,Ie)}}return new Date(O)}(H),this.$x=H.x||{},this.init()},W.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},W.$utils=function(){return q},W.isValid=function(){return this.$d.toString()!==_},W.isSame=function(H,de){var O=V(H);return this.startOf(de)<=O&&O<=this.endOf(de)},W.isAfter=function(H,de){return V(H)<this.startOf(de)},W.isBefore=function(H,de){return this.endOf(de)<V(H)},W.$g=function(H,de,O){return q.u(H)?this[de]:this.set(O,H)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(H,de){var O=this,Y=!!q.u(de)||de,Z=q.p(H),Ee=function(le,ee){var ae=q.w(O.$u?Date.UTC(O.$y,ee,le):new Date(O.$y,ee,le),O);return Y?ae:ae.endOf(u)},Ie=function(le,ee){return q.w(O.toDate()[le].apply(O.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(ee)),O)},He=this.$W,Le=this.$M,ft=this.$D,wt="set"+(this.$u?"UTC":"");switch(Z){case f:return Y?Ee(1,0):Ee(31,11);case p:return Y?Ee(1,Le):Ee(0,Le+1);case h:var xt=this.$locale().weekStart||0,D=(He<xt?He+7:He)-xt;return Ee(Y?ft-D:ft+(6-D),Le);case u:case g:return Ie(wt+"Hours",0);case c:return Ie(wt+"Minutes",1);case l:return Ie(wt+"Seconds",2);case a:return Ie(wt+"Milliseconds",3);default:return this.clone()}},W.endOf=function(H){return this.startOf(H,!1)},W.$set=function(H,de){var O,Y=q.p(H),Z="set"+(this.$u?"UTC":""),Ee=(O={},O[u]=Z+"Date",O[g]=Z+"Date",O[p]=Z+"Month",O[f]=Z+"FullYear",O[c]=Z+"Hours",O[l]=Z+"Minutes",O[a]=Z+"Seconds",O[i]=Z+"Milliseconds",O)[Y],Ie=Y===u?this.$D+(de-this.$W):de;if(Y===p||Y===f){var He=this.clone().set(g,1);He.$d[Ee](Ie),He.init(),this.$d=He.set(g,Math.min(this.$D,He.daysInMonth())).$d}else Ee&&this.$d[Ee](Ie);return this.init(),this},W.set=function(H,de){return this.clone().$set(H,de)},W.get=function(H){return this[q.p(H)]()},W.add=function(H,de){var O,Y=this;H=Number(H);var Z=q.p(de),Ee=function(Le){var ft=V(Y);return q.w(ft.date(ft.date()+Math.round(Le*H)),Y)};if(Z===p)return this.set(p,this.$M+H);if(Z===f)return this.set(f,this.$y+H);if(Z===u)return Ee(1);if(Z===h)return Ee(7);var Ie=(O={},O[l]=s,O[c]=r,O[a]=n,O)[Z]||1,He=this.$d.getTime()+H*Ie;return q.w(He,this)},W.subtract=function(H,de){return this.add(-1*H,de)},W.format=function(H){var de=this,O=this.$locale();if(!this.isValid())return O.invalidDate||_;var Y=H||"YYYY-MM-DDTHH:mm:ssZ",Z=q.z(this),Ee=this.$H,Ie=this.$m,He=this.$M,Le=O.weekdays,ft=O.months,wt=function(ee,ae,Pe,Ze){return ee&&(ee[ae]||ee(de,Y))||Pe[ae].slice(0,Ze)},xt=function(ee){return q.s(Ee%12||12,ee,"0")},D=O.meridiem||function(ee,ae,Pe){var Ze=ee<12?"AM":"PM";return Pe?Ze.toLowerCase():Ze},le={YY:String(this.$y).slice(-2),YYYY:this.$y,M:He+1,MM:q.s(He+1,2,"0"),MMM:wt(O.monthsShort,He,ft,3),MMMM:wt(ft,He),D:this.$D,DD:q.s(this.$D,2,"0"),d:String(this.$W),dd:wt(O.weekdaysMin,this.$W,Le,2),ddd:wt(O.weekdaysShort,this.$W,Le,3),dddd:Le[this.$W],H:String(Ee),HH:q.s(Ee,2,"0"),h:xt(1),hh:xt(2),a:D(Ee,Ie,!0),A:D(Ee,Ie,!1),m:String(Ie),mm:q.s(Ie,2,"0"),s:String(this.$s),ss:q.s(this.$s,2,"0"),SSS:q.s(this.$ms,3,"0"),Z};return Y.replace(E,function(ee,ae){return ae||le[ee]||Z.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(H,de,O){var Y,Z=q.p(de),Ee=V(H),Ie=(Ee.utcOffset()-this.utcOffset())*s,He=this-Ee,Le=q.m(this,Ee);return Le=(Y={},Y[f]=Le/12,Y[p]=Le,Y[d]=Le/3,Y[h]=(He-Ie)/6048e5,Y[u]=(He-Ie)/864e5,Y[c]=He/r,Y[l]=He/s,Y[a]=He/n,Y)[Z]||He,O?Le:q.a(Le)},W.daysInMonth=function(){return this.endOf(p).$D},W.$locale=function(){return P[this.$L]},W.locale=function(H,de){if(!H)return this.$L;var O=this.clone(),Y=N(H,de,!0);return Y&&(O.$L=Y),O},W.clone=function(){return q.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},te}(),ie=ve.prototype;return V.prototype=ie,[["$ms",i],["$s",a],["$m",l],["$H",c],["$W",u],["$M",p],["$y",f],["$D",g]].forEach(function(te){ie[te[1]]=function(W){return this.$g(W,te[0],te[1])}}),V.extend=function(te,W){return te.$i||(te(W,ve,V),te.$i=!0),V},V.locale=N,V.isDayjs=I,V.unix=function(te){return V(1e3*te)},V.en=P[T],V.Ls=P,V.p={},V})})(_0);var K9=_0.exports;const X9=Z9(K9),Bo={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Te={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},pf=function(e="fatal"){let t=Bo.fatal;typeof e=="string"?(e=e.toLowerCase(),e in Bo&&(t=Bo[e])):typeof e=="number"&&(t=e),Te.trace=()=>{},Te.debug=()=>{},Te.info=()=>{},Te.warn=()=>{},Te.error=()=>{},Te.fatal=()=>{},t<=Bo.fatal&&(Te.fatal=console.error?console.error.bind(console,Bn("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Bn("FATAL"))),t<=Bo.error&&(Te.error=console.error?console.error.bind(console,Bn("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Bn("ERROR"))),t<=Bo.warn&&(Te.warn=console.warn?console.warn.bind(console,Bn("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Bn("WARN"))),t<=Bo.info&&(Te.info=console.info?console.info.bind(console,Bn("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Bn("INFO"))),t<=Bo.debug&&(Te.debug=console.debug?console.debug.bind(console,Bn("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Bn("DEBUG"))),t<=Bo.trace&&(Te.trace=console.debug?console.debug.bind(console,Bn("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Bn("TRACE")))},Bn=e=>`%c${X9().format("ss.SSS")} : ${e} : `;var df={};Object.defineProperty(df,"__esModule",{value:!0});var v0=df.sanitizeUrl=void 0,J9=/^([^\w]*)(javascript|data|vbscript)/im,Q9=/&#(\w+)(^\w|;)?/g,eL=/&(newline|tab);/gi,tL=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,nL=/^.+(:|&colon;)/gim,sL=[".","/"];function oL(e){return sL.indexOf(e[0])>-1}function rL(e){return e.replace(Q9,function(t,n){return String.fromCharCode(n)})}function iL(e){var t=rL(e||"").replace(eL,"").replace(tL,"").trim();if(!t)return"about:blank";if(oL(t))return t;var n=t.match(nL);if(!n)return t;var s=n[0];return J9.test(s)?"about:blank":t}v0=df.sanitizeUrl=iL;var aL={value:()=>{}};function b0(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new fc(n)}function fc(e){this._=e}function lL(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",r=n.indexOf(".");if(r>=0&&(s=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}fc.prototype=b0.prototype={constructor:fc,on:function(e,t){var n=this._,s=lL(e+"",n),r,i=-1,a=s.length;if(arguments.length<2){for(;++i<a;)if((r=(e=s[i]).type)&&(r=cL(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(r=(e=s[i]).type)n[r]=tg(n[r],e.name,t);else if(t==null)for(r in n)n[r]=tg(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new fc(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),s=0,r,i;s<r;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],s=0,r=i.length;s<r;++s)i[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)}};function cL(e,t){for(var n=0,s=e.length,r;n<s;++n)if((r=e[n]).name===t)return r.value}function tg(e,t,n){for(var s=0,r=e.length;s<r;++s)if(e[s].name===t){e[s]=aL,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}var Kp="http://www.w3.org/1999/xhtml";const ng={svg:"http://www.w3.org/2000/svg",xhtml:Kp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ng.hasOwnProperty(t)?{space:ng[t],local:e}:e}function uL(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Kp&&t.documentElement.namespaceURI===Kp?t.createElement(e):t.createElementNS(n,e)}}function hL(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function C0(e){var t=Wu(e);return(t.local?hL:uL)(t)}function pL(){}function ff(e){return e==null?pL:function(){return this.querySelector(e)}}function dL(e){typeof e!="function"&&(e=ff(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=s[r]=new Array(a),c,u,h=0;h<a;++h)(c=i[h])&&(u=e.call(c,c.__data__,h,i))&&("__data__"in c&&(u.__data__=c.__data__),l[h]=u);return new Cn(s,this._parents)}function fL(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mL(){return[]}function w0(e){return e==null?mL:function(){return this.querySelectorAll(e)}}function yL(e){return function(){return fL(e.apply(this,arguments))}}function gL(e){typeof e=="function"?e=yL(e):e=w0(e);for(var t=this._groups,n=t.length,s=[],r=[],i=0;i<n;++i)for(var a=t[i],l=a.length,c,u=0;u<l;++u)(c=a[u])&&(s.push(e.call(c,c.__data__,u,a)),r.push(c));return new Cn(s,r)}function x0(e){return function(){return this.matches(e)}}function k0(e){return function(t){return t.matches(e)}}var _L=Array.prototype.find;function vL(e){return function(){return _L.call(this.children,e)}}function bL(){return this.firstElementChild}function CL(e){return this.select(e==null?bL:vL(typeof e=="function"?e:k0(e)))}var wL=Array.prototype.filter;function xL(){return Array.from(this.children)}function kL(e){return function(){return wL.call(this.children,e)}}function BL(e){return this.selectAll(e==null?xL:kL(typeof e=="function"?e:k0(e)))}function EL(e){typeof e!="function"&&(e=x0(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=s[r]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Cn(s,this._parents)}function B0(e){return new Array(e.length)}function TL(){return new Cn(this._enter||this._groups.map(B0),this._parents)}function Zc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zc.prototype={constructor:Zc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function AL(e){return function(){return e}}function SL(e,t,n,s,r,i){for(var a=0,l,c=t.length,u=i.length;a<u;++a)(l=t[a])?(l.__data__=i[a],s[a]=l):n[a]=new Zc(e,i[a]);for(;a<c;++a)(l=t[a])&&(r[a]=l)}function $L(e,t,n,s,r,i,a){var l,c,u=new Map,h=t.length,p=i.length,d=new Array(h),f;for(l=0;l<h;++l)(c=t[l])&&(d[l]=f=a.call(c,c.__data__,l,t)+"",u.has(f)?r[l]=c:u.set(f,c));for(l=0;l<p;++l)f=a.call(e,i[l],l,i)+"",(c=u.get(f))?(s[l]=c,c.__data__=i[l],u.delete(f)):n[l]=new Zc(e,i[l]);for(l=0;l<h;++l)(c=t[l])&&u.get(d[l])===c&&(r[l]=c)}function FL(e){return e.__data__}function OL(e,t){if(!arguments.length)return Array.from(this,FL);var n=t?$L:SL,s=this._parents,r=this._groups;typeof e!="function"&&(e=AL(e));for(var i=r.length,a=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var h=s[u],p=r[u],d=p.length,f=LL(e.call(h,h&&h.__data__,u,s)),g=f.length,_=l[u]=new Array(g),w=a[u]=new Array(g),E=c[u]=new Array(d);n(h,p,_,w,E,f,t);for(var x=0,C=0,F,T;x<g;++x)if(F=_[x]){for(x>=C&&(C=x+1);!(T=w[C])&&++C<g;);F._next=T||null}}return a=new Cn(a,s),a._enter=l,a._exit=c,a}function LL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IL(){return new Cn(this._exit||this._groups.map(B0),this._parents)}function ML(e,t,n){var s=this.enter(),r=this,i=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?i.remove():n(i),s&&r?s.merge(r).order():r}function PL(e){for(var t=e.selection?e.selection():e,n=this._groups,s=t._groups,r=n.length,i=s.length,a=Math.min(r,i),l=new Array(r),c=0;c<a;++c)for(var u=n[c],h=s[c],p=u.length,d=l[c]=new Array(p),f,g=0;g<p;++g)(f=u[g]||h[g])&&(d[g]=f);for(;c<r;++c)l[c]=n[c];return new Cn(l,this._parents)}function DL(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s=e[t],r=s.length-1,i=s[r],a;--r>=0;)(a=s[r])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function RL(e){e||(e=NL);function t(p,d){return p&&d?e(p.__data__,d.__data__):!p-!d}for(var n=this._groups,s=n.length,r=new Array(s),i=0;i<s;++i){for(var a=n[i],l=a.length,c=r[i]=new Array(l),u,h=0;h<l;++h)(u=a[h])&&(c[h]=u);c.sort(t)}return new Cn(r,this._parents).order()}function NL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function jL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function WL(){return Array.from(this)}function zL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length;r<i;++r){var a=s[r];if(a)return a}return null}function HL(){let e=0;for(const t of this)++e;return e}function VL(){return!this.node()}function qL(e){for(var t=this._groups,n=0,s=t.length;n<s;++n)for(var r=t[n],i=0,a=r.length,l;i<a;++i)(l=r[i])&&e.call(l,l.__data__,i,r);return this}function UL(e){return function(){this.removeAttribute(e)}}function YL(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GL(e,t){return function(){this.setAttribute(e,t)}}function ZL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function KL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XL(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function JL(e,t){var n=Wu(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((t==null?n.local?YL:UL:typeof t=="function"?n.local?XL:KL:n.local?ZL:GL)(n,t))}function E0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function QL(e){return function(){this.style.removeProperty(e)}}function eI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function tI(e,t,n){return function(){var s=t.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function nI(e,t,n){return arguments.length>1?this.each((t==null?QL:typeof t=="function"?tI:eI)(e,t,n??"")):Mi(this.node(),e)}function Mi(e,t){return e.style.getPropertyValue(t)||E0(e).getComputedStyle(e,null).getPropertyValue(t)}function sI(e){return function(){delete this[e]}}function oI(e,t){return function(){this[e]=t}}function rI(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function iI(e,t){return arguments.length>1?this.each((t==null?sI:typeof t=="function"?rI:oI)(e,t)):this.node()[e]}function T0(e){return e.trim().split(/^|\s+/)}function mf(e){return e.classList||new A0(e)}function A0(e){this._node=e,this._names=T0(e.getAttribute("class")||"")}A0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function S0(e,t){for(var n=mf(e),s=-1,r=t.length;++s<r;)n.add(t[s])}function $0(e,t){for(var n=mf(e),s=-1,r=t.length;++s<r;)n.remove(t[s])}function aI(e){return function(){S0(this,e)}}function lI(e){return function(){$0(this,e)}}function cI(e,t){return function(){(t.apply(this,arguments)?S0:$0)(this,e)}}function uI(e,t){var n=T0(e+"");if(arguments.length<2){for(var s=mf(this.node()),r=-1,i=n.length;++r<i;)if(!s.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?cI:t?aI:lI)(n,t))}function hI(){this.textContent=""}function pI(e){return function(){this.textContent=e}}function dI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fI(e){return arguments.length?this.each(e==null?hI:(typeof e=="function"?dI:pI)(e)):this.node().textContent}function mI(){this.innerHTML=""}function yI(e){return function(){this.innerHTML=e}}function gI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _I(e){return arguments.length?this.each(e==null?mI:(typeof e=="function"?gI:yI)(e)):this.node().innerHTML}function vI(){this.nextSibling&&this.parentNode.appendChild(this)}function bI(){return this.each(vI)}function CI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wI(){return this.each(CI)}function xI(e){var t=typeof e=="function"?e:C0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kI(){return null}function BI(e,t){var n=typeof e=="function"?e:C0(e),s=t==null?kI:typeof t=="function"?t:ff(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function EI(){var e=this.parentNode;e&&e.removeChild(this)}function TI(){return this.each(EI)}function AI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function SI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $I(e){return this.select(e?SI:AI)}function FI(e){return arguments.length?this.property("__data__",e):this.node().__data__}function OI(e){return function(t){e.call(this,t,this.__data__)}}function LI(e){return e.trim().split(/^|\s+/).map(function(t){var n="",s=t.indexOf(".");return s>=0&&(n=t.slice(s+1),t=t.slice(0,s)),{type:t,name:n}})}function II(e){return function(){var t=this.__on;if(t){for(var n=0,s=-1,r=t.length,i;n<r;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++s]=i;++s?t.length=s:delete this.__on}}}function MI(e,t,n){return function(){var s=this.__on,r,i=OI(t);if(s){for(var a=0,l=s.length;a<l;++a)if((r=s[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},s?s.push(r):this.__on=[r]}}function PI(e,t,n){var s=LI(e+""),r,i=s.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,h;c<u;++c)for(r=0,h=l[c];r<i;++r)if((a=s[r]).type===h.type&&a.name===h.name)return h.value}return}for(l=t?MI:II,r=0;r<i;++r)this.each(l(s[r],t,n));return this}function F0(e,t,n){var s=E0(e),r=s.CustomEvent;typeof r=="function"?r=new r(t,n):(r=s.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function DI(e,t){return function(){return F0(this,e,t)}}function RI(e,t){return function(){return F0(this,e,t.apply(this,arguments))}}function NI(e,t){return this.each((typeof t=="function"?RI:DI)(e,t))}function*jI(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var s=e[t],r=0,i=s.length,a;r<i;++r)(a=s[r])&&(yield a)}var O0=[null];function Cn(e,t){this._groups=e,this._parents=t}function bl(){return new Cn([[document.documentElement]],O0)}function WI(){return this}Cn.prototype=bl.prototype={constructor:Cn,select:dL,selectAll:gL,selectChild:CL,selectChildren:BL,filter:EL,data:OL,enter:TL,exit:IL,join:ML,merge:PL,selection:WI,order:DL,sort:RL,call:jL,nodes:WL,node:zL,size:HL,empty:VL,each:qL,attr:JL,style:nI,property:iI,classed:uI,text:fI,html:_I,raise:bI,lower:wI,append:xI,insert:BI,remove:TI,clone:$I,datum:FI,on:PI,dispatch:NI,[Symbol.iterator]:jI};function An(e){return typeof e=="string"?new Cn([[document.querySelector(e)]],[document.documentElement]):new Cn([[e]],O0)}function yf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function L0(e,t){var n=Object.create(e.prototype);for(var s in t)n[s]=t[s];return n}function Cl(){}var Ga=.7,Kc=1/Ga,$i="\\s*([+-]?\\d+)\\s*",Za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zI=/^#([0-9a-f]{3,8})$/,HI=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),VI=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),qI=new RegExp(`^rgba\\(${$i},${$i},${$i},${Za}\\)$`),UI=new RegExp(`^rgba\\(${po},${po},${po},${Za}\\)$`),YI=new RegExp(`^hsl\\(${Za},${po},${po}\\)$`),GI=new RegExp(`^hsla\\(${Za},${po},${po},${Za}\\)$`),sg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yf(Cl,Ka,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:og,formatHex:og,formatHex8:ZI,formatHsl:KI,formatRgb:rg,toString:rg});function og(){return this.rgb().formatHex()}function ZI(){return this.rgb().formatHex8()}function KI(){return I0(this).formatHsl()}function rg(){return this.rgb().formatRgb()}function Ka(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zI.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ig(t):n===3?new an(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HI.exec(e))?new an(t[1],t[2],t[3],1):(t=VI.exec(e))?new an(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=qI.exec(e))?Yl(t[1],t[2],t[3],t[4]):(t=UI.exec(e))?Yl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YI.exec(e))?cg(t[1],t[2]/100,t[3]/100,1):(t=GI.exec(e))?cg(t[1],t[2]/100,t[3]/100,t[4]):sg.hasOwnProperty(e)?ig(sg[e]):e==="transparent"?new an(NaN,NaN,NaN,0):null}function ig(e){return new an(e>>16&255,e>>8&255,e&255,1)}function Yl(e,t,n,s){return s<=0&&(e=t=n=NaN),new an(e,t,n,s)}function XI(e){return e instanceof Cl||(e=Ka(e)),e?(e=e.rgb(),new an(e.r,e.g,e.b,e.opacity)):new an}function Xp(e,t,n,s){return arguments.length===1?XI(e):new an(e,t,n,s??1)}function an(e,t,n,s){this.r=+e,this.g=+t,this.b=+n,this.opacity=+s}yf(an,Xp,L0(Cl,{brighter(e){return e=e==null?Kc:Math.pow(Kc,e),new an(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ga:Math.pow(Ga,e),new an(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new an(Jr(this.r),Jr(this.g),Jr(this.b),Xc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ag,formatHex:ag,formatHex8:JI,formatRgb:lg,toString:lg}));function ag(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}`}function JI(){return`#${zr(this.r)}${zr(this.g)}${zr(this.b)}${zr((isNaN(this.opacity)?1:this.opacity)*255)}`}function lg(){const e=Xc(this.opacity);return`${e===1?"rgb(":"rgba("}${Jr(this.r)}, ${Jr(this.g)}, ${Jr(this.b)}${e===1?")":`, ${e})`}`}function Xc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zr(e){return e=Jr(e),(e<16?"0":"")+e.toString(16)}function cg(e,t,n,s){return s<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nn(e,t,n,s)}function I0(e){if(e instanceof Nn)return new Nn(e.h,e.s,e.l,e.opacity);if(e instanceof Cl||(e=Ka(e)),!e)return new Nn;if(e instanceof Nn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,s=e.b/255,r=Math.min(t,n,s),i=Math.max(t,n,s),a=NaN,l=i-r,c=(i+r)/2;return l?(t===i?a=(n-s)/l+(n<s)*6:n===i?a=(s-t)/l+2:a=(t-n)/l+4,l/=c<.5?i+r:2-i-r,a*=60):l=c>0&&c<1?0:a,new Nn(a,l,c,e.opacity)}function QI(e,t,n,s){return arguments.length===1?I0(e):new Nn(e,t,n,s??1)}function Nn(e,t,n,s){this.h=+e,this.s=+t,this.l=+n,this.opacity=+s}yf(Nn,QI,L0(Cl,{brighter(e){return e=e==null?Kc:Math.pow(Kc,e),new Nn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ga:Math.pow(Ga,e),new Nn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*t,r=2*n-s;return new an(Dh(e>=240?e-240:e+120,r,s),Dh(e,r,s),Dh(e<120?e+240:e-120,r,s),this.opacity)},clamp(){return new Nn(ug(this.h),Gl(this.s),Gl(this.l),Xc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xc(this.opacity);return`${e===1?"hsl(":"hsla("}${ug(this.h)}, ${Gl(this.s)*100}%, ${Gl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ug(e){return e=(e||0)%360,e<0?e+360:e}function Gl(e){return Math.max(0,Math.min(1,e||0))}function Dh(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gf=e=>()=>e;function M0(e,t){return function(n){return e+n*t}}function e7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(s){return Math.pow(e+s*t,n)}}function oQ(e,t){var n=t-e;return n?M0(e,n>180||n<-180?n-360*Math.round(n/360):n):gf(isNaN(e)?t:e)}function t7(e){return(e=+e)==1?P0:function(t,n){return n-t?e7(t,n,e):gf(isNaN(t)?n:t)}}function P0(e,t){var n=t-e;return n?M0(e,n):gf(isNaN(e)?t:e)}const hg=function e(t){var n=t7(t);function s(r,i){var a=n((r=Xp(r)).r,(i=Xp(i)).r),l=n(r.g,i.g),c=n(r.b,i.b),u=P0(r.opacity,i.opacity);return function(h){return r.r=a(h),r.g=l(h),r.b=c(h),r.opacity=u(h),r+""}}return s.gamma=e,s}(1);function Xo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Jp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rh=new RegExp(Jp.source,"g");function n7(e){return function(){return e}}function s7(e){return function(t){return e(t)+""}}function o7(e,t){var n=Jp.lastIndex=Rh.lastIndex=0,s,r,i,a=-1,l=[],c=[];for(e=e+"",t=t+"";(s=Jp.exec(e))&&(r=Rh.exec(t));)(i=r.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(s=s[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,c.push({i:a,x:Xo(s,r)})),n=Rh.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?s7(c[0].x):n7(t):(t=c.length,function(u){for(var h=0,p;h<t;++h)l[(p=c[h]).i]=p.x(u);return l.join("")})}var pg=180/Math.PI,Qp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function D0(e,t,n,s,r,i){var a,l,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*s)&&(n-=e*c,s-=t*c),(l=Math.sqrt(n*n+s*s))&&(n/=l,s/=l,c/=l),e*s<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*pg,skewX:Math.atan(c)*pg,scaleX:a,scaleY:l}}var Zl;function r7(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qp:D0(t.a,t.b,t.c,t.d,t.e,t.f)}function i7(e){return e==null||(Zl||(Zl=document.createElementNS("http://www.w3.org/2000/svg","g")),Zl.setAttribute("transform",e),!(e=Zl.transform.baseVal.consolidate()))?Qp:(e=e.matrix,D0(e.a,e.b,e.c,e.d,e.e,e.f))}function R0(e,t,n,s){function r(u){return u.length?u.pop()+" ":""}function i(u,h,p,d,f,g){if(u!==p||h!==d){var _=f.push("translate(",null,t,null,n);g.push({i:_-4,x:Xo(u,p)},{i:_-2,x:Xo(h,d)})}else(p||d)&&f.push("translate("+p+t+d+n)}function a(u,h,p,d){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),d.push({i:p.push(r(p)+"rotate(",null,s)-2,x:Xo(u,h)})):h&&p.push(r(p)+"rotate("+h+s)}function l(u,h,p,d){u!==h?d.push({i:p.push(r(p)+"skewX(",null,s)-2,x:Xo(u,h)}):h&&p.push(r(p)+"skewX("+h+s)}function c(u,h,p,d,f,g){if(u!==p||h!==d){var _=f.push(r(f)+"scale(",null,",",null,")");g.push({i:_-4,x:Xo(u,p)},{i:_-2,x:Xo(h,d)})}else(p!==1||d!==1)&&f.push(r(f)+"scale("+p+","+d+")")}return function(u,h){var p=[],d=[];return u=e(u),h=e(h),i(u.translateX,u.translateY,h.translateX,h.translateY,p,d),a(u.rotate,h.rotate,p,d),l(u.skewX,h.skewX,p,d),c(u.scaleX,u.scaleY,h.scaleX,h.scaleY,p,d),u=h=null,function(f){for(var g=-1,_=d.length,w;++g<_;)p[(w=d[g]).i]=w.x(f);return p.join("")}}}var a7=R0(r7,"px, ","px)","deg)"),l7=R0(i7,", ",")",")"),Pi=0,ya=0,ia=0,N0=1e3,Jc,ga,Qc=0,si=0,zu=0,Xa=typeof performance=="object"&&performance.now?performance:Date,j0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _f(){return si||(j0(c7),si=Xa.now()+zu)}function c7(){si=0}function eu(){this._call=this._time=this._next=null}eu.prototype=W0.prototype={constructor:eu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_f():+n)+(t==null?0:+t),!this._next&&ga!==this&&(ga?ga._next=this:Jc=this,ga=this),this._call=e,this._time=n,ed()},stop:function(){this._call&&(this._call=null,this._time=1/0,ed())}};function W0(e,t,n){var s=new eu;return s.restart(e,t,n),s}function u7(){_f(),++Pi;for(var e=Jc,t;e;)(t=si-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Pi}function dg(){si=(Qc=Xa.now())+zu,Pi=ya=0;try{u7()}finally{Pi=0,p7(),si=0}}function h7(){var e=Xa.now(),t=e-Qc;t>N0&&(zu-=t,Qc=e)}function p7(){for(var e,t=Jc,n,s=1/0;t;)t._call?(s>t._time&&(s=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jc=n);ga=e,ed(s)}function ed(e){if(!Pi){ya&&(ya=clearTimeout(ya));var t=e-si;t>24?(e<1/0&&(ya=setTimeout(dg,e-Xa.now()-zu)),ia&&(ia=clearInterval(ia))):(ia||(Qc=Xa.now(),ia=setInterval(h7,N0)),Pi=1,j0(dg))}}function fg(e,t,n){var s=new eu;return t=t==null?0:+t,s.restart(r=>{s.stop(),e(r+t)},t,n),s}var d7=b0("start","end","cancel","interrupt"),f7=[],z0=0,mg=1,td=2,mc=3,yg=4,nd=5,yc=6;function Hu(e,t,n,s,r,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;m7(e,n,{name:t,index:s,group:r,on:d7,tween:f7,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:z0})}function vf(e,t){var n=Gn(e,t);if(n.state>z0)throw new Error("too late; already scheduled");return n}function bo(e,t){var n=Gn(e,t);if(n.state>mc)throw new Error("too late; already running");return n}function Gn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function m7(e,t,n){var s=e.__transition,r;s[t]=n,n.timer=W0(i,0,n.time);function i(u){n.state=mg,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var h,p,d,f;if(n.state!==mg)return c();for(h in s)if(f=s[h],f.name===n.name){if(f.state===mc)return fg(a);f.state===yg?(f.state=yc,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete s[h]):+h<t&&(f.state=yc,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete s[h])}if(fg(function(){n.state===mc&&(n.state=yg,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=td,n.on.call("start",e,e.__data__,n.index,n.group),n.state===td){for(n.state=mc,r=new Array(d=n.tween.length),h=0,p=-1;h<d;++h)(f=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++p]=f);r.length=p+1}}function l(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=nd,1),p=-1,d=r.length;++p<d;)r[p].call(e,h);n.state===nd&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=yc,n.timer.stop(),delete s[t];for(var u in s)return;delete e.__transition}}function y7(e,t){var n=e.__transition,s,r,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((s=n[a]).name!==t){i=!1;continue}r=s.state>td&&s.state<nd,s.state=yc,s.timer.stop(),s.on.call(r?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[a]}i&&delete e.__transition}}function g7(e){return this.each(function(){y7(this,e)})}function _7(e,t){var n,s;return function(){var r=bo(this,e),i=r.tween;if(i!==n){s=n=i;for(var a=0,l=s.length;a<l;++a)if(s[a].name===t){s=s.slice(),s.splice(a,1);break}}r.tween=s}}function v7(e,t,n){var s,r;if(typeof n!="function")throw new Error;return function(){var i=bo(this,e),a=i.tween;if(a!==s){r=(s=a).slice();for(var l={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=l;break}c===u&&r.push(l)}i.tween=r}}function b7(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s=Gn(this.node(),n).tween,r=0,i=s.length,a;r<i;++r)if((a=s[r]).name===e)return a.value;return null}return this.each((t==null?_7:v7)(n,e,t))}function bf(e,t,n){var s=e._id;return e.each(function(){var r=bo(this,s);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Gn(r,s).value[t]}}function H0(e,t){var n;return(typeof t=="number"?Xo:t instanceof Ka?hg:(n=Ka(t))?(t=n,hg):o7)(e,t)}function C7(e){return function(){this.removeAttribute(e)}}function w7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x7(e,t,n){var s,r=n+"",i;return function(){var a=this.getAttribute(e);return a===r?null:a===s?i:i=t(s=a,n)}}function k7(e,t,n){var s,r=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===s?i:i=t(s=a,n)}}function B7(e,t,n){var s,r,i;return function(){var a,l=n(this),c;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=l+"",a===c?null:a===s&&c===r?i:(r=c,i=t(s=a,l)))}}function E7(e,t,n){var s,r,i;return function(){var a,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=l+"",a===c?null:a===s&&c===r?i:(r=c,i=t(s=a,l)))}}function T7(e,t){var n=Wu(e),s=n==="transform"?l7:H0;return this.attrTween(e,typeof t=="function"?(n.local?E7:B7)(n,s,bf(this,"attr."+e,t)):t==null?(n.local?w7:C7)(n):(n.local?k7:x7)(n,s,t))}function A7(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function S7(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $7(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&S7(e,i)),n}return r._value=t,r}function F7(e,t){var n,s;function r(){var i=t.apply(this,arguments);return i!==s&&(n=(s=i)&&A7(e,i)),n}return r._value=t,r}function O7(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var s=Wu(e);return this.tween(n,(s.local?$7:F7)(s,t))}function L7(e,t){return function(){vf(this,e).delay=+t.apply(this,arguments)}}function I7(e,t){return t=+t,function(){vf(this,e).delay=t}}function M7(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?L7:I7)(t,e)):Gn(this.node(),t).delay}function P7(e,t){return function(){bo(this,e).duration=+t.apply(this,arguments)}}function D7(e,t){return t=+t,function(){bo(this,e).duration=t}}function R7(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?P7:D7)(t,e)):Gn(this.node(),t).duration}function N7(e,t){if(typeof t!="function")throw new Error;return function(){bo(this,e).ease=t}}function j7(e){var t=this._id;return arguments.length?this.each(N7(t,e)):Gn(this.node(),t).ease}function W7(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bo(this,e).ease=n}}function z7(e){if(typeof e!="function")throw new Error;return this.each(W7(this._id,e))}function H7(e){typeof e!="function"&&(e=x0(e));for(var t=this._groups,n=t.length,s=new Array(n),r=0;r<n;++r)for(var i=t[r],a=i.length,l=s[r]=[],c,u=0;u<a;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Ro(s,this._parents,this._name,this._id)}function V7(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,s=t.length,r=n.length,i=Math.min(s,r),a=new Array(s),l=0;l<i;++l)for(var c=t[l],u=n[l],h=c.length,p=a[l]=new Array(h),d,f=0;f<h;++f)(d=c[f]||u[f])&&(p[f]=d);for(;l<s;++l)a[l]=t[l];return new Ro(a,this._parents,this._name,this._id)}function q7(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function U7(e,t,n){var s,r,i=q7(t)?vf:bo;return function(){var a=i(this,e),l=a.on;l!==s&&(r=(s=l).copy()).on(t,n),a.on=r}}function Y7(e,t){var n=this._id;return arguments.length<2?Gn(this.node(),n).on.on(e):this.each(U7(n,e,t))}function G7(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Z7(){return this.on("end.remove",G7(this._id))}function K7(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ff(e));for(var s=this._groups,r=s.length,i=new Array(r),a=0;a<r;++a)for(var l=s[a],c=l.length,u=i[a]=new Array(c),h,p,d=0;d<c;++d)(h=l[d])&&(p=e.call(h,h.__data__,d,l))&&("__data__"in h&&(p.__data__=h.__data__),u[d]=p,Hu(u[d],t,n,d,u,Gn(h,n)));return new Ro(i,this._parents,t,n)}function X7(e){var t=this._name,n=this._id;typeof e!="function"&&(e=w0(e));for(var s=this._groups,r=s.length,i=[],a=[],l=0;l<r;++l)for(var c=s[l],u=c.length,h,p=0;p<u;++p)if(h=c[p]){for(var d=e.call(h,h.__data__,p,c),f,g=Gn(h,n),_=0,w=d.length;_<w;++_)(f=d[_])&&Hu(f,t,n,_,d,g);i.push(d),a.push(h)}return new Ro(i,a,t,n)}var J7=bl.prototype.constructor;function Q7(){return new J7(this._groups,this._parents)}function eM(e,t){var n,s,r;return function(){var i=Mi(this,e),a=(this.style.removeProperty(e),Mi(this,e));return i===a?null:i===n&&a===s?r:r=t(n=i,s=a)}}function V0(e){return function(){this.style.removeProperty(e)}}function tM(e,t,n){var s,r=n+"",i;return function(){var a=Mi(this,e);return a===r?null:a===s?i:i=t(s=a,n)}}function nM(e,t,n){var s,r,i;return function(){var a=Mi(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Mi(this,e))),a===c?null:a===s&&c===r?i:(r=c,i=t(s=a,l))}}function sM(e,t){var n,s,r,i="style."+t,a="end."+i,l;return function(){var c=bo(this,e),u=c.on,h=c.value[i]==null?l||(l=V0(t)):void 0;(u!==n||r!==h)&&(s=(n=u).copy()).on(a,r=h),c.on=s}}function oM(e,t,n){var s=(e+="")=="transform"?a7:H0;return t==null?this.styleTween(e,eM(e,s)).on("end.style."+e,V0(e)):typeof t=="function"?this.styleTween(e,nM(e,s,bf(this,"style."+e,t))).each(sM(this._id,e)):this.styleTween(e,tM(e,s,t),n).on("end.style."+e,null)}function rM(e,t,n){return function(s){this.style.setProperty(e,t.call(this,s),n)}}function iM(e,t,n){var s,r;function i(){var a=t.apply(this,arguments);return a!==r&&(s=(r=a)&&rM(e,a,n)),s}return i._value=t,i}function aM(e,t,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(t==null)return this.tween(s,null);if(typeof t!="function")throw new Error;return this.tween(s,iM(e,t,n??""))}function lM(e){return function(){this.textContent=e}}function cM(e){return function(){var t=e(this);this.textContent=t??""}}function uM(e){return this.tween("text",typeof e=="function"?cM(bf(this,"text",e)):lM(e==null?"":e+""))}function hM(e){return function(t){this.textContent=e.call(this,t)}}function pM(e){var t,n;function s(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&hM(r)),t}return s._value=e,s}function dM(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,pM(e))}function fM(){for(var e=this._name,t=this._id,n=q0(),s=this._groups,r=s.length,i=0;i<r;++i)for(var a=s[i],l=a.length,c,u=0;u<l;++u)if(c=a[u]){var h=Gn(c,t);Hu(c,e,n,u,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ro(s,this._parents,e,n)}function mM(){var e,t,n=this,s=n._id,r=n.size();return new Promise(function(i,a){var l={value:a},c={value:function(){--r===0&&i()}};n.each(function(){var u=bo(this,s),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),r===0&&i()})}var yM=0;function Ro(e,t,n,s){this._groups=e,this._parents=t,this._name=n,this._id=s}function q0(){return++yM}var Eo=bl.prototype;Ro.prototype={constructor:Ro,select:K7,selectAll:X7,selectChild:Eo.selectChild,selectChildren:Eo.selectChildren,filter:H7,merge:V7,selection:Q7,transition:fM,call:Eo.call,nodes:Eo.nodes,node:Eo.node,size:Eo.size,empty:Eo.empty,each:Eo.each,on:Y7,attr:T7,attrTween:O7,style:oM,styleTween:aM,text:uM,textTween:dM,remove:Z7,tween:b7,delay:M7,duration:R7,ease:j7,easeVarying:z7,end:mM,[Symbol.iterator]:Eo[Symbol.iterator]};function gM(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _M={time:null,delay:0,duration:250,ease:gM};function vM(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function bM(e){var t,n;e instanceof Ro?(t=e._id,e=e._name):(t=q0(),(n=_M).time=_f(),e=e==null?null:e+"");for(var s=this._groups,r=s.length,i=0;i<r;++i)for(var a=s[i],l=a.length,c,u=0;u<l;++u)(c=a[u])&&Hu(c,e,t,u,a,n||vM(c,t));return new Ro(s,this._parents,e,t)}bl.prototype.interrupt=g7;bl.prototype.transition=bM;const rQ=Math.abs,iQ=Math.atan2,aQ=Math.cos,lQ=Math.max,cQ=Math.min,uQ=Math.sin,hQ=Math.sqrt,gg=1e-12,Cf=Math.PI,_g=Cf/2,pQ=2*Cf;function dQ(e){return e>1?0:e<-1?Cf:Math.acos(e)}function fQ(e){return e>=1?_g:e<=-1?-_g:Math.asin(e)}function U0(e){this._context=e}U0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function CM(e){return new U0(e)}class Y0{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function wM(e){return new Y0(e,!0)}function xM(e){return new Y0(e,!1)}function mr(){}function tu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Vu(e){this._context=e}Vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kM(e){return new Vu(e)}function G0(e){this._context=e}G0.prototype={areaStart:mr,areaEnd:mr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:tu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BM(e){return new G0(e)}function Z0(e){this._context=e}Z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:tu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EM(e){return new Z0(e)}function K0(e,t){this._basis=new Vu(e),this._beta=t}K0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var s=e[0],r=t[0],i=e[n]-s,a=t[n]-r,l=-1,c;++l<=n;)c=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(s+c*i),this._beta*t[l]+(1-this._beta)*(r+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const TM=function e(t){function n(s){return t===1?new Vu(s):new K0(s,t)}return n.beta=function(s){return e(+s)},n}(.85);function nu(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function wf(e,t){this._context=e,this._k=(1-t)/6}wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nu(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:nu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const AM=function e(t){function n(s){return new wf(s,t)}return n.tension=function(s){return e(+s)},n}(0);function xf(e,t){this._context=e,this._k=(1-t)/6}xf.prototype={areaStart:mr,areaEnd:mr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:nu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const SM=function e(t){function n(s){return new xf(s,t)}return n.tension=function(s){return e(+s)},n}(0);function kf(e,t){this._context=e,this._k=(1-t)/6}kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nu(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const $M=function e(t){function n(s){return new kf(s,t)}return n.tension=function(s){return e(+s)},n}(0);function Bf(e,t,n){var s=e._x1,r=e._y1,i=e._x2,a=e._y2;if(e._l01_a>gg){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);s=(s*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,r=(r*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>gg){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*u+e._x1*e._l23_2a-t*e._l12_2a)/h,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/h}e._context.bezierCurveTo(s,r,i,a,e._x2,e._y2)}function X0(e,t){this._context=e,this._alpha=t}X0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Bf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FM=function e(t){function n(s){return t?new X0(s,t):new wf(s,0)}return n.alpha=function(s){return e(+s)},n}(.5);function J0(e,t){this._context=e,this._alpha=t}J0.prototype={areaStart:mr,areaEnd:mr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Bf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const OM=function e(t){function n(s){return t?new J0(s,t):new xf(s,0)}return n.alpha=function(s){return e(+s)},n}(.5);function Q0(e,t){this._context=e,this._alpha=t}Q0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,s=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Bf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const LM=function e(t){function n(s){return t?new Q0(s,t):new kf(s,0)}return n.alpha=function(s){return e(+s)},n}(.5);function e8(e){this._context=e}e8.prototype={areaStart:mr,areaEnd:mr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IM(e){return new e8(e)}function vg(e){return e<0?-1:1}function bg(e,t,n){var s=e._x1-e._x0,r=t-e._x1,i=(e._y1-e._y0)/(s||r<0&&-0),a=(n-e._y1)/(r||s<0&&-0),l=(i*r+a*s)/(s+r);return(vg(i)+vg(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function Cg(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Nh(e,t,n){var s=e._x0,r=e._y0,i=e._x1,a=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,r+l*t,i-l,a-l*n,i,a)}function su(e){this._context=e}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nh(this,this._t0,Cg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nh(this,Cg(this,n=bg(this,e,t)),n);break;default:Nh(this,this._t0,n=bg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function t8(e){this._context=new n8(e)}(t8.prototype=Object.create(su.prototype)).point=function(e,t){su.prototype.point.call(this,t,e)};function n8(e){this._context=e}n8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,s,r,i){this._context.bezierCurveTo(t,e,s,n,i,r)}};function MM(e){return new su(e)}function PM(e){return new t8(e)}function s8(e){this._context=e}s8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var s=wg(e),r=wg(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(s[0][i],r[0][i],s[1][i],r[1][i],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wg(e){var t,n=e.length-1,s,r=new Array(n),i=new Array(n),a=new Array(n);for(r[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,i[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=r[t]/i[t-1],i[t]-=s,a[t]-=s*a[t-1];for(r[n-1]=a[n-1]/i[n-1],t=n-2;t>=0;--t)r[t]=(a[t]-r[t+1])/i[t];for(i[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-r[t+1];return[r,i]}function DM(e){return new s8(e)}function qu(e,t){this._context=e,this._t=t}qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function RM(e){return new qu(e,.5)}function NM(e){return new qu(e,0)}function jM(e){return new qu(e,1)}function _a(e,t,n){this.k=e,this.x=t,this.y=n}_a.prototype={constructor:_a,scale:function(e){return e===1?this:new _a(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _a(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};_a.prototype;/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:o8,setPrototypeOf:xg,isFrozen:WM,getPrototypeOf:zM,getOwnPropertyDescriptor:HM}=Object;let{freeze:tn,seal:qn,create:VM}=Object,{apply:sd,construct:od}=typeof Reflect<"u"&&Reflect;sd||(sd=function(t,n,s){return t.apply(n,s)});tn||(tn=function(t){return t});qn||(qn=function(t){return t});od||(od=function(t,n){return new t(...n)});const qM=$n(Array.prototype.forEach),kg=$n(Array.prototype.pop),aa=$n(Array.prototype.push),gc=$n(String.prototype.toLowerCase),jh=$n(String.prototype.toString),UM=$n(String.prototype.match),Mn=$n(String.prototype.replace),YM=$n(String.prototype.indexOf),GM=$n(String.prototype.trim),fn=$n(RegExp.prototype.test),la=ZM(TypeError);function $n(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return sd(e,t,s)}}function ZM(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return od(e,n)}}function Ue(e,t,n){var s;n=(s=n)!==null&&s!==void 0?s:gc,xg&&xg(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const a=n(i);a!==i&&(WM(t)||(t[r]=a),i=a)}e[i]=!0}return e}function bi(e){const t=VM(null);for(const[n,s]of o8(e))t[n]=s;return t}function Kl(e,t){for(;e!==null;){const s=HM(e,t);if(s){if(s.get)return $n(s.get);if(typeof s.value=="function")return $n(s.value)}e=zM(e)}function n(s){return console.warn("fallback value for",s),null}return n}const Bg=tn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Wh=tn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zh=tn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KM=tn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hh=tn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XM=tn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Eg=tn(["#text"]),Tg=tn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Vh=tn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ag=tn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xl=tn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),JM=qn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),QM=qn(/<%[\w\W]*|[\w\W]*%>/gm),eP=qn(/\${[\w\W]*}/gm),tP=qn(/^data-[\-\w.\u00B7-\uFFFF]/),nP=qn(/^aria-[\-\w]+$/),r8=qn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sP=qn(/^(?:\w+script|data):/i),oP=qn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),i8=qn(/^html$/i);var Sg=Object.freeze({__proto__:null,MUSTACHE_EXPR:JM,ERB_EXPR:QM,TMPLIT_EXPR:eP,DATA_ATTR:tP,ARIA_ATTR:nP,IS_ALLOWED_URI:r8,IS_SCRIPT_OR_DATA:sP,ATTR_WHITESPACE:oP,DOCTYPE_NAME:i8});const rP=()=>typeof window>"u"?null:window,iP=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(s=n.getAttribute(r));const i="dompurify"+(s?"#"+s:"");try{return t.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function a8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rP();const t=Se=>a8(Se);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;const n=e.document,s=n.currentScript;let{document:r}=e;const{DocumentFragment:i,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:d,trustedTypes:f}=e,g=c.prototype,_=Kl(g,"cloneNode"),w=Kl(g,"nextSibling"),E=Kl(g,"childNodes"),x=Kl(g,"parentNode");if(typeof a=="function"){const Se=r.createElement("template");Se.content&&Se.content.ownerDocument&&(r=Se.content.ownerDocument)}let C,F="";const{implementation:T,createNodeIterator:P,createDocumentFragment:I,getElementsByTagName:N}=r,{importNode:V}=n;let q={};t.isSupported=typeof o8=="function"&&typeof x=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ve,ERB_EXPR:ie,TMPLIT_EXPR:te,DATA_ATTR:W,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:de,ATTR_WHITESPACE:O}=Sg;let{IS_ALLOWED_URI:Y}=Sg,Z=null;const Ee=Ue({},[...Bg,...Wh,...zh,...Hh,...Eg]);let Ie=null;const He=Ue({},[...Tg,...Vh,...Ag,...Xl]);let Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ft=null,wt=null,xt=!0,D=!0,le=!1,ee=!0,ae=!1,Pe=!1,Ze=!1,v=!1,B=!1,L=!1,z=!1,j=!0,oe=!1;const ue="user-content-";let Q=!0,re=!1,U={},Ce=null;const we=Ue({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ae=null;const De=Ue({},["audio","video","img","source","image","track"]);let qe=null;const it=Ue({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",kt="http://www.w3.org/1999/xhtml";let dn=kt,fi=!1,wo=null;const Sl=Ue({},[tt,mt,kt],jh);let vt;const wn=["application/xhtml+xml","text/html"],$l="text/html";let Ft,mi=null;const N5=r.createElement("form"),am=function(S){return S instanceof RegExp||S instanceof Function},hh=function(S){if(!(mi&&mi===S)){if((!S||typeof S!="object")&&(S={}),S=bi(S),vt=wn.indexOf(S.PARSER_MEDIA_TYPE)===-1?vt=$l:vt=S.PARSER_MEDIA_TYPE,Ft=vt==="application/xhtml+xml"?jh:gc,Z="ALLOWED_TAGS"in S?Ue({},S.ALLOWED_TAGS,Ft):Ee,Ie="ALLOWED_ATTR"in S?Ue({},S.ALLOWED_ATTR,Ft):He,wo="ALLOWED_NAMESPACES"in S?Ue({},S.ALLOWED_NAMESPACES,jh):Sl,qe="ADD_URI_SAFE_ATTR"in S?Ue(bi(it),S.ADD_URI_SAFE_ATTR,Ft):it,Ae="ADD_DATA_URI_TAGS"in S?Ue(bi(De),S.ADD_DATA_URI_TAGS,Ft):De,Ce="FORBID_CONTENTS"in S?Ue({},S.FORBID_CONTENTS,Ft):we,ft="FORBID_TAGS"in S?Ue({},S.FORBID_TAGS,Ft):{},wt="FORBID_ATTR"in S?Ue({},S.FORBID_ATTR,Ft):{},U="USE_PROFILES"in S?S.USE_PROFILES:!1,xt=S.ALLOW_ARIA_ATTR!==!1,D=S.ALLOW_DATA_ATTR!==!1,le=S.ALLOW_UNKNOWN_PROTOCOLS||!1,ee=S.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ae=S.SAFE_FOR_TEMPLATES||!1,Pe=S.WHOLE_DOCUMENT||!1,B=S.RETURN_DOM||!1,L=S.RETURN_DOM_FRAGMENT||!1,z=S.RETURN_TRUSTED_TYPE||!1,v=S.FORCE_BODY||!1,j=S.SANITIZE_DOM!==!1,oe=S.SANITIZE_NAMED_PROPS||!1,Q=S.KEEP_CONTENT!==!1,re=S.IN_PLACE||!1,Y=S.ALLOWED_URI_REGEXP||r8,dn=S.NAMESPACE||kt,Le=S.CUSTOM_ELEMENT_HANDLING||{},S.CUSTOM_ELEMENT_HANDLING&&am(S.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=S.CUSTOM_ELEMENT_HANDLING.tagNameCheck),S.CUSTOM_ELEMENT_HANDLING&&am(S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),S.CUSTOM_ELEMENT_HANDLING&&typeof S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Le.allowCustomizedBuiltInElements=S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ae&&(D=!1),L&&(B=!0),U&&(Z=Ue({},[...Eg]),Ie=[],U.html===!0&&(Ue(Z,Bg),Ue(Ie,Tg)),U.svg===!0&&(Ue(Z,Wh),Ue(Ie,Vh),Ue(Ie,Xl)),U.svgFilters===!0&&(Ue(Z,zh),Ue(Ie,Vh),Ue(Ie,Xl)),U.mathMl===!0&&(Ue(Z,Hh),Ue(Ie,Ag),Ue(Ie,Xl))),S.ADD_TAGS&&(Z===Ee&&(Z=bi(Z)),Ue(Z,S.ADD_TAGS,Ft)),S.ADD_ATTR&&(Ie===He&&(Ie=bi(Ie)),Ue(Ie,S.ADD_ATTR,Ft)),S.ADD_URI_SAFE_ATTR&&Ue(qe,S.ADD_URI_SAFE_ATTR,Ft),S.FORBID_CONTENTS&&(Ce===we&&(Ce=bi(Ce)),Ue(Ce,S.FORBID_CONTENTS,Ft)),Q&&(Z["#text"]=!0),Pe&&Ue(Z,["html","head","body"]),Z.table&&(Ue(Z,["tbody"]),delete ft.tbody),S.TRUSTED_TYPES_POLICY){if(typeof S.TRUSTED_TYPES_POLICY.createHTML!="function")throw la('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof S.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw la('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=S.TRUSTED_TYPES_POLICY,F=C.createHTML("")}else C===void 0&&(C=iP(f,s)),C!==null&&typeof F=="string"&&(F=C.createHTML(""));tn&&tn(S),mi=S}},lm=Ue({},["mi","mo","mn","ms","mtext"]),cm=Ue({},["foreignobject","desc","title","annotation-xml"]),j5=Ue({},["title","style","font","a","script"]),Fl=Ue({},Wh);Ue(Fl,zh),Ue(Fl,KM);const ph=Ue({},Hh);Ue(ph,XM);const W5=function(S){let se=x(S);(!se||!se.tagName)&&(se={namespaceURI:dn,tagName:"template"});const fe=gc(S.tagName),ct=gc(se.tagName);return wo[S.namespaceURI]?S.namespaceURI===mt?se.namespaceURI===kt?fe==="svg":se.namespaceURI===tt?fe==="svg"&&(ct==="annotation-xml"||lm[ct]):!!Fl[fe]:S.namespaceURI===tt?se.namespaceURI===kt?fe==="math":se.namespaceURI===mt?fe==="math"&&cm[ct]:!!ph[fe]:S.namespaceURI===kt?se.namespaceURI===mt&&!cm[ct]||se.namespaceURI===tt&&!lm[ct]?!1:!ph[fe]&&(j5[fe]||!Fl[fe]):!!(vt==="application/xhtml+xml"&&wo[S.namespaceURI]):!1},wr=function(S){aa(t.removed,{element:S});try{S.parentNode.removeChild(S)}catch{S.remove()}},dh=function(S,se){try{aa(t.removed,{attribute:se.getAttributeNode(S),from:se})}catch{aa(t.removed,{attribute:null,from:se})}if(se.removeAttribute(S),S==="is"&&!Ie[S])if(B||L)try{wr(se)}catch{}else try{se.setAttribute(S,"")}catch{}},um=function(S){let se,fe;if(v)S="<remove></remove>"+S;else{const xn=UM(S,/^[\r\n\t ]+/);fe=xn&&xn[0]}vt==="application/xhtml+xml"&&dn===kt&&(S='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+S+"</body></html>");const ct=C?C.createHTML(S):S;if(dn===kt)try{se=new d().parseFromString(ct,vt)}catch{}if(!se||!se.documentElement){se=T.createDocument(dn,"template",null);try{se.documentElement.innerHTML=fi?F:ct}catch{}}const Ot=se.body||se.documentElement;return S&&fe&&Ot.insertBefore(r.createTextNode(fe),Ot.childNodes[0]||null),dn===kt?N.call(se,Pe?"html":"body")[0]:Pe?se.documentElement:Ot},hm=function(S){return P.call(S.ownerDocument||S,S,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},z5=function(S){return S instanceof p&&(typeof S.nodeName!="string"||typeof S.textContent!="string"||typeof S.removeChild!="function"||!(S.attributes instanceof h)||typeof S.removeAttribute!="function"||typeof S.setAttribute!="function"||typeof S.namespaceURI!="string"||typeof S.insertBefore!="function"||typeof S.hasChildNodes!="function")},Ol=function(S){return typeof l=="object"?S instanceof l:S&&typeof S=="object"&&typeof S.nodeType=="number"&&typeof S.nodeName=="string"},xo=function(S,se,fe){q[S]&&qM(q[S],ct=>{ct.call(t,se,fe,mi)})},pm=function(S){let se;if(xo("beforeSanitizeElements",S,null),z5(S))return wr(S),!0;const fe=Ft(S.nodeName);if(xo("uponSanitizeElement",S,{tagName:fe,allowedTags:Z}),S.hasChildNodes()&&!Ol(S.firstElementChild)&&(!Ol(S.content)||!Ol(S.content.firstElementChild))&&fn(/<[/\w]/g,S.innerHTML)&&fn(/<[/\w]/g,S.textContent))return wr(S),!0;if(!Z[fe]||ft[fe]){if(!ft[fe]&&fm(fe)&&(Le.tagNameCheck instanceof RegExp&&fn(Le.tagNameCheck,fe)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(fe)))return!1;if(Q&&!Ce[fe]){const ct=x(S)||S.parentNode,Ot=E(S)||S.childNodes;if(Ot&&ct){const xn=Ot.length;for(let bt=xn-1;bt>=0;--bt)ct.insertBefore(_(Ot[bt],!0),w(S))}}return wr(S),!0}return S instanceof c&&!W5(S)||(fe==="noscript"||fe==="noembed"||fe==="noframes")&&fn(/<\/no(script|embed|frames)/i,S.innerHTML)?(wr(S),!0):(ae&&S.nodeType===3&&(se=S.textContent,se=Mn(se,ve," "),se=Mn(se,ie," "),se=Mn(se,te," "),S.textContent!==se&&(aa(t.removed,{element:S.cloneNode()}),S.textContent=se)),xo("afterSanitizeElements",S,null),!1)},dm=function(S,se,fe){if(j&&(se==="id"||se==="name")&&(fe in r||fe in N5))return!1;if(!(D&&!wt[se]&&fn(W,se))){if(!(xt&&fn(H,se))){if(!Ie[se]||wt[se]){if(!(fm(S)&&(Le.tagNameCheck instanceof RegExp&&fn(Le.tagNameCheck,S)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(S))&&(Le.attributeNameCheck instanceof RegExp&&fn(Le.attributeNameCheck,se)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(se))||se==="is"&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&fn(Le.tagNameCheck,fe)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(fe))))return!1}else if(!qe[se]){if(!fn(Y,Mn(fe,O,""))){if(!((se==="src"||se==="xlink:href"||se==="href")&&S!=="script"&&YM(fe,"data:")===0&&Ae[S])){if(!(le&&!fn(de,Mn(fe,O,"")))){if(fe)return!1}}}}}}return!0},fm=function(S){return S.indexOf("-")>0},mm=function(S){let se,fe,ct,Ot;xo("beforeSanitizeAttributes",S,null);const{attributes:xn}=S;if(!xn)return;const bt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ie};for(Ot=xn.length;Ot--;){se=xn[Ot];const{name:Zn,namespaceURI:fh}=se;if(fe=Zn==="value"?se.value:GM(se.value),ct=Ft(Zn),bt.attrName=ct,bt.attrValue=fe,bt.keepAttr=!0,bt.forceKeepAttr=void 0,xo("uponSanitizeAttribute",S,bt),fe=bt.attrValue,bt.forceKeepAttr||(dh(Zn,S),!bt.keepAttr))continue;if(!ee&&fn(/\/>/i,fe)){dh(Zn,S);continue}ae&&(fe=Mn(fe,ve," "),fe=Mn(fe,ie," "),fe=Mn(fe,te," "));const ym=Ft(S.nodeName);if(dm(ym,ct,fe)){if(oe&&(ct==="id"||ct==="name")&&(dh(Zn,S),fe=ue+fe),C&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!fh)switch(f.getAttributeType(ym,ct)){case"TrustedHTML":{fe=C.createHTML(fe);break}case"TrustedScriptURL":{fe=C.createScriptURL(fe);break}}try{fh?S.setAttributeNS(fh,Zn,fe):S.setAttribute(Zn,fe),kg(t.removed)}catch{}}}xo("afterSanitizeAttributes",S,null)},H5=function Se(S){let se;const fe=hm(S);for(xo("beforeSanitizeShadowDOM",S,null);se=fe.nextNode();)xo("uponSanitizeShadowNode",se,null),!pm(se)&&(se.content instanceof i&&Se(se.content),mm(se));xo("afterSanitizeShadowDOM",S,null)};return t.sanitize=function(Se){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se,fe,ct,Ot;if(fi=!Se,fi&&(Se="<!-->"),typeof Se!="string"&&!Ol(Se))if(typeof Se.toString=="function"){if(Se=Se.toString(),typeof Se!="string")throw la("dirty is not a string, aborting")}else throw la("toString is not a function");if(!t.isSupported)return Se;if(Ze||hh(S),t.removed=[],typeof Se=="string"&&(re=!1),re){if(Se.nodeName){const Zn=Ft(Se.nodeName);if(!Z[Zn]||ft[Zn])throw la("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof l)se=um("<!---->"),fe=se.ownerDocument.importNode(Se,!0),fe.nodeType===1&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?se=fe:se.appendChild(fe);else{if(!B&&!ae&&!Pe&&Se.indexOf("<")===-1)return C&&z?C.createHTML(Se):Se;if(se=um(Se),!se)return B?null:z?F:""}se&&v&&wr(se.firstChild);const xn=hm(re?Se:se);for(;ct=xn.nextNode();)pm(ct)||(ct.content instanceof i&&H5(ct.content),mm(ct));if(re)return Se;if(B){if(L)for(Ot=I.call(se.ownerDocument);se.firstChild;)Ot.appendChild(se.firstChild);else Ot=se;return(Ie.shadowroot||Ie.shadowrootmode)&&(Ot=V.call(n,Ot,!0)),Ot}let bt=Pe?se.outerHTML:se.innerHTML;return Pe&&Z["!doctype"]&&se.ownerDocument&&se.ownerDocument.doctype&&se.ownerDocument.doctype.name&&fn(i8,se.ownerDocument.doctype.name)&&(bt="<!DOCTYPE "+se.ownerDocument.doctype.name+`>
`+bt),ae&&(bt=Mn(bt,ve," "),bt=Mn(bt,ie," "),bt=Mn(bt,te," ")),C&&z?C.createHTML(bt):bt},t.setConfig=function(Se){hh(Se),Ze=!0},t.clearConfig=function(){mi=null,Ze=!1},t.isValidAttribute=function(Se,S,se){mi||hh({});const fe=Ft(Se),ct=Ft(S);return dm(fe,ct,se)},t.addHook=function(Se,S){typeof S=="function"&&(q[Se]=q[Se]||[],aa(q[Se],S))},t.removeHook=function(Se){if(q[Se])return kg(q[Se])},t.removeHooks=function(Se){q[Se]&&(q[Se]=[])},t.removeAllHooks=function(){q={}},t}var ou=a8();const Uu=/<br\s*\/?>/gi,aP=e=>e?c8(e).replace(/\\n/g,"#br#").split("#br#"):[""],l8=e=>ou.sanitize(e),$g=(e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const s=t.securityLevel;s==="antiscript"||s==="strict"?e=l8(e):s!=="loose"&&(e=c8(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=hP(e))}return e},Ja=(e,t)=>e&&(t.dompurifyConfig?e=ou.sanitize($g(e,t),t.dompurifyConfig).toString():e=ou.sanitize($g(e,t),{FORBID_TAGS:["style"]}).toString(),e),lP=(e,t)=>typeof e=="string"?Ja(e,t):e.flat().map(n=>Ja(n,t)),cP=e=>Uu.test(e),uP=e=>e.split(Uu),hP=e=>e.replace(/#br#/g,"<br/>"),c8=e=>e.replace(Uu,"#br#"),pP=e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},u8=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),dP=function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},fP=function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},mP=function(e){let t=e;if(e.split("~").length-1>=2){let n=t;do t=n,n=t.replace(/~([^\s,:;]+)~/,"<$1>");while(n!=t);return mP(n)}else return t},Ef={getRows:aP,sanitizeText:Ja,sanitizeTextOrArray:lP,hasBreaks:cP,splitBreaks:uP,lineBreakRegex:Uu,removeScript:l8,getUrl:pP,evaluate:u8,getMax:dP,getMin:fP},_c={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},s)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r;switch(s){case"r":return _c.hue2rgb(i,r,e+1/3)*255;case"g":return _c.hue2rgb(i,r,e)*255;case"b":return _c.hue2rgb(i,r,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},s)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),i=Math.min(e,t,n),a=(r+i)/2;if(s==="l")return a*100;if(r===i)return 0;const l=r-i,c=a>.5?l/(2-r-i):l/(r+i);if(s==="s")return c*100;switch(r){case e:return((t-n)/l+(t<n?6:0))*60;case t:return((n-e)/l+2)*60;case n:return((e-t)/l+4)*60;default:return-1}}},yP=_c,gP={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},_P=gP,vP={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},bP=vP,CP={channel:yP,lang:_P,unit:bP},Re=CP,Yo={};for(let e=0;e<=255;e++)Yo[e]=Re.unit.dec2hex(e);const Nt={ALL:0,RGB:1,HSL:2};class wP{constructor(){this.type=Nt.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=Nt.ALL}is(t){return this.type===t}}const xP=wP;class kP{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new xP}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=Nt.ALL,this}_ensureHSL(){const t=this.data,{h:n,s,l:r}=t;n===void 0&&(t.h=Re.channel.rgb2hsl(t,"h")),s===void 0&&(t.s=Re.channel.rgb2hsl(t,"s")),r===void 0&&(t.l=Re.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:s,b:r}=t;n===void 0&&(t.r=Re.channel.hsl2rgb(t,"r")),s===void 0&&(t.g=Re.channel.hsl2rgb(t,"g")),r===void 0&&(t.b=Re.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(Nt.HSL)&&n!==void 0?n:(this._ensureHSL(),Re.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(Nt.HSL)&&n!==void 0?n:(this._ensureHSL(),Re.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(Nt.HSL)&&n!==void 0?n:(this._ensureHSL(),Re.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(Nt.RGB)&&n!==void 0?n:(this._ensureRGB(),Re.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(Nt.RGB)&&n!==void 0?n:(this._ensureRGB(),Re.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(Nt.RGB)&&n!==void 0?n:(this._ensureRGB(),Re.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(Nt.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(Nt.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(Nt.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(Nt.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(Nt.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(Nt.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const BP=kP,EP=new BP({r:0,g:0,b:0,a:0},"transparent"),Yu=EP,h8={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(h8.re);if(!t)return;const n=t[1],s=parseInt(n,16),r=n.length,i=r%4===0,a=r>4,l=a?1:17,c=a?8:4,u=i?0:-1,h=a?255:15;return Yu.set({r:(s>>c*(u+3)&h)*l,g:(s>>c*(u+2)&h)*l,b:(s>>c*(u+1)&h)*l,a:i?(s&h)*l/255:1},e)},stringify:e=>{const{r:t,g:n,b:s,a:r}=e;return r<1?`#${Yo[Math.round(t)]}${Yo[Math.round(n)]}${Yo[Math.round(s)]}${Yo[Math.round(r*255)]}`:`#${Yo[Math.round(t)]}${Yo[Math.round(n)]}${Yo[Math.round(s)]}`}},Ea=h8,vc={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(vc.hueRe);if(t){const[,n,s]=t;switch(s){case"grad":return Re.channel.clamp.h(parseFloat(n)*.9);case"rad":return Re.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Re.channel.clamp.h(parseFloat(n)*360)}}return Re.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(vc.re);if(!n)return;const[,s,r,i,a,l]=n;return Yu.set({h:vc._hue2deg(s),s:Re.channel.clamp.s(parseFloat(r)),l:Re.channel.clamp.l(parseFloat(i)),a:a?Re.channel.clamp.a(l?parseFloat(a)/100:parseFloat(a)):1},e)},stringify:e=>{const{h:t,s:n,l:s,a:r}=e;return r<1?`hsla(${Re.lang.round(t)}, ${Re.lang.round(n)}%, ${Re.lang.round(s)}%, ${r})`:`hsl(${Re.lang.round(t)}, ${Re.lang.round(n)}%, ${Re.lang.round(s)}%)`}},Jl=vc,bc={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=bc.colors[e];if(t)return Ea.parse(t)},stringify:e=>{const t=Ea.stringify(e);for(const n in bc.colors)if(bc.colors[n]===t)return n}},Fg=bc,p8={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(p8.re);if(!n)return;const[,s,r,i,a,l,c,u,h]=n;return Yu.set({r:Re.channel.clamp.r(r?parseFloat(s)*2.55:parseFloat(s)),g:Re.channel.clamp.g(a?parseFloat(i)*2.55:parseFloat(i)),b:Re.channel.clamp.b(c?parseFloat(l)*2.55:parseFloat(l)),a:u?Re.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:n,b:s,a:r}=e;return r<1?`rgba(${Re.lang.round(t)}, ${Re.lang.round(n)}, ${Re.lang.round(s)}, ${Re.lang.round(r)})`:`rgb(${Re.lang.round(t)}, ${Re.lang.round(n)}, ${Re.lang.round(s)})`}},Ql=p8,TP={format:{keyword:Fg,hex:Ea,rgb:Ql,rgba:Ql,hsl:Jl,hsla:Jl},parse:e=>{if(typeof e!="string")return e;const t=Ea.parse(e)||Ql.parse(e)||Jl.parse(e)||Fg.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(Nt.HSL)||e.data.r===void 0?Jl.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Ql.stringify(e):Ea.stringify(e)},vo=TP,AP=(e,t)=>{const n=vo.parse(e);for(const s in t)n[s]=Re.channel.clamp[s](t[s]);return vo.stringify(n)},d8=AP,SP=(e,t,n=0,s=1)=>{if(typeof e!="number")return d8(e,{a:t});const r=Yu.set({r:Re.channel.clamp.r(e),g:Re.channel.clamp.g(t),b:Re.channel.clamp.b(n),a:Re.channel.clamp.a(s)});return vo.stringify(r)},Ta=SP,$P=e=>{const{r:t,g:n,b:s}=vo.parse(e),r=.2126*Re.channel.toLinear(t)+.7152*Re.channel.toLinear(n)+.0722*Re.channel.toLinear(s);return Re.lang.round(r)},FP=$P,OP=e=>FP(e)>=.5,LP=OP,IP=e=>!LP(e),wl=IP,MP=(e,t,n)=>{const s=vo.parse(e),r=s[t],i=Re.channel.clamp[t](r+n);return r!==i&&(s[t]=i),vo.stringify(s)},f8=MP,PP=(e,t)=>f8(e,"l",t),$e=PP,DP=(e,t)=>f8(e,"l",-t),Me=DP,RP=(e,t)=>{const n=vo.parse(e),s={};for(const r in t)t[r]&&(s[r]=n[r]+t[r]);return d8(e,s)},$=RP,NP=(e,t,n=50)=>{const{r:s,g:r,b:i,a}=vo.parse(e),{r:l,g:c,b:u,a:h}=vo.parse(t),p=n/100,d=p*2-1,f=a-h,_=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,w=1-_,E=s*_+l*w,x=r*_+c*w,C=i*_+u*w,F=a*p+h*(1-p);return Ta(E,x,C,F)},jP=NP,WP=(e,t=100)=>{const n=vo.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,jP(n,e,t)},he=WP,Xt=(e,t)=>t?$(e,{s:-40,l:10}):$(e,{s:-40,l:-10}),Gu="#ffffff",Zu="#f2f2f2";let zP=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||$(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||$(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Xt(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Xt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Xt(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Xt(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||he(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||he(this.tertiaryColor),this.lineColor=this.lineColor||he(this.background),this.arrowheadColor=this.arrowheadColor||he(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Me(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Me(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||he(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||$e(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||$(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=Me(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=Me(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||he(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||$e(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||Me(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||$(this.mainBkg,{h:180,s:-15,l:t*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||$(this.mainBkg,{h:180,s:-15,l:t*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||$(this.primaryColor,{h:64}),this.fillType3=this.fillType3||$(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||$(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||$(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||$(this.primaryColor,{h:128}),this.fillType7=this.fillType7||$(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||$(this.primaryColor,{l:-10}),this.pie5=this.pie5||$(this.secondaryColor,{l:-10}),this.pie6=this.pie6||$(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||$(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||$(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||$(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||$(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||$(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||$(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wl(this.quadrant1Fill)?$e(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Me(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||$(this.primaryColor,{h:-30}),this.git4=this.git4||$(this.primaryColor,{h:-60}),this.git5=this.git5||$(this.primaryColor,{h:-90}),this.git6=this.git6||$(this.primaryColor,{h:60}),this.git7=this.git7||$(this.primaryColor,{h:120}),this.darkMode?(this.git0=$e(this.git0,25),this.git1=$e(this.git1,25),this.git2=$e(this.git2,25),this.git3=$e(this.git3,25),this.git4=$e(this.git4,25),this.git5=$e(this.git5,25),this.git6=$e(this.git6,25),this.git7=$e(this.git7,25)):(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zu}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(s=>{this[s]=t[s]}),this.updateColors(),n.forEach(s=>{this[s]=t[s]})}};const HP=e=>{const t=new zP;return t.calculate(e),t};let VP=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=$e(this.primaryColor,16),this.tertiaryColor=$(this.primaryColor,{h:-160}),this.primaryBorderColor=he(this.background),this.secondaryBorderColor=Xt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xt(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.tertiaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=$e(he("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Ta(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Me("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Me(this.sectionBkgColor,10),this.taskBorderColor=Ta(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ta(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=$e(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=$e(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=$e(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$(this.primaryColor,{h:64}),this.fillType3=$(this.secondaryColor,{h:64}),this.fillType4=$(this.primaryColor,{h:-64}),this.fillType5=$(this.secondaryColor,{h:-64}),this.fillType6=$(this.primaryColor,{h:128}),this.fillType7=$(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$(this.primaryColor,{h:210}),this.cScale9=this.cScale9||$(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||he(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||$e(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||$(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||$(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wl(this.quadrant1Fill)?$e(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Me(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=$e(this.secondaryColor,20),this.git1=$e(this.pie2||this.secondaryColor,20),this.git2=$e(this.pie3||this.tertiaryColor,20),this.git3=$e(this.pie4||$(this.primaryColor,{h:-30}),20),this.git4=$e(this.pie5||$(this.primaryColor,{h:-60}),20),this.git5=$e(this.pie6||$(this.primaryColor,{h:-90}),10),this.git6=$e(this.pie7||$(this.primaryColor,{h:60}),10),this.git7=$e(this.pie8||$(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||he(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||he(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||$e(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$e(this.background,2)}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(s=>{this[s]=t[s]}),this.updateColors(),n.forEach(s=>{this[s]=t[s]})}};const qP=e=>{const t=new VP;return t.calculate(e),t};let UP=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=$(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=$(this.primaryColor,{h:-160}),this.primaryBorderColor=Xt(this.primaryColor,this.darkMode),this.secondaryBorderColor=Xt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xt(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.tertiaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Ta(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$(this.primaryColor,{h:210}),this.cScale9=this.cScale9||$(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Me(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Me(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Me(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Me(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||$(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||$(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||$(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||he(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||he(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=$e(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$(this.primaryColor,{h:64}),this.fillType3=$(this.secondaryColor,{h:64}),this.fillType4=$(this.primaryColor,{h:-64}),this.fillType5=$(this.secondaryColor,{h:-64}),this.fillType6=$(this.primaryColor,{h:128}),this.fillType7=$(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||$(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||$(this.primaryColor,{l:-10}),this.pie5=this.pie5||$(this.secondaryColor,{l:-30}),this.pie6=this.pie6||$(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||$(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||$(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||$(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||$(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||$(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||$(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wl(this.quadrant1Fill)?$e(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||$(this.primaryColor,{h:-30}),this.git4=this.git4||$(this.primaryColor,{h:-60}),this.git5=this.git5||$(this.primaryColor,{h:-90}),this.git6=this.git6||$(this.primaryColor,{h:60}),this.git7=this.git7||$(this.primaryColor,{h:120}),this.darkMode?(this.git0=$e(this.git0,25),this.git1=$e(this.git1,25),this.git2=$e(this.git2,25),this.git3=$e(this.git3,25),this.git4=$e(this.git4,25),this.git5=$e(this.git5,25),this.git6=$e(this.git6,25),this.git7=$e(this.git7,25)):(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)),this.gitInv0=this.gitInv0||Me(he(this.git0),25),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||he(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||he(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zu}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(s=>{this[s]=t[s]}),this.updateColors(),n.forEach(s=>{this[s]=t[s]})}};const YP=e=>{const t=new UP;return t.calculate(e),t};let GP=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=$e("#cde498",10),this.primaryBorderColor=Xt(this.primaryColor,this.darkMode),this.secondaryBorderColor=Xt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xt(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.primaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Me(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||$(this.primaryColor,{h:30}),this.cScale4=this.cScale4||$(this.primaryColor,{h:60}),this.cScale5=this.cScale5||$(this.primaryColor,{h:90}),this.cScale6=this.cScale6||$(this.primaryColor,{h:120}),this.cScale7=this.cScale7||$(this.primaryColor,{h:150}),this.cScale8=this.cScale8||$(this.primaryColor,{h:210}),this.cScale9=this.cScale9||$(this.primaryColor,{h:270}),this.cScale10=this.cScale10||$(this.primaryColor,{h:300}),this.cScale11=this.cScale11||$(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Me(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Me(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Me(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||Me(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||$(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||$(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||$(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$(this.primaryColor,{h:64}),this.fillType3=$(this.secondaryColor,{h:64}),this.fillType4=$(this.primaryColor,{h:-64}),this.fillType5=$(this.secondaryColor,{h:-64}),this.fillType6=$(this.primaryColor,{h:128}),this.fillType7=$(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||$(this.primaryColor,{l:-30}),this.pie5=this.pie5||$(this.secondaryColor,{l:-30}),this.pie6=this.pie6||$(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||$(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||$(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||$(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||$(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||$(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||$(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wl(this.quadrant1Fill)?$e(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||$(this.primaryColor,{h:-30}),this.git4=this.git4||$(this.primaryColor,{h:-60}),this.git5=this.git5||$(this.primaryColor,{h:-90}),this.git6=this.git6||$(this.primaryColor,{h:60}),this.git7=this.git7||$(this.primaryColor,{h:120}),this.darkMode?(this.git0=$e(this.git0,25),this.git1=$e(this.git1,25),this.git2=$e(this.git2,25),this.git3=$e(this.git3,25),this.git4=$e(this.git4,25),this.git5=$e(this.git5,25),this.git6=$e(this.git6,25),this.git7=$e(this.git7,25)):(this.git0=Me(this.git0,25),this.git1=Me(this.git1,25),this.git2=Me(this.git2,25),this.git3=Me(this.git3,25),this.git4=Me(this.git4,25),this.git5=Me(this.git5,25),this.git6=Me(this.git6,25),this.git7=Me(this.git7,25)),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||he(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||he(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zu}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(s=>{this[s]=t[s]}),this.updateColors(),n.forEach(s=>{this[s]=t[s]})}};const ZP=e=>{const t=new GP;return t.calculate(e),t};class KP{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=$e(this.contrast,55),this.background="#ffffff",this.tertiaryColor=$(this.primaryColor,{h:-160}),this.primaryBorderColor=Xt(this.primaryColor,this.darkMode),this.secondaryBorderColor=Xt(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Xt(this.tertiaryColor,this.darkMode),this.primaryTextColor=he(this.primaryColor),this.secondaryTextColor=he(this.secondaryColor),this.tertiaryTextColor=he(this.tertiaryColor),this.lineColor=he(this.background),this.textColor=he(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=$e(this.contrast,55),this.border2=this.contrast,this.actorBorder=$e(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||he(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||$e(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Me(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||$(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||$(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=$e(this.contrast,30),this.sectionBkgColor2=$e(this.contrast,30),this.taskBorderColor=Me(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=$e(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Me(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=$(this.primaryColor,{h:64}),this.fillType3=$(this.secondaryColor,{h:64}),this.fillType4=$(this.primaryColor,{h:-64}),this.fillType5=$(this.secondaryColor,{h:-64}),this.fillType6=$(this.primaryColor,{h:128}),this.fillType7=$(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||$(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||$(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||$(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||$(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||$(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||$(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||wl(this.quadrant1Fill)?$e(this.quadrant1Fill):Me(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Me(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||$(this.primaryColor,{h:-30}),this.git4=this.pie5||$(this.primaryColor,{h:-60}),this.git5=this.pie6||$(this.primaryColor,{h:-90}),this.git6=this.pie7||$(this.primaryColor,{h:60}),this.git7=this.pie8||$(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||he(this.git0),this.gitInv1=this.gitInv1||he(this.git1),this.gitInv2=this.gitInv2||he(this.git2),this.gitInv3=this.gitInv3||he(this.git3),this.gitInv4=this.gitInv4||he(this.git4),this.gitInv5=this.gitInv5||he(this.git5),this.gitInv6=this.gitInv6||he(this.git6),this.gitInv7=this.gitInv7||he(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gu,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zu}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(s=>{this[s]=t[s]}),this.updateColors(),n.forEach(s=>{this[s]=t[s]})}}const XP=e=>{const t=new KP;return t.calculate(e),t},Mo={base:{getThemeVariables:HP},dark:{getThemeVariables:qP},default:{getThemeVariables:YP},forest:{getThemeVariables:ZP},neutral:{getThemeVariables:XP}},qo={flowchart:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},theme:"default",maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,fontSize:16},m8={...qo,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:Mo.default.getThemeVariables(),sequence:{...qo.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...qo.gantt,tickInterval:void 0,useWidth:void 0},c4:{...qo.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...qo.pie,useWidth:984},requirement:{...qo.requirement,useWidth:void 0},gitGraph:{...qo.gitGraph,useMaxWidth:!1},sankey:{...qo.sankey,useMaxWidth:!1}},y8=(e,t="")=>Object.keys(e).reduce((n,s)=>Array.isArray(e[s])?n:typeof e[s]=="object"&&e[s]!==null?[...n,t+s,...y8(e[s],"")]:[...n,t+s],[]),JP=new Set(y8(m8,"")),QP=m8,g8=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Cc=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,eD=/\s*%%.*\n/gm;class _8 extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}}const Di={},Ku=function(e,t){e=e.replace(g8,"").replace(Cc,"").replace(eD,`
`);for(const[n,{detector:s}]of Object.entries(Di))if(s(e,t))return n;throw new _8(`No diagram type detected matching given configuration for text: ${e}`)},v8=(...e)=>{for(const{id:t,detector:n,loader:s}of e)b8(t,n,s)},b8=(e,t,n)=>{Di[e]?Te.error(`Detector with key ${e} already exists`):Di[e]={detector:t,loader:n},Te.debug(`Detector with key ${e} added${n?" with loader":""}`)},tD=e=>Di[e].loader,rd=(e,t,{depth:n=2,clobber:s=!1}={})=>{const r={depth:n,clobber:s};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(i=>rd(e,i,r)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(i=>{e.includes(i)||e.push(i)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(i=>{typeof t[i]=="object"&&(e[i]===void 0||typeof e[i]=="object")?(e[i]===void 0&&(e[i]=Array.isArray(t[i])?[]:{}),e[i]=rd(e[i],t[i],{depth:n-1,clobber:s})):(s||typeof e[i]!="object"&&typeof t[i]!="object")&&(e[i]=t[i])}),e)},Ht=rd;var nD=typeof global=="object"&&global&&global.Object===Object&&global;const C8=nD;var sD=typeof self=="object"&&self&&self.Object===Object&&self,oD=C8||sD||Function("return this")();const Co=oD;var rD=Co.Symbol;const ru=rD;var w8=Object.prototype,iD=w8.hasOwnProperty,aD=w8.toString,ca=ru?ru.toStringTag:void 0;function lD(e){var t=iD.call(e,ca),n=e[ca];try{e[ca]=void 0;var s=!0}catch{}var r=aD.call(e);return s&&(t?e[ca]=n:delete e[ca]),r}var cD=Object.prototype,uD=cD.toString;function hD(e){return uD.call(e)}var pD="[object Null]",dD="[object Undefined]",Og=ru?ru.toStringTag:void 0;function qi(e){return e==null?e===void 0?dD:pD:Og&&Og in Object(e)?lD(e):hD(e)}function hi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fD="[object AsyncFunction]",mD="[object Function]",yD="[object GeneratorFunction]",gD="[object Proxy]";function Tf(e){if(!hi(e))return!1;var t=qi(e);return t==mD||t==yD||t==fD||t==gD}var _D=Co["__core-js_shared__"];const qh=_D;var Lg=function(){var e=/[^.]+$/.exec(qh&&qh.keys&&qh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vD(e){return!!Lg&&Lg in e}var bD=Function.prototype,CD=bD.toString;function pi(e){if(e!=null){try{return CD.call(e)}catch{}try{return e+""}catch{}}return""}var wD=/[\\^$.*+?()[\]{}|]/g,xD=/^\[object .+?Constructor\]$/,kD=Function.prototype,BD=Object.prototype,ED=kD.toString,TD=BD.hasOwnProperty,AD=RegExp("^"+ED.call(TD).replace(wD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SD(e){if(!hi(e)||vD(e))return!1;var t=Tf(e)?AD:xD;return t.test(pi(e))}function $D(e,t){return e==null?void 0:e[t]}function di(e,t){var n=$D(e,t);return SD(n)?n:void 0}var FD=di(Object,"create");const Qa=FD;function OD(){this.__data__=Qa?Qa(null):{},this.size=0}function LD(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ID="__lodash_hash_undefined__",MD=Object.prototype,PD=MD.hasOwnProperty;function DD(e){var t=this.__data__;if(Qa){var n=t[e];return n===ID?void 0:n}return PD.call(t,e)?t[e]:void 0}var RD=Object.prototype,ND=RD.hasOwnProperty;function jD(e){var t=this.__data__;return Qa?t[e]!==void 0:ND.call(t,e)}var WD="__lodash_hash_undefined__";function zD(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Qa&&t===void 0?WD:t,this}function oi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}oi.prototype.clear=OD;oi.prototype.delete=LD;oi.prototype.get=DD;oi.prototype.has=jD;oi.prototype.set=zD;function HD(){this.__data__=[],this.size=0}function Xu(e,t){return e===t||e!==e&&t!==t}function Ju(e,t){for(var n=e.length;n--;)if(Xu(e[n][0],t))return n;return-1}var VD=Array.prototype,qD=VD.splice;function UD(e){var t=this.__data__,n=Ju(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():qD.call(t,n,1),--this.size,!0}function YD(e){var t=this.__data__,n=Ju(t,e);return n<0?void 0:t[n][1]}function GD(e){return Ju(this.__data__,e)>-1}function ZD(e,t){var n=this.__data__,s=Ju(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}function jo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}jo.prototype.clear=HD;jo.prototype.delete=UD;jo.prototype.get=YD;jo.prototype.has=GD;jo.prototype.set=ZD;var KD=di(Co,"Map");const el=KD;function XD(){this.size=0,this.__data__={hash:new oi,map:new(el||jo),string:new oi}}function JD(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Qu(e,t){var n=e.__data__;return JD(t)?n[typeof t=="string"?"string":"hash"]:n.map}function QD(e){var t=Qu(this,e).delete(e);return this.size-=t?1:0,t}function eR(e){return Qu(this,e).get(e)}function tR(e){return Qu(this,e).has(e)}function nR(e,t){var n=Qu(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}function br(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}br.prototype.clear=XD;br.prototype.delete=QD;br.prototype.get=eR;br.prototype.has=tR;br.prototype.set=nR;var sR="Expected a function";function xl(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sR);var n=function(){var s=arguments,r=t?t.apply(this,s):s[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,s);return n.cache=i.set(r,a)||i,a};return n.cache=new(xl.Cache||br),n}xl.Cache=br;function oR(){this.__data__=new jo,this.size=0}function rR(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function iR(e){return this.__data__.get(e)}function aR(e){return this.__data__.has(e)}var lR=200;function cR(e,t){var n=this.__data__;if(n instanceof jo){var s=n.__data__;if(!el||s.length<lR-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new br(s)}return n.set(e,t),this.size=n.size,this}function Ui(e){var t=this.__data__=new jo(e);this.size=t.size}Ui.prototype.clear=oR;Ui.prototype.delete=rR;Ui.prototype.get=iR;Ui.prototype.has=aR;Ui.prototype.set=cR;var uR=function(){try{var e=di(Object,"defineProperty");return e({},"",{}),e}catch{}}();const iu=uR;function Af(e,t,n){t=="__proto__"&&iu?iu(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function id(e,t,n){(n!==void 0&&!Xu(e[t],n)||n===void 0&&!(t in e))&&Af(e,t,n)}function hR(e){return function(t,n,s){for(var r=-1,i=Object(t),a=s(t),l=a.length;l--;){var c=a[e?l:++r];if(n(i[c],c,i)===!1)break}return t}}var pR=hR();const dR=pR;var x8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ig=x8&&typeof module=="object"&&module&&!module.nodeType&&module,fR=Ig&&Ig.exports===x8,Mg=fR?Co.Buffer:void 0,Pg=Mg?Mg.allocUnsafe:void 0;function mR(e,t){if(t)return e.slice();var n=e.length,s=Pg?Pg(n):new e.constructor(n);return e.copy(s),s}var yR=Co.Uint8Array;const Dg=yR;function gR(e){var t=new e.constructor(e.byteLength);return new Dg(t).set(new Dg(e)),t}function _R(e,t){var n=t?gR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function vR(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}var Rg=Object.create,bR=function(){function e(){}return function(t){if(!hi(t))return{};if(Rg)return Rg(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const CR=bR;function k8(e,t){return function(n){return e(t(n))}}var wR=k8(Object.getPrototypeOf,Object);const B8=wR;var xR=Object.prototype;function eh(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||xR;return e===n}function kR(e){return typeof e.constructor=="function"&&!eh(e)?CR(B8(e)):{}}function kl(e){return e!=null&&typeof e=="object"}var BR="[object Arguments]";function Ng(e){return kl(e)&&qi(e)==BR}var E8=Object.prototype,ER=E8.hasOwnProperty,TR=E8.propertyIsEnumerable,AR=Ng(function(){return arguments}())?Ng:function(e){return kl(e)&&ER.call(e,"callee")&&!TR.call(e,"callee")};const au=AR;var SR=Array.isArray;const lu=SR;var $R=9007199254740991;function T8(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$R}function th(e){return e!=null&&T8(e.length)&&!Tf(e)}function FR(e){return kl(e)&&th(e)}function OR(){return!1}var A8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jg=A8&&typeof module=="object"&&module&&!module.nodeType&&module,LR=jg&&jg.exports===A8,Wg=LR?Co.Buffer:void 0,IR=Wg?Wg.isBuffer:void 0,MR=IR||OR;const Sf=MR;var PR="[object Object]",DR=Function.prototype,RR=Object.prototype,S8=DR.toString,NR=RR.hasOwnProperty,jR=S8.call(Object);function WR(e){if(!kl(e)||qi(e)!=PR)return!1;var t=B8(e);if(t===null)return!0;var n=NR.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&S8.call(n)==jR}var zR="[object Arguments]",HR="[object Array]",VR="[object Boolean]",qR="[object Date]",UR="[object Error]",YR="[object Function]",GR="[object Map]",ZR="[object Number]",KR="[object Object]",XR="[object RegExp]",JR="[object Set]",QR="[object String]",eN="[object WeakMap]",tN="[object ArrayBuffer]",nN="[object DataView]",sN="[object Float32Array]",oN="[object Float64Array]",rN="[object Int8Array]",iN="[object Int16Array]",aN="[object Int32Array]",lN="[object Uint8Array]",cN="[object Uint8ClampedArray]",uN="[object Uint16Array]",hN="[object Uint32Array]",yt={};yt[sN]=yt[oN]=yt[rN]=yt[iN]=yt[aN]=yt[lN]=yt[cN]=yt[uN]=yt[hN]=!0;yt[zR]=yt[HR]=yt[tN]=yt[VR]=yt[nN]=yt[qR]=yt[UR]=yt[YR]=yt[GR]=yt[ZR]=yt[KR]=yt[XR]=yt[JR]=yt[QR]=yt[eN]=!1;function pN(e){return kl(e)&&T8(e.length)&&!!yt[qi(e)]}function dN(e){return function(t){return e(t)}}var $8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Aa=$8&&typeof module=="object"&&module&&!module.nodeType&&module,fN=Aa&&Aa.exports===$8,Uh=fN&&C8.process,mN=function(){try{var e=Aa&&Aa.require&&Aa.require("util").types;return e||Uh&&Uh.binding&&Uh.binding("util")}catch{}}();const zg=mN;var Hg=zg&&zg.isTypedArray,yN=Hg?dN(Hg):pN;const $f=yN;function ad(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var gN=Object.prototype,_N=gN.hasOwnProperty;function vN(e,t,n){var s=e[t];(!(_N.call(e,t)&&Xu(s,n))||n===void 0&&!(t in e))&&Af(e,t,n)}function bN(e,t,n,s){var r=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],c=s?s(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),r?Af(n,l,c):vN(n,l,c)}return n}function CN(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var wN=9007199254740991,xN=/^(?:0|[1-9]\d*)$/;function F8(e,t){var n=typeof e;return t=t??wN,!!t&&(n=="number"||n!="symbol"&&xN.test(e))&&e>-1&&e%1==0&&e<t}var kN=Object.prototype,BN=kN.hasOwnProperty;function EN(e,t){var n=lu(e),s=!n&&au(e),r=!n&&!s&&Sf(e),i=!n&&!s&&!r&&$f(e),a=n||s||r||i,l=a?CN(e.length,String):[],c=l.length;for(var u in e)(t||BN.call(e,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||F8(u,c)))&&l.push(u);return l}function TN(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var AN=Object.prototype,SN=AN.hasOwnProperty;function $N(e){if(!hi(e))return TN(e);var t=eh(e),n=[];for(var s in e)s=="constructor"&&(t||!SN.call(e,s))||n.push(s);return n}function O8(e){return th(e)?EN(e,!0):$N(e)}function FN(e){return bN(e,O8(e))}function ON(e,t,n,s,r,i,a){var l=ad(e,n),c=ad(t,n),u=a.get(c);if(u){id(e,n,u);return}var h=i?i(l,c,n+"",e,t,a):void 0,p=h===void 0;if(p){var d=lu(c),f=!d&&Sf(c),g=!d&&!f&&$f(c);h=c,d||f||g?lu(l)?h=l:FR(l)?h=vR(l):f?(p=!1,h=mR(c,!0)):g?(p=!1,h=_R(c,!0)):h=[]:WR(c)||au(c)?(h=l,au(l)?h=FN(l):(!hi(l)||Tf(l))&&(h=kR(c))):p=!1}p&&(a.set(c,h),r(h,c,s,i,a),a.delete(c)),id(e,n,h)}function L8(e,t,n,s,r){e!==t&&dR(t,function(i,a){if(r||(r=new Ui),hi(i))ON(e,t,a,n,L8,s,r);else{var l=s?s(ad(e,a),i,a+"",e,t,r):void 0;l===void 0&&(l=i),id(e,a,l)}},O8)}function I8(e){return e}function LN(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Vg=Math.max;function IN(e,t,n){return t=Vg(t===void 0?e.length-1:t,0),function(){for(var s=arguments,r=-1,i=Vg(s.length-t,0),a=Array(i);++r<i;)a[r]=s[t+r];r=-1;for(var l=Array(t+1);++r<t;)l[r]=s[r];return l[t]=n(a),LN(e,this,l)}}function MN(e){return function(){return e}}var PN=iu?function(e,t){return iu(e,"toString",{configurable:!0,enumerable:!1,value:MN(t),writable:!0})}:I8;const DN=PN;var RN=800,NN=16,jN=Date.now;function WN(e){var t=0,n=0;return function(){var s=jN(),r=NN-(s-n);if(n=s,r>0){if(++t>=RN)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zN=WN(DN);const HN=zN;function VN(e,t){return HN(IN(e,t,I8),e+"")}function qN(e,t,n){if(!hi(n))return!1;var s=typeof t;return(s=="number"?th(n)&&F8(t,n.length):s=="string"&&t in n)?Xu(n[t],e):!1}function UN(e){return VN(function(t,n){var s=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(r--,i):void 0,a&&qN(n[0],n[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++s<r;){var l=n[s];l&&e(t,l,s,i)}return t})}var YN=UN(function(e,t,n){L8(e,t,n)});const GN=YN,ZN="​",KN={curveBasis:kM,curveBasisClosed:BM,curveBasisOpen:EM,curveBumpX:wM,curveBumpY:xM,curveBundle:TM,curveCardinalClosed:SM,curveCardinalOpen:$M,curveCardinal:AM,curveCatmullRomClosed:OM,curveCatmullRomOpen:LM,curveCatmullRom:FM,curveLinear:CM,curveLinearClosed:IM,curveMonotoneX:MM,curveMonotoneY:PM,curveNatural:DM,curveStep:RM,curveStepAfter:jM,curveStepBefore:NM},XN=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,JN=function(e,t){const n=M8(e,/(?:init\b)|(?:initialize\b)/);let s={};if(Array.isArray(n)){const i=n.map(a=>a.args);tl(i),s=Ht(s,[...i])}else s=n.args;if(!s)return;let r=Ku(e,t);return["config"].forEach(i=>{s[i]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),s[r]=s[i],delete s[i])}),s},M8=function(e,t=null){try{const n=new RegExp(`[%]{2}(?![{]${XN.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(n,"").replace(/'/gm,'"'),Te.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let s;const r=[];for(;(s=Cc.exec(e))!==null;)if(s.index===Cc.lastIndex&&Cc.lastIndex++,s&&!t||t&&s[1]&&s[1].match(t)||t&&s[2]&&s[2].match(t)){const i=s[1]?s[1]:s[2],a=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;r.push({type:i,args:a})}return r.length===0&&r.push({type:e,args:null}),r.length===1?r[0]:r}catch(n){return Te.error(`ERROR: ${n.message} - Unable to parse directive
      ${t!==null?" type:"+t:""} based on the text:${e}`),{type:null,args:null}}},QN=function(e,t){for(const[n,s]of t.entries())if(s.match(e))return n;return-1};function ej(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return KN[n]||t}function tj(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?v0(n):n}const nj=(e,...t)=>{const n=e.split("."),s=n.length-1,r=n[s];let i=window;for(let a=0;a<s;a++)if(i=i[n[a]],!i)return;i[r](...t)};function cu(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function sj(e){let t,n=0;e.forEach(i=>{n+=cu(i,t),t=i});let s=n/2,r;return t=void 0,e.forEach(i=>{if(t&&!r){const a=cu(i,t);if(a<s)s-=a;else{const l=s/a;l<=0&&(r=t),l>=1&&(r={x:i.x,y:i.y}),l>0&&l<1&&(r={x:(1-l)*t.x+l*i.x,y:(1-l)*t.y+l*i.y})}}t=i}),r}function oj(e){return e.length===1?e[0]:sj(e)}const rj=(e,t,n)=>{let s;Te.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());let i=25,a;s=void 0,t.forEach(h=>{if(s&&!a){const p=cu(h,s);if(p<i)i-=p;else{const d=i/p;d<=0&&(a=s),d>=1&&(a={x:h.x,y:h.y}),d>0&&d<1&&(a={x:(1-d)*s.x+d*h.x,y:(1-d)*s.y+d*h.y})}}s=h});const l=e?10:5,c=Math.atan2(t[0].y-a.y,t[0].x-a.x),u={x:0,y:0};return u.x=Math.sin(c)*l+(t[0].x+a.x)/2,u.y=-Math.cos(c)*l+(t[0].y+a.y)/2,u};function ij(e,t,n){let s=JSON.parse(JSON.stringify(n)),r;Te.info("our points",s),t!=="start_left"&&t!=="start_right"&&(s=s.reverse()),s.forEach(p=>{r=p});let a=25+e,l;r=void 0,s.forEach(p=>{if(r&&!l){const d=cu(p,r);if(d<a)a-=d;else{const f=a/d;f<=0&&(l=r),f>=1&&(l={x:p.x,y:p.y}),f>0&&f<1&&(l={x:(1-f)*r.x+f*p.x,y:(1-f)*r.y+f*p.y})}}r=p});const c=10+e*.5,u=Math.atan2(s[0].y-l.y,s[0].x-l.x),h={x:0,y:0};return h.x=Math.sin(u)*c+(s[0].x+l.x)/2,h.y=-Math.cos(u)*c+(s[0].y+l.y)/2,t==="start_left"&&(h.x=Math.sin(u+Math.PI)*c+(s[0].x+l.x)/2,h.y=-Math.cos(u+Math.PI)*c+(s[0].y+l.y)/2),t==="end_right"&&(h.x=Math.sin(u-Math.PI)*c+(s[0].x+l.x)/2-5,h.y=-Math.cos(u-Math.PI)*c+(s[0].y+l.y)/2-5),t==="end_left"&&(h.x=Math.sin(u)*c+(s[0].x+l.x)/2-5,h.y=-Math.cos(u)*c+(s[0].y+l.y)/2-5),h}function aj(e){let t="",n="";for(const s of e)s!==void 0&&(s.startsWith("color:")||s.startsWith("text-align:")?n=n+s+";":t=t+s+";");return{style:t,labelStyle:n}}let qg=0;const lj=()=>(qg++,"id-"+Math.random().toString(36).substr(2,12)+"-"+qg);function cj(e){let t="";const n="0123456789abcdef",s=n.length;for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*s));return t}const uj=e=>cj(e.length),hj=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},pj=function(e,t){const n=t.text.replace(Ef.lineBreakRegex," "),[,s]=Of(t.fontSize),r=e.append("text");r.attr("x",t.x),r.attr("y",t.y),r.style("text-anchor",t.anchor),r.style("font-family",t.fontFamily),r.style("font-size",s),r.style("font-weight",t.fontWeight),r.attr("fill",t.fill),t.class!==void 0&&r.attr("class",t.class);const i=r.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.attr("fill",t.fill),i.text(n),r},dj=xl((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Ef.lineBreakRegex.test(e)))return e;const s=e.split(" "),r=[];let i="";return s.forEach((a,l)=>{const c=uu(`${a} `,n),u=uu(i,n);if(c>t){const{hyphenatedStrings:d,remainingWord:f}=fj(a,t,"-",n);r.push(i,...d),i=f}else u+c>=t?(r.push(i),i=a):i=[i,a].filter(Boolean).join(" ");l+1===s.length&&r.push(i)}),r.filter(a=>a!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),fj=xl((e,t,n="-",s)=>{s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},s);const r=[...e],i=[];let a="";return r.forEach((l,c)=>{const u=`${a}${l}`;if(uu(u,s)>=t){const p=c+1,d=r.length===p,f=`${u}${n}`;i.push(d?u:f),a=""}else a=u}),{hyphenatedStrings:i,remainingWord:a}},(e,t,n="-",s)=>`${e}${t}${n}${s.fontSize}${s.fontWeight}${s.fontFamily}`);function mj(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},t),Ff(e,t).height}function uu(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),Ff(e,t).width}const Ff=xl((e,t)=>{t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t);const{fontSize:n,fontFamily:s,fontWeight:r}=t;if(!e)return{width:0,height:0};const[,i]=Of(n),a=["sans-serif",s],l=e.split(Ef.lineBreakRegex),c=[],u=An("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const d of a){let f=0;const g={width:0,height:0,lineHeight:0};for(const _ of l){const w=hj();w.text=_||ZN;const E=pj(h,w).style("font-size",i).style("font-weight",r).style("font-family",d),x=(E._groups||E)[0][0].getBBox();if(x.width===0&&x.height===0)throw new Error("svg element not in render tree");g.width=Math.round(Math.max(g.width,x.width)),f=Math.round(x.height),g.height+=f,g.lineHeight=Math.round(Math.max(g.lineHeight,f))}c.push(g)}h.remove();const p=isNaN(c[1].height)||isNaN(c[1].width)||isNaN(c[1].lineHeight)||c[0].height>c[1].height&&c[0].width>c[1].width&&c[0].lineHeight>c[1].lineHeight?0:1;return c[p]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),yj=class{constructor(t,n){this.deterministic=t,this.seed=n,this.count=n?n.length:0}next(){return this.deterministic?this.count++:Date.now()}};let ec;const gj=function(e){return ec=ec||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),ec.innerHTML=e,unescape(ec.textContent)},tl=e=>{if(Te.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>tl(t));return}for(const t of Object.keys(e)){if(Te.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!JP.has(t)||e[t]==null){Te.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){Te.debug("sanitizing object",t),tl(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const s of n)t.includes(s)&&(Te.debug("sanitizing css option",t),e[t]=P8(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}Te.debug("After sanitization",e)}},P8=e=>{let t=0,n=0;for(const s of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";s==="{"?t++:s==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e};function D8(e){return"str"in e}const _j=(e,t,n,s)=>{if(!s)return;const r=e.node().getBBox();e.append("text").text(s).attr("x",r.x+r.width/2).attr("y",-n).attr("class",t)},Of=e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e,10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]};function vj(e,t){return GN({},e,t)}const wc={assignWithDepth:Ht,wrapLabel:dj,calculateTextHeight:mj,calculateTextWidth:uu,calculateTextDimensions:Ff,cleanAndMerge:vj,detectInit:JN,detectDirective:M8,isSubstringInArray:QN,interpolateToCurve:ej,calcLabelPosition:oj,calcCardinalityPosition:rj,calcTerminalLabelPosition:ij,formatUrl:tj,getStylesFromArray:aj,generateId:lj,random:uj,runFunc:nj,entityDecode:gj,initIdGenerator:yj,sanitizeDirective:tl,sanitizeCss:P8,insertTitle:_j,parseFontSize:Of};var R8="comm",N8="rule",j8="decl",bj="@import",Cj="@keyframes",wj=Math.abs,Lf=String.fromCharCode;function W8(e){return e.trim()}function ld(e,t,n){return e.replace(t,n)}function xj(e,t){return e.indexOf(t)}function nl(e,t){return e.charCodeAt(t)|0}function sl(e,t,n){return e.slice(t,n)}function Jo(e){return e.length}function z8(e){return e.length}function tc(e,t){return t.push(e),e}var nh=1,Ri=1,H8=0,Fn=0,Bt=0,Yi="";function If(e,t,n,s,r,i,a){return{value:e,root:t,parent:n,type:s,props:r,children:i,line:nh,column:Ri,length:a,return:""}}function kj(){return Bt}function Bj(){return Bt=Fn>0?nl(Yi,--Fn):0,Ri--,Bt===10&&(Ri=1,nh--),Bt}function Hn(){return Bt=Fn<H8?nl(Yi,Fn++):0,Ri++,Bt===10&&(Ri=1,nh++),Bt}function Qr(){return nl(Yi,Fn)}function xc(){return Fn}function sh(e,t){return sl(Yi,e,t)}function cd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ej(e){return nh=Ri=1,H8=Jo(Yi=e),Fn=0,[]}function Tj(e){return Yi="",e}function Yh(e){return W8(sh(Fn-1,ud(e===91?e+2:e===40?e+1:e)))}function Aj(e){for(;(Bt=Qr())&&Bt<33;)Hn();return cd(e)>2||cd(Bt)>3?"":" "}function Sj(e,t){for(;--t&&Hn()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return sh(e,xc()+(t<6&&Qr()==32&&Hn()==32))}function ud(e){for(;Hn();)switch(Bt){case e:return Fn;case 34:case 39:e!==34&&e!==39&&ud(Bt);break;case 40:e===41&&ud(e);break;case 92:Hn();break}return Fn}function $j(e,t){for(;Hn()&&e+Bt!==47+10;)if(e+Bt===42+42&&Qr()===47)break;return"/*"+sh(t,Fn-1)+"*"+Lf(e===47?e:Hn())}function Fj(e){for(;!cd(Qr());)Hn();return sh(e,Fn)}function Oj(e){return Tj(kc("",null,null,null,[""],e=Ej(e),0,[0],e))}function kc(e,t,n,s,r,i,a,l,c){for(var u=0,h=0,p=a,d=0,f=0,g=0,_=1,w=1,E=1,x=0,C="",F=r,T=i,P=s,I=C;w;)switch(g=x,x=Hn()){case 40:if(g!=108&&nl(I,p-1)==58){xj(I+=ld(Yh(x),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:I+=Yh(x);break;case 9:case 10:case 13:case 32:I+=Aj(g);break;case 92:I+=Sj(xc()-1,7);continue;case 47:switch(Qr()){case 42:case 47:tc(Lj($j(Hn(),xc()),t,n),c);break;default:I+="/"}break;case 123*_:l[u++]=Jo(I)*E;case 125*_:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+h:f>0&&Jo(I)-p&&tc(f>32?Yg(I+";",s,n,p-1):Yg(ld(I," ","")+";",s,n,p-2),c);break;case 59:I+=";";default:if(tc(P=Ug(I,t,n,u,h,r,l,C,F=[],T=[],p),i),x===123)if(h===0)kc(I,t,P,P,F,i,p,l,T);else switch(d===99&&nl(I,3)===110?100:d){case 100:case 109:case 115:kc(e,P,P,s&&tc(Ug(e,P,P,0,0,r,l,C,r,F=[],p),T),r,T,p,l,s?F:T);break;default:kc(I,P,P,P,[""],T,0,l,T)}}u=h=f=0,_=E=1,C=I="",p=a;break;case 58:p=1+Jo(I),f=g;default:if(_<1){if(x==123)--_;else if(x==125&&_++==0&&Bj()==125)continue}switch(I+=Lf(x),x*_){case 38:E=h>0?1:(I+="\f",-1);break;case 44:l[u++]=(Jo(I)-1)*E,E=1;break;case 64:Qr()===45&&(I+=Yh(Hn())),d=Qr(),h=p=Jo(C=I+=Fj(xc())),x++;break;case 45:g===45&&Jo(I)==2&&(_=0)}}return i}function Ug(e,t,n,s,r,i,a,l,c,u,h){for(var p=r-1,d=r===0?i:[""],f=z8(d),g=0,_=0,w=0;g<s;++g)for(var E=0,x=sl(e,p+1,p=wj(_=a[g])),C=e;E<f;++E)(C=W8(_>0?d[E]+" "+x:ld(x,/&\f/g,d[E])))&&(c[w++]=C);return If(e,t,n,r===0?N8:l,c,u,h)}function Lj(e,t,n){return If(e,t,n,R8,Lf(kj()),sl(e,2,-2),0)}function Yg(e,t,n,s){return If(e,t,n,j8,sl(e,0,s),sl(e,s+1,-1),s)}function hd(e,t){for(var n="",s=z8(e),r=0;r<s;r++)n+=t(e[r],r,e,t)||"";return n}function Ij(e,t,n,s){switch(e.type){case bj:case j8:return e.return=e.return||e.value;case R8:return"";case Cj:return e.return=e.value+"{"+hd(e.children,s)+"}";case N8:e.value=e.props.join(",")}return Jo(n=hd(e.children,s))?e.return=e.value+"{"+n+"}":""}const Gg="10.4.0",ol=Object.freeze(QP);let sn=Ht({},ol),V8,Ni=[],Sa=Ht({},ol);const oh=(e,t)=>{let n=Ht({},e),s={};for(const r of t)U8(r),s=Ht(s,r);if(n=Ht(n,s),s.theme&&s.theme in Mo){const r=Ht({},V8),i=Ht(r.themeVariables||{},s.themeVariables);n.theme&&n.theme in Mo&&(n.themeVariables=Mo[n.theme].getThemeVariables(i))}return Sa=n,Y8(Sa),Sa},Mj=e=>(sn=Ht({},ol),sn=Ht(sn,e),e.theme&&Mo[e.theme]&&(sn.themeVariables=Mo[e.theme].getThemeVariables(e.themeVariables)),oh(sn,Ni),sn),Pj=e=>{V8=Ht({},e)},Dj=e=>(sn=Ht(sn,e),oh(sn,Ni),sn),q8=()=>Ht({},sn),Rj=e=>(Y8(e),Ht(Sa,e),Un()),Un=()=>Ht({},Sa),U8=e=>{e&&(["secure",...sn.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(Te.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&U8(e[t])}))},hu=e=>{tl(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),Ni.push(e),oh(sn,Ni)},pu=(e=sn)=>{Ni=[],oh(e,Ni)},Nj={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Zg={},jj=e=>{Zg[e]||(Te.warn(Nj[e]),Zg[e]=!0)},Y8=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&jj("LAZY_LOAD_DEPRECATED")},G8="c4",Wj=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),zj=async()=>{const{diagram:e}=await ht(()=>import("./c4Diagram-ae26940c-bafb5288.js"),["assets/c4Diagram-ae26940c-bafb5288.js","assets/svgDrawCommon-5f2bf747-dcdcd546.js"]);return{id:G8,diagram:e}},Hj={id:G8,detector:Wj,loader:zj},Vj=Hj,Z8="flowchart",qj=(e,t)=>{var n,s;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((s=t==null?void 0:t.flowchart)==null?void 0:s.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},Uj=async()=>{const{diagram:e}=await ht(()=>import("./flowDiagram-791cd6ce-3ca66f2c.js"),["assets/flowDiagram-791cd6ce-3ca66f2c.js","assets/flowDb-3647b264-e93fc483.js","assets/layout-7899ed33-57f7c2ec.js","assets/styles-6e9ebeb4-7ccead71.js","assets/index-1bb7dfb9-c2df3381.js","assets/edges-ecd2ecb8-d4678460.js","assets/createText-6836bc4a-388ed8a7.js","assets/svgDraw-092a0897-a39c2202.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:Z8,diagram:e}},Yj={id:Z8,detector:qj,loader:Uj},Gj=Yj,K8="flowchart-v2",Zj=(e,t)=>{var n,s,r;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((s=t==null?void 0:t.flowchart)==null?void 0:s.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},Kj=async()=>{const{diagram:e}=await ht(()=>import("./flowDiagram-v2-ba221793-f94139bc.js"),["assets/flowDiagram-v2-ba221793-f94139bc.js","assets/flowDb-3647b264-e93fc483.js","assets/styles-6e9ebeb4-7ccead71.js","assets/layout-7899ed33-57f7c2ec.js","assets/index-1bb7dfb9-c2df3381.js","assets/edges-ecd2ecb8-d4678460.js","assets/createText-6836bc4a-388ed8a7.js","assets/svgDraw-092a0897-a39c2202.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:K8,diagram:e}},Xj={id:K8,detector:Zj,loader:Kj},Jj=Xj,X8="er",Qj=e=>/^\s*erDiagram/.test(e),eW=async()=>{const{diagram:e}=await ht(()=>import("./erDiagram-98d114f5-660488fa.js"),["assets/erDiagram-98d114f5-660488fa.js","assets/layout-7899ed33-57f7c2ec.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:X8,diagram:e}},tW={id:X8,detector:Qj,loader:eW},nW=tW,J8="gitGraph",sW=e=>/^\s*gitGraph/.test(e),oW=async()=>{const{diagram:e}=await ht(()=>import("./gitGraphDiagram-2a92ed83-ac785736.js"),[]);return{id:J8,diagram:e}},rW={id:J8,detector:sW,loader:oW},iW=rW,Q8="gantt",aW=e=>/^\s*gantt/.test(e),lW=async()=>{const{diagram:e}=await ht(()=>import("./ganttDiagram-2f2b3e35-7ac792e2.js"),["assets/ganttDiagram-2f2b3e35-7ac792e2.js","assets/linear-7aa3c424-a4bd8e3c.js","assets/init-cc95ec8e-77b53fdd.js"]);return{id:Q8,diagram:e}},cW={id:Q8,detector:aW,loader:lW},uW=cW,eb="info",hW=e=>/^\s*info/.test(e),pW=async()=>{const{diagram:e}=await ht(()=>import("./infoDiagram-71364981-13430d49.js"),[]);return{id:eb,diagram:e}},dW={id:eb,detector:hW,loader:pW},tb="pie",fW=e=>/^\s*pie/.test(e),mW=async()=>{const{diagram:e}=await ht(()=>import("./pieDiagram-62059850-11178eeb.js"),["assets/pieDiagram-62059850-11178eeb.js","assets/arc-eae95b9d-83b0d53f.js","assets/constant-b644328d-6af51708.js","assets/ordinal-475e0c0c-7c35649b.js","assets/init-cc95ec8e-77b53fdd.js","assets/array-b7dcf730-9f3ba611.js"]);return{id:tb,diagram:e}},yW={id:tb,detector:fW,loader:mW},nb="quadrantChart",gW=e=>/^\s*quadrantChart/.test(e),_W=async()=>{const{diagram:e}=await ht(()=>import("./quadrantDiagram-eefba29b-c802ab75.js"),["assets/quadrantDiagram-eefba29b-c802ab75.js","assets/linear-7aa3c424-a4bd8e3c.js","assets/init-cc95ec8e-77b53fdd.js"]);return{id:nb,diagram:e}},vW={id:nb,detector:gW,loader:_W},bW=vW,sb="requirement",CW=e=>/^\s*requirement(Diagram)?/.test(e),wW=async()=>{const{diagram:e}=await ht(()=>import("./requirementDiagram-6a2e589f-4bafab1e.js"),["assets/requirementDiagram-6a2e589f-4bafab1e.js","assets/layout-7899ed33-57f7c2ec.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:sb,diagram:e}},xW={id:sb,detector:CW,loader:wW},kW=xW,ob="sequence",BW=e=>/^\s*sequenceDiagram/.test(e),EW=async()=>{const{diagram:e}=await ht(()=>import("./sequenceDiagram-415e57eb-d0139902.js"),["assets/sequenceDiagram-415e57eb-d0139902.js","assets/svgDrawCommon-5f2bf747-dcdcd546.js"]);return{id:ob,diagram:e}},TW={id:ob,detector:BW,loader:EW},AW=TW,rb="class",SW=(e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},$W=async()=>{const{diagram:e}=await ht(()=>import("./classDiagram-aa2e62c5-4c4a2e35.js"),["assets/classDiagram-aa2e62c5-4c4a2e35.js","assets/styles-f1c03133-1edb1b66.js","assets/layout-7899ed33-57f7c2ec.js","assets/svgDraw-092a0897-a39c2202.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:rb,diagram:e}},FW={id:rb,detector:SW,loader:$W},OW=FW,ib="classDiagram",LW=(e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},IW=async()=>{const{diagram:e}=await ht(()=>import("./classDiagram-v2-115132f8-a6805fcb.js"),["assets/classDiagram-v2-115132f8-a6805fcb.js","assets/styles-f1c03133-1edb1b66.js","assets/layout-7899ed33-57f7c2ec.js","assets/index-1bb7dfb9-c2df3381.js","assets/edges-ecd2ecb8-d4678460.js","assets/createText-6836bc4a-388ed8a7.js","assets/svgDraw-092a0897-a39c2202.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:ib,diagram:e}},MW={id:ib,detector:LW,loader:IW},PW=MW,ab="state",DW=(e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},RW=async()=>{const{diagram:e}=await ht(()=>import("./stateDiagram-956145d5-d18460f4.js"),["assets/stateDiagram-956145d5-d18460f4.js","assets/styles-91b2881f-18902f89.js","assets/layout-7899ed33-57f7c2ec.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:ab,diagram:e}},NW={id:ab,detector:DW,loader:RW},jW=NW,lb="stateDiagram",WW=(e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},zW=async()=>{const{diagram:e}=await ht(()=>import("./stateDiagram-v2-e78ef88c-0a6712f6.js"),["assets/stateDiagram-v2-e78ef88c-0a6712f6.js","assets/styles-91b2881f-18902f89.js","assets/layout-7899ed33-57f7c2ec.js","assets/index-1bb7dfb9-c2df3381.js","assets/edges-ecd2ecb8-d4678460.js","assets/createText-6836bc4a-388ed8a7.js","assets/svgDraw-092a0897-a39c2202.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:lb,diagram:e}},HW={id:lb,detector:WW,loader:zW},VW=HW,cb="journey",qW=e=>/^\s*journey/.test(e),UW=async()=>{const{diagram:e}=await ht(()=>import("./journeyDiagram-a9730694-52aba2f5.js"),["assets/journeyDiagram-a9730694-52aba2f5.js","assets/svgDrawCommon-5f2bf747-dcdcd546.js","assets/arc-eae95b9d-83b0d53f.js","assets/constant-b644328d-6af51708.js"]);return{id:cb,diagram:e}},YW={id:cb,detector:qW,loader:UW},GW=YW,ZW=e=>{var t;const{securityLevel:n}=Un();let s=An("body");if(n==="sandbox"){const a=((t=An(`#i${e}`).node())==null?void 0:t.contentDocument)??document;s=An(a.body)}return s.select(`#${e}`)},KW=function(e,t){for(let n of t)e.attr(n[0],n[1])},XW=function(e,t,n){let s=new Map;return n?(s.set("width","100%"),s.set("style",`max-width: ${t}px;`)):(s.set("height",e),s.set("width",t)),s},ub=function(e,t,n,s){const r=XW(t,n,s);KW(e,r)},JW=function(e,t,n,s){const r=t.node().getBBox(),i=r.width,a=r.height;Te.info(`SVG bounds: ${i}x${a}`,r);let l=0,c=0;Te.info(`Graph bounds: ${l}x${c}`,e),l=i+n*2,c=a+n*2,Te.info(`Calculated bounds: ${l}x${c}`),ub(t,c,l,s);const u=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;t.attr("viewBox",u)},QW=(e,t,n)=>{Te.debug(`renering svg for syntax error
`);const s=ZW(t);s.attr("viewBox","0 0 2412 512"),ub(s,100,512,!0);const r=s.append("g");r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},hb={draw:QW},ez=hb,tz={db:{},renderer:hb,parser:{parser:{yy:{}},parse:()=>{}}},nz=tz,pb="flowchart-elk",sz=(e,t)=>{var n;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk")},oz=async()=>{const{diagram:e}=await ht(()=>import("./flowchart-elk-definition-b51952f5-d8678c71.js"),["assets/flowchart-elk-definition-b51952f5-d8678c71.js","assets/flowDb-3647b264-e93fc483.js","assets/edges-ecd2ecb8-d4678460.js","assets/createText-6836bc4a-388ed8a7.js","assets/svgDraw-092a0897-a39c2202.js","assets/line-eb9172ee-74f84bd6.js","assets/array-b7dcf730-9f3ba611.js","assets/constant-b644328d-6af51708.js"]);return{id:pb,diagram:e}},rz={id:pb,detector:sz,loader:oz},iz=rz,db="timeline",az=e=>/^\s*timeline/.test(e),lz=async()=>{const{diagram:e}=await ht(()=>import("./timeline-definition-8fc01fef-7f396d50.js"),["assets/timeline-definition-8fc01fef-7f396d50.js","assets/arc-eae95b9d-83b0d53f.js","assets/constant-b644328d-6af51708.js"]);return{id:db,diagram:e}},cz={id:db,detector:az,loader:lz},uz=cz,fb="mindmap",hz=e=>/^\s*mindmap/.test(e),pz=async()=>{const{diagram:e}=await ht(()=>import("./mindmap-definition-6b172555-6540ff41.js"),["assets/mindmap-definition-6b172555-6540ff41.js","assets/createText-6836bc4a-388ed8a7.js"]);return{id:fb,diagram:e}},dz={id:fb,detector:hz,loader:pz},fz=dz,mb="sankey",mz=e=>/^\s*sankey-beta/.test(e),yz=async()=>{const{diagram:e}=await ht(()=>import("./sankeyDiagram-081bcda6-d453bdef.js"),["assets/sankeyDiagram-081bcda6-d453bdef.js","assets/ordinal-475e0c0c-7c35649b.js","assets/init-cc95ec8e-77b53fdd.js"]);return{id:mb,diagram:e}},gz={id:mb,detector:mz,loader:yz},_z=gz,Bc={},vz=(e,t,n)=>{let s="";return e in Bc&&Bc[e]?s=Bc[e](n):Te.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${s}

  ${t}
`},bz=(e,t)=>{t!==void 0&&(Bc[e]=t)},Cz=vz;let Mf="",rh="",Pf="";const Df=e=>Ja(e,Un()),yb=function(){Mf="",Pf="",rh=""},gb=function(e){Mf=Df(e).replace(/^\s+/g,"")},_b=function(){return Mf||rh},vb=function(e){Pf=Df(e).replace(/\n\s+/g,`
`)},bb=function(){return Pf},Cb=function(e){rh=Df(e)},wb=function(){return rh},wz={getAccTitle:_b,setAccTitle:gb,getDiagramTitle:wb,setDiagramTitle:Cb,getAccDescription:bb,setAccDescription:vb,clear:yb},xz=Object.freeze(Object.defineProperty({__proto__:null,clear:yb,default:wz,getAccDescription:bb,getAccTitle:_b,getDiagramTitle:wb,setAccDescription:vb,setAccTitle:gb,setDiagramTitle:Cb},Symbol.toStringTag,{value:"Module"}));let Er={};const xb=function(e,t,n,s){Te.debug("parseDirective is being called",t,n,s);try{if(t!==void 0)switch(t=t.trim(),n){case"open_directive":Er={};break;case"type_directive":if(!Er)throw new Error("currentDirective is undefined");Er.type=t.toLowerCase();break;case"arg_directive":if(!Er)throw new Error("currentDirective is undefined");Er.args=JSON.parse(t);break;case"close_directive":kz(e,Er,s),Er=void 0;break}}catch(r){Te.error(`Error while rendering sequenceDiagram directive: ${t} jison context: ${n}`),Te.error(r.message)}},kz=function(e,t,n){switch(Te.info(`Directive type=${t.type} with args:`,t.args),t.type){case"init":case"initialize":{["config"].forEach(s=>{t.args[s]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),t.args[n]=t.args[s],delete t.args[s])}),hu(t.args);break}case"wrap":case"nowrap":e&&e.setWrap&&e.setWrap(t.type==="wrap");break;case"themeCss":Te.warn("themeCss encountered");break;default:Te.warn(`Unhandled directive: source: '%%{${t.type}: ${JSON.stringify(t.args?t.args:{})}}%%`,t);break}},Bz=Te,Ez=pf,kb=Un,Tz=e=>Ja(e,kb()),Az=JW,Sz=()=>xz,$z=(e,t,n,s)=>xb(e,t,n,s),du={},fu=(e,t,n)=>{if(du[e])throw new Error(`Diagram ${e} already registered.`);du[e]=t,n&&b8(e,n),bz(e,t.styles),t.injectUtils&&t.injectUtils(Bz,Ez,kb,Tz,Az,Sz(),$z)},Rf=e=>{if(e in du)return du[e];throw new Fz(e)};class Fz extends Error{constructor(t){super(`Diagram ${t} not found.`)}}let Kg=!1;const Nf=()=>{Kg||(Kg=!0,fu("error",nz,e=>e.toLowerCase().trim()==="error"),fu("---",{db:{clear:()=>{}},styles:{},renderer:{},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),v8(Vj,PW,OW,nW,uW,dW,yW,kW,AW,iz,Jj,Gj,fz,uz,iW,VW,jW,GW,bW,_z))};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Bb(e){return typeof e>"u"||e===null}function Oz(e){return typeof e=="object"&&e!==null}function Lz(e){return Array.isArray(e)?e:Bb(e)?[]:[e]}function Iz(e,t){var n,s,r,i;if(t)for(i=Object.keys(t),n=0,s=i.length;n<s;n+=1)r=i[n],e[r]=t[r];return e}function Mz(e,t){var n="",s;for(s=0;s<t;s+=1)n+=e;return n}function Pz(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Dz=Bb,Rz=Oz,Nz=Lz,jz=Mz,Wz=Pz,zz=Iz,Zt={isNothing:Dz,isObject:Rz,toArray:Nz,repeat:jz,isNegativeZero:Wz,extend:zz};function Eb(e,t){var n="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),s+" "+n):s}function rl(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Eb(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}rl.prototype=Object.create(Error.prototype);rl.prototype.constructor=rl;rl.prototype.toString=function(t){return this.name+": "+Eb(this,t)};var Lo=rl;function Gh(e,t,n,s,r){var i="",a="",l=Math.floor(r/2)-1;return s-t>l&&(i=" ... ",t=s-l+i.length),n-s>l&&(a=" ...",n=s+l-a.length),{str:i+e.slice(t,n).replace(/\t/g,"→")+a,pos:s-t+i.length}}function Zh(e,t){return Zt.repeat(" ",t-e.length)+e}function Hz(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,s=[0],r=[],i,a=-1;i=n.exec(e.buffer);)r.push(i.index),s.push(i.index+i[0].length),e.position<=i.index&&a<0&&(a=s.length-2);a<0&&(a=s.length-1);var l="",c,u,h=Math.min(e.line+t.linesAfter,r.length).toString().length,p=t.maxLength-(t.indent+h+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=Gh(e.buffer,s[a-c],r[a-c],e.position-(s[a]-s[a-c]),p),l=Zt.repeat(" ",t.indent)+Zh((e.line-c+1).toString(),h)+" | "+u.str+`
`+l;for(u=Gh(e.buffer,s[a],r[a],e.position,p),l+=Zt.repeat(" ",t.indent)+Zh((e.line+1).toString(),h)+" | "+u.str+`
`,l+=Zt.repeat("-",t.indent+h+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=r.length);c++)u=Gh(e.buffer,s[a+c],r[a+c],e.position-(s[a]-s[a+c]),p),l+=Zt.repeat(" ",t.indent)+Zh((e.line+c+1).toString(),h)+" | "+u.str+`
`;return l.replace(/\n$/,"")}var Vz=Hz,qz=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Uz=["scalar","sequence","mapping"];function Yz(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(s){t[String(s)]=n})}),t}function Gz(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(qz.indexOf(n)===-1)throw new Lo('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Yz(t.styleAliases||null),Uz.indexOf(this.kind)===-1)throw new Lo('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var qt=Gz;function Xg(e,t){var n=[];return e[t].forEach(function(s){var r=n.length;n.forEach(function(i,a){i.tag===s.tag&&i.kind===s.kind&&i.multi===s.multi&&(r=a)}),n[r]=s}),n}function Zz(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function s(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(s);return e}function pd(e){return this.extend(e)}pd.prototype.extend=function(t){var n=[],s=[];if(t instanceof qt)s.push(t);else if(Array.isArray(t))s=s.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(s=s.concat(t.explicit));else throw new Lo("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(i){if(!(i instanceof qt))throw new Lo("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new Lo("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new Lo("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(i){if(!(i instanceof qt))throw new Lo("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(pd.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(s),r.compiledImplicit=Xg(r,"implicit"),r.compiledExplicit=Xg(r,"explicit"),r.compiledTypeMap=Zz(r.compiledImplicit,r.compiledExplicit),r};var Kz=pd,Xz=new qt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Jz=new qt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Qz=new qt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),eH=new Kz({explicit:[Xz,Jz,Qz]});function tH(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function nH(){return null}function sH(e){return e===null}var oH=new qt("tag:yaml.org,2002:null",{kind:"scalar",resolve:tH,construct:nH,predicate:sH,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function rH(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function iH(e){return e==="true"||e==="True"||e==="TRUE"}function aH(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var lH=new qt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:rH,construct:iH,predicate:aH,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function cH(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function uH(e){return 48<=e&&e<=55}function hH(e){return 48<=e&&e<=57}function pH(e){if(e===null)return!1;var t=e.length,n=0,s=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;s=!0}return s&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!cH(e.charCodeAt(n)))return!1;s=!0}return s&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!uH(e.charCodeAt(n)))return!1;s=!0}return s&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!hH(e.charCodeAt(n)))return!1;s=!0}return!(!s||r==="_")}function dH(e){var t=e,n=1,s;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),s=t[0],(s==="-"||s==="+")&&(s==="-"&&(n=-1),t=t.slice(1),s=t[0]),t==="0")return 0;if(s==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function fH(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Zt.isNegativeZero(e)}var mH=new qt("tag:yaml.org,2002:int",{kind:"scalar",resolve:pH,construct:dH,predicate:fH,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),yH=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function gH(e){return!(e===null||!yH.test(e)||e[e.length-1]==="_")}function _H(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var vH=/^[-+]?[0-9]+e/;function bH(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Zt.isNegativeZero(e))return"-0.0";return n=e.toString(10),vH.test(n)?n.replace("e",".e"):n}function CH(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Zt.isNegativeZero(e))}var wH=new qt("tag:yaml.org,2002:float",{kind:"scalar",resolve:gH,construct:_H,predicate:CH,represent:bH,defaultStyle:"lowercase"}),Tb=eH.extend({implicit:[oH,lH,mH,wH]}),xH=Tb,Ab=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Sb=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function kH(e){return e===null?!1:Ab.exec(e)!==null||Sb.exec(e)!==null}function BH(e){var t,n,s,r,i,a,l,c=0,u=null,h,p,d;if(t=Ab.exec(e),t===null&&(t=Sb.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],s=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,s,r));if(i=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(h=+t[10],p=+(t[11]||0),u=(h*60+p)*6e4,t[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,s,r,i,a,l,c)),u&&d.setTime(d.getTime()-u),d}function EH(e){return e.toISOString()}var TH=new qt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:kH,construct:BH,instanceOf:Date,represent:EH});function AH(e){return e==="<<"||e===null}var SH=new qt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:AH}),jf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function $H(e){if(e===null)return!1;var t,n,s=0,r=e.length,i=jf;for(n=0;n<r;n++)if(t=i.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;s+=6}return s%8===0}function FH(e){var t,n,s=e.replace(/[\r\n=]/g,""),r=s.length,i=jf,a=0,l=[];for(t=0;t<r;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|i.indexOf(s.charAt(t));return n=r%4*6,n===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):n===18?(l.push(a>>10&255),l.push(a>>2&255)):n===12&&l.push(a>>4&255),new Uint8Array(l)}function OH(e){var t="",n=0,s,r,i=e.length,a=jf;for(s=0;s<i;s++)s%3===0&&s&&(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]),n=(n<<8)+e[s];return r=i%3,r===0?(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]):r===2?(t+=a[n>>10&63],t+=a[n>>4&63],t+=a[n<<2&63],t+=a[64]):r===1&&(t+=a[n>>2&63],t+=a[n<<4&63],t+=a[64],t+=a[64]),t}function LH(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var IH=new qt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:$H,construct:FH,predicate:LH,represent:OH}),MH=Object.prototype.hasOwnProperty,PH=Object.prototype.toString;function DH(e){if(e===null)return!0;var t=[],n,s,r,i,a,l=e;for(n=0,s=l.length;n<s;n+=1){if(r=l[n],a=!1,PH.call(r)!=="[object Object]")return!1;for(i in r)if(MH.call(r,i))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(i)===-1)t.push(i);else return!1}return!0}function RH(e){return e!==null?e:[]}var NH=new qt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:DH,construct:RH}),jH=Object.prototype.toString;function WH(e){if(e===null)return!0;var t,n,s,r,i,a=e;for(i=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(s=a[t],jH.call(s)!=="[object Object]"||(r=Object.keys(s),r.length!==1))return!1;i[t]=[r[0],s[r[0]]]}return!0}function zH(e){if(e===null)return[];var t,n,s,r,i,a=e;for(i=new Array(a.length),t=0,n=a.length;t<n;t+=1)s=a[t],r=Object.keys(s),i[t]=[r[0],s[r[0]]];return i}var HH=new qt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:WH,construct:zH}),VH=Object.prototype.hasOwnProperty;function qH(e){if(e===null)return!0;var t,n=e;for(t in n)if(VH.call(n,t)&&n[t]!==null)return!1;return!0}function UH(e){return e!==null?e:{}}var YH=new qt("tag:yaml.org,2002:set",{kind:"mapping",resolve:qH,construct:UH}),GH=xH.extend({implicit:[TH,SH],explicit:[IH,NH,HH,YH]}),yr=Object.prototype.hasOwnProperty,mu=1,$b=2,Fb=3,yu=4,Kh=1,ZH=2,Jg=3,KH=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,XH=/[\x85\u2028\u2029]/,JH=/[,\[\]\{\}]/,Ob=/^(?:!|!!|![a-z\-]+!)$/i,Lb=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Qg(e){return Object.prototype.toString.call(e)}function fo(e){return e===10||e===13}function ei(e){return e===9||e===32}function ln(e){return e===9||e===32||e===10||e===13}function ki(e){return e===44||e===91||e===93||e===123||e===125}function QH(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function eV(e){return e===120?2:e===117?4:e===85?8:0}function tV(e){return 48<=e&&e<=57?e-48:-1}function e_(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function nV(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Ib=new Array(256),Mb=new Array(256);for(var Ci=0;Ci<256;Ci++)Ib[Ci]=e_(Ci)?1:0,Mb[Ci]=e_(Ci);function sV(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||GH,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Pb(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=Vz(n),new Lo(t,n)}function Fe(e,t){throw Pb(e,t)}function gu(e,t){e.onWarning&&e.onWarning.call(null,Pb(e,t))}var t_={YAML:function(t,n,s){var r,i,a;t.version!==null&&Fe(t,"duplication of %YAML directive"),s.length!==1&&Fe(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),r===null&&Fe(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),a=parseInt(r[2],10),i!==1&&Fe(t,"unacceptable YAML version of the document"),t.version=s[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&gu(t,"unsupported YAML version of the document")},TAG:function(t,n,s){var r,i;s.length!==2&&Fe(t,"TAG directive accepts exactly two arguments"),r=s[0],i=s[1],Ob.test(r)||Fe(t,"ill-formed tag handle (first argument) of the TAG directive"),yr.call(t.tagMap,r)&&Fe(t,'there is a previously declared suffix for "'+r+'" tag handle'),Lb.test(i)||Fe(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{Fe(t,"tag prefix is malformed: "+i)}t.tagMap[r]=i}};function lr(e,t,n,s){var r,i,a,l;if(t<n){if(l=e.input.slice(t,n),s)for(r=0,i=l.length;r<i;r+=1)a=l.charCodeAt(r),a===9||32<=a&&a<=1114111||Fe(e,"expected valid JSON character");else KH.test(l)&&Fe(e,"the stream contains non-printable characters");e.result+=l}}function n_(e,t,n,s){var r,i,a,l;for(Zt.isObject(n)||Fe(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),a=0,l=r.length;a<l;a+=1)i=r[a],yr.call(t,i)||(t[i]=n[i],s[i]=!0)}function Bi(e,t,n,s,r,i,a,l,c){var u,h;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,h=r.length;u<h;u+=1)Array.isArray(r[u])&&Fe(e,"nested arrays are not supported inside keys"),typeof r=="object"&&Qg(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&Qg(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(i))for(u=0,h=i.length;u<h;u+=1)n_(e,t,i[u],n);else n_(e,t,i,n);else!e.json&&!yr.call(n,r)&&yr.call(t,r)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,Fe(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[r]=i,delete n[r];return t}function Wf(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Fe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Et(e,t,n){for(var s=0,r=e.input.charCodeAt(e.position);r!==0;){for(;ei(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(fo(r))for(Wf(e),r=e.input.charCodeAt(e.position),s++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&s!==0&&e.lineIndent<n&&gu(e,"deficient indentation"),s}function ih(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||ln(n)))}function zf(e,t){t===1?e.result+=" ":t>1&&(e.result+=Zt.repeat(`
`,t-1))}function oV(e,t,n){var s,r,i,a,l,c,u,h,p=e.kind,d=e.result,f;if(f=e.input.charCodeAt(e.position),ln(f)||ki(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(r=e.input.charCodeAt(e.position+1),ln(r)||n&&ki(r)))return!1;for(e.kind="scalar",e.result="",i=a=e.position,l=!1;f!==0;){if(f===58){if(r=e.input.charCodeAt(e.position+1),ln(r)||n&&ki(r))break}else if(f===35){if(s=e.input.charCodeAt(e.position-1),ln(s))break}else{if(e.position===e.lineStart&&ih(e)||n&&ki(f))break;if(fo(f))if(c=e.line,u=e.lineStart,h=e.lineIndent,Et(e,!1,-1),e.lineIndent>=t){l=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=h;break}}l&&(lr(e,i,a,!1),zf(e,e.line-c),i=a=e.position,l=!1),ei(f)||(a=e.position+1),f=e.input.charCodeAt(++e.position)}return lr(e,i,a,!1),e.result?!0:(e.kind=p,e.result=d,!1)}function rV(e,t){var n,s,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,s=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(lr(e,s,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)s=e.position,e.position++,r=e.position;else return!0;else fo(n)?(lr(e,s,r,!0),zf(e,Et(e,!1,t)),s=r=e.position):e.position===e.lineStart&&ih(e)?Fe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);Fe(e,"unexpected end of the stream within a single quoted scalar")}function iV(e,t){var n,s,r,i,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=s=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return lr(e,n,e.position,!0),e.position++,!0;if(l===92){if(lr(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),fo(l))Et(e,!1,t);else if(l<256&&Ib[l])e.result+=Mb[l],e.position++;else if((a=eV(l))>0){for(r=a,i=0;r>0;r--)l=e.input.charCodeAt(++e.position),(a=QH(l))>=0?i=(i<<4)+a:Fe(e,"expected hexadecimal character");e.result+=nV(i),e.position++}else Fe(e,"unknown escape sequence");n=s=e.position}else fo(l)?(lr(e,n,s,!0),zf(e,Et(e,!1,t)),n=s=e.position):e.position===e.lineStart&&ih(e)?Fe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,s=e.position)}Fe(e,"unexpected end of the stream within a double quoted scalar")}function aV(e,t){var n=!0,s,r,i,a=e.tag,l,c=e.anchor,u,h,p,d,f,g=Object.create(null),_,w,E,x;if(x=e.input.charCodeAt(e.position),x===91)h=93,f=!1,l=[];else if(x===123)h=125,f=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),x=e.input.charCodeAt(++e.position);x!==0;){if(Et(e,!0,t),x=e.input.charCodeAt(e.position),x===h)return e.position++,e.tag=a,e.anchor=c,e.kind=f?"mapping":"sequence",e.result=l,!0;n?x===44&&Fe(e,"expected the node content, but found ','"):Fe(e,"missed comma between flow collection entries"),w=_=E=null,p=d=!1,x===63&&(u=e.input.charCodeAt(e.position+1),ln(u)&&(p=d=!0,e.position++,Et(e,!0,t))),s=e.line,r=e.lineStart,i=e.position,ji(e,t,mu,!1,!0),w=e.tag,_=e.result,Et(e,!0,t),x=e.input.charCodeAt(e.position),(d||e.line===s)&&x===58&&(p=!0,x=e.input.charCodeAt(++e.position),Et(e,!0,t),ji(e,t,mu,!1,!0),E=e.result),f?Bi(e,l,g,w,_,E,s,r,i):p?l.push(Bi(e,null,g,w,_,E,s,r,i)):l.push(_),Et(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(n=!0,x=e.input.charCodeAt(++e.position)):n=!1}Fe(e,"unexpected end of the stream within a flow collection")}function lV(e,t){var n,s,r=Kh,i=!1,a=!1,l=t,c=0,u=!1,h,p;if(p=e.input.charCodeAt(e.position),p===124)s=!1;else if(p===62)s=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)Kh===r?r=p===43?Jg:ZH:Fe(e,"repeat of a chomping mode identifier");else if((h=tV(p))>=0)h===0?Fe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Fe(e,"repeat of an indentation width identifier"):(l=t+h-1,a=!0);else break;if(ei(p)){do p=e.input.charCodeAt(++e.position);while(ei(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!fo(p)&&p!==0)}for(;p!==0;){for(Wf(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),fo(p)){c++;continue}if(e.lineIndent<l){r===Jg?e.result+=Zt.repeat(`
`,i?1+c:c):r===Kh&&i&&(e.result+=`
`);break}for(s?ei(p)?(u=!0,e.result+=Zt.repeat(`
`,i?1+c:c)):u?(u=!1,e.result+=Zt.repeat(`
`,c+1)):c===0?i&&(e.result+=" "):e.result+=Zt.repeat(`
`,c):e.result+=Zt.repeat(`
`,i?1+c:c),i=!0,a=!0,c=0,n=e.position;!fo(p)&&p!==0;)p=e.input.charCodeAt(++e.position);lr(e,n,e.position,!1)}return!0}function s_(e,t){var n,s=e.tag,r=e.anchor,i=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Fe(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!ln(a))));){if(l=!0,e.position++,Et(e,!0,-1)&&e.lineIndent<=t){i.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,ji(e,t,Fb,!1,!0),i.push(e.result),Et(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)Fe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=s,e.anchor=r,e.kind="sequence",e.result=i,!0):!1}function cV(e,t,n){var s,r,i,a,l,c,u=e.tag,h=e.anchor,p={},d=Object.create(null),f=null,g=null,_=null,w=!1,E=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),x=e.input.charCodeAt(e.position);x!==0;){if(!w&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Fe(e,"tab characters must not be used in indentation")),s=e.input.charCodeAt(e.position+1),i=e.line,(x===63||x===58)&&ln(s))x===63?(w&&(Bi(e,p,d,f,g,null,a,l,c),f=g=_=null),E=!0,w=!0,r=!0):w?(w=!1,r=!0):Fe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=s;else{if(a=e.line,l=e.lineStart,c=e.position,!ji(e,n,$b,!1,!0))break;if(e.line===i){for(x=e.input.charCodeAt(e.position);ei(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),ln(x)||Fe(e,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(Bi(e,p,d,f,g,null,a,l,c),f=g=_=null),E=!0,w=!1,r=!1,f=e.tag,g=e.result;else if(E)Fe(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=h,!0}else if(E)Fe(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=h,!0}if((e.line===i||e.lineIndent>t)&&(w&&(a=e.line,l=e.lineStart,c=e.position),ji(e,t,yu,!0,r)&&(w?g=e.result:_=e.result),w||(Bi(e,p,d,f,g,_,a,l,c),f=g=_=null),Et(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&x!==0)Fe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return w&&Bi(e,p,d,f,g,null,a,l,c),E&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=p),E}function uV(e){var t,n=!1,s=!1,r,i,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Fe(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(n=!0,a=e.input.charCodeAt(++e.position)):a===33?(s=!0,r="!!",a=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(i=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Fe(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ln(a);)a===33&&(s?Fe(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Ob.test(r)||Fe(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),JH.test(i)&&Fe(e,"tag suffix cannot contain flow indicator characters")}i&&!Lb.test(i)&&Fe(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{Fe(e,"tag name is malformed: "+i)}return n?e.tag=i:yr.call(e.tagMap,r)?e.tag=e.tagMap[r]+i:r==="!"?e.tag="!"+i:r==="!!"?e.tag="tag:yaml.org,2002:"+i:Fe(e,'undeclared tag handle "'+r+'"'),!0}function hV(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&Fe(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ln(n)&&!ki(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Fe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function pV(e){var t,n,s;if(s=e.input.charCodeAt(e.position),s!==42)return!1;for(s=e.input.charCodeAt(++e.position),t=e.position;s!==0&&!ln(s)&&!ki(s);)s=e.input.charCodeAt(++e.position);return e.position===t&&Fe(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),yr.call(e.anchorMap,n)||Fe(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Et(e,!0,-1),!0}function ji(e,t,n,s,r){var i,a,l,c=1,u=!1,h=!1,p,d,f,g,_,w;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=a=l=yu===n||Fb===n,s&&Et(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;uV(e)||hV(e);)Et(e,!0,-1)?(u=!0,l=i,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||r),(c===1||yu===n)&&(mu===n||$b===n?_=t:_=t+1,w=e.position-e.lineStart,c===1?l&&(s_(e,w)||cV(e,w,_))||aV(e,_)?h=!0:(a&&lV(e,_)||rV(e,_)||iV(e,_)?h=!0:pV(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&Fe(e,"alias node should not have any properties")):oV(e,_,mu===n)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(h=l&&s_(e,w))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Fe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,d=e.implicitTypes.length;p<d;p+=1)if(g=e.implicitTypes[p],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(yr.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,f=e.typeMap.multi[e.kind||"fallback"],p=0,d=f.length;p<d;p+=1)if(e.tag.slice(0,f[p].tag.length)===f[p].tag){g=f[p];break}g||Fe(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&Fe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Fe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function dV(e){var t=e.position,n,s,r,i=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Et(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(i=!0,a=e.input.charCodeAt(++e.position),n=e.position;a!==0&&!ln(a);)a=e.input.charCodeAt(++e.position);for(s=e.input.slice(n,e.position),r=[],s.length<1&&Fe(e,"directive name must not be less than one character in length");a!==0;){for(;ei(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!fo(a));break}if(fo(a))break;for(n=e.position;a!==0&&!ln(a);)a=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}a!==0&&Wf(e),yr.call(t_,s)?t_[s](e,s,r):gu(e,'unknown document directive "'+s+'"')}if(Et(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Et(e,!0,-1)):i&&Fe(e,"directives end mark is expected"),ji(e,e.lineIndent-1,yu,!1,!0),Et(e,!0,-1),e.checkLineBreaks&&XH.test(e.input.slice(t,e.position))&&gu(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ih(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Et(e,!0,-1));return}if(e.position<e.length-1)Fe(e,"end of the stream or a document separator is expected");else return}function Db(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new sV(e,t),s=e.indexOf("\0");for(s!==-1&&(n.position=s,Fe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)dV(n);return n.documents}function fV(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var s=Db(e,n);if(typeof t!="function")return s;for(var r=0,i=s.length;r<i;r+=1)t(s[r])}function mV(e,t){var n=Db(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Lo("expected a single document in the stream, but found more")}}var yV=fV,gV=mV,_V={loadAll:yV,load:gV},vV=Tb,bV=_V.load;function Rb(e,t,n){var s,r;const i=e.match(g8);if(!i)return e;const a=bV(i[1],{schema:vV});return a!=null&&a.title&&((s=t.setDiagramTitle)==null||s.call(t,a.title.toString())),a!=null&&a.displayMode&&((r=t.setDisplayMode)==null||r.call(t,a.displayMode.toString())),a!=null&&a.config&&(n==null||n(a.config)),e.slice(i[0].length)}const CV=e=>e.trimStart().replace(/^\s*%%(?!{)[^\n]+\n?/gm,"");class Nb{constructor(t){this.text=t,this.type="graph",this.text+=`
`;const n=Un();try{this.type=Ku(t,n)}catch(i){this.type="error",this.detectError=i}const s=Rf(this.type);Te.debug("Type "+this.type),this.db=s.db,this.renderer=s.renderer,this.parser=s.parser;const r=this.parser.parse.bind(this.parser);this.parser.parse=i=>r(CV(Rb(i,this.db,hu))),this.parser.parser.yy=this.db,this.init=s.init,this.parse()}parse(){var t,n,s;if(this.detectError)throw this.detectError;(n=(t=this.db).clear)==null||n.call(t),(s=this.init)==null||s.call(this,Un()),this.parser.parse(this.text)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}}const Hf=async e=>{const t=Ku(e,Un());try{Rf(t)}catch{const s=tD(t);if(!s)throw new _8(`Diagram ${t} not found.`);const{id:r,diagram:i}=await s();fu(r,i)}return new Nb(e)};let dd=[];const bQ=e=>{dd.push(e)},wV=()=>{dd.forEach(e=>{e()}),dd=[]};var xV=k8(Object.keys,Object);const kV=xV;var BV=Object.prototype,EV=BV.hasOwnProperty;function TV(e){if(!eh(e))return kV(e);var t=[];for(var n in Object(e))EV.call(e,n)&&n!="constructor"&&t.push(n);return t}var AV=di(Co,"DataView");const fd=AV;var SV=di(Co,"Promise");const md=SV;var $V=di(Co,"Set");const yd=$V;var FV=di(Co,"WeakMap");const gd=FV;var o_="[object Map]",OV="[object Object]",r_="[object Promise]",i_="[object Set]",a_="[object WeakMap]",l_="[object DataView]",LV=pi(fd),IV=pi(el),MV=pi(md),PV=pi(yd),DV=pi(gd),Lr=qi;(fd&&Lr(new fd(new ArrayBuffer(1)))!=l_||el&&Lr(new el)!=o_||md&&Lr(md.resolve())!=r_||yd&&Lr(new yd)!=i_||gd&&Lr(new gd)!=a_)&&(Lr=function(e){var t=qi(e),n=t==OV?e.constructor:void 0,s=n?pi(n):"";if(s)switch(s){case LV:return l_;case IV:return o_;case MV:return r_;case PV:return i_;case DV:return a_}return t});const RV=Lr;var NV="[object Map]",jV="[object Set]",WV=Object.prototype,zV=WV.hasOwnProperty;function Xh(e){if(e==null)return!0;if(th(e)&&(lu(e)||typeof e=="string"||typeof e.splice=="function"||Sf(e)||$f(e)||au(e)))return!e.length;var t=RV(e);if(t==NV||t==jV)return!e.size;if(eh(e))return!TV(e).length;for(var n in e)if(zV.call(e,n))return!1;return!0}const HV="graphics-document document";function VV(e,t){e.attr("role",HV),t!==""&&e.attr("aria-roledescription",t)}function qV(e,t,n,s){if(e.insert!==void 0){if(n){const r=`chart-desc-${s}`;e.attr("aria-describedby",r),e.insert("desc",":first-child").attr("id",r).text(n)}if(t){const r=`chart-title-${s}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}const jb=["graph","flowchart","flowchart-v2","flowchart-elk","stateDiagram","stateDiagram-v2"],UV=5e4,YV="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",GV="sandbox",ZV="loose",KV="http://www.w3.org/2000/svg",XV="http://www.w3.org/1999/xlink",JV="http://www.w3.org/1999/xhtml",QV="100%",eq="100%",tq="border:0;margin:0;",nq="margin:0",sq="allow-top-navigation-by-user-activation allow-popups",oq='The "iframe" tag is not supported by your browser.',rq=["foreignobject"],iq=["dominant-baseline"];async function aq(e,t){Nf();try{await Hf(e)}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}return!0}const lq=function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const s=n.substring(1,n.length-1);return/^\+?\d+$/.test(s)?"ﬂ°°"+s+"¶ß":"ﬂ°"+s+"¶ß"}),t},cq=function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},c_=(e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,uq=(e,t,n={})=>{var s;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!Xh(n)&&jb.includes(t)){const c=e.htmlLabels||((s=e.flowchart)==null?void 0:s.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const u in n){const h=n[u];Xh(h.styles)||c.forEach(p=>{r+=c_(h.id,p,h.styles)}),Xh(h.textStyles)||(r+=c_(h.id,"tspan",h.textStyles))}}return r},hq=(e,t,n,s)=>{const r=uq(e,t,n),i=Cz(t,r,e.themeVariables);return hd(Oj(`${s}{${i}}`),Ij)},pq=(e="",t,n)=>{let s=e;return!n&&!t&&(s=s.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),s=cq(s),s=s.replace(/<br>/g,"<br/>"),s},dq=(e="",t)=>{var n,s;const r=(s=(n=t==null?void 0:t.viewBox)==null?void 0:n.baseVal)!=null&&s.height?t.viewBox.baseVal.height+"px":eq,i=btoa('<body style="'+nq+'">'+e+"</body>");return`<iframe style="width:${QV};height:${r};${tq}" src="data:text/html;base64,${i}" sandbox="${sq}">
  ${oq}
</iframe>`},u_=(e,t,n,s,r)=>{const i=e.append("div");i.attr("id",n),s&&i.attr("style",s);const a=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns",KV);return r&&a.attr("xmlns:xlink",r),a.append("g"),e};function h_(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const fq=(e,t,n,s)=>{var r,i,a;(r=e.getElementById(t))==null||r.remove(),(i=e.getElementById(n))==null||i.remove(),(a=e.getElementById(s))==null||a.remove()},mq=async function(e,t,n){var s,r,i,a;Nf(),pu(),Rb(t,{},hu);const l=wc.detectInit(t);l&&hu(l);const c=Un();Te.debug(c),t.length>((c==null?void 0:c.maxTextSize)??UV)&&(t=YV),t=t.replace(/\r\n?/g,`
`),t=t.replace(/<(\w+)([^>]*)>/g,(O,Y,Z)=>"<"+Y+Z.replace(/="([^"]*)"/g,"='$1'")+">");const u="#"+e,h="i"+e,p="#"+h,d="d"+e,f="#"+d;let g=An("body");const _=c.securityLevel===GV,w=c.securityLevel===ZV,E=c.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),_){const O=h_(An(n),h);g=An(O.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=An(n);u_(g,e,d,`font-family: ${E}`,XV)}else{if(fq(document,e,d,h),_){const O=h_(An("body"),h);g=An(O.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=An("body");u_(g,e,d)}t=lq(t);let x,C;try{x=await Hf(t)}catch(O){x=new Nb("error"),C=O}const F=g.select(f).node(),T=x.type,P=F.firstChild,I=P.firstChild,N=jb.includes(T)?x.renderer.getClasses(t,x):{},V=hq(c,T,N,u),q=document.createElement("style");q.innerHTML=V,P.insertBefore(q,I);try{await x.renderer.draw(t,e,Gg,x)}catch(O){throw ez.draw(t,e,Gg),O}const ve=g.select(`${f} svg`),ie=(r=(s=x.db).getAccTitle)==null?void 0:r.call(s),te=(a=(i=x.db).getAccDescription)==null?void 0:a.call(i);gq(T,ve,ie,te),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",JV);let W=g.select(f).node().innerHTML;if(Te.debug("config.arrowMarkerAbsolute",c.arrowMarkerAbsolute),W=pq(W,_,u8(c.arrowMarkerAbsolute)),_){const O=g.select(f+" svg").node();W=dq(W,O)}else w||(W=ou.sanitize(W,{ADD_TAGS:rq,ADD_ATTR:iq}));if(wV(),C)throw C;const de=An(_?p:f).node();return de&&"remove"in de&&de.remove(),{svg:W,bindFunctions:x.db.bindFunctions}};function yq(e={}){var t;e!=null&&e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Pj(e),e!=null&&e.theme&&e.theme in Mo?e.themeVariables=Mo[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Mo.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?Mj(e):q8();pf(n.logLevel),Nf()}function gq(e,t,n,s){VV(t,e),qV(t,n,s,t.attr("id"))}const ri=Object.freeze({render:mq,parse:aq,parseDirective:xb,getDiagramFromText:Hf,initialize:yq,getConfig:Un,setConfig:Rj,getSiteConfig:q8,updateSiteConfig:Dj,reset:()=>{pu()},globalReset:()=>{pu(ol)},defaultConfig:ol});pf(Un().logLevel);pu(Un());const _q=async()=>{Te.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Di).map(async([n,{detector:s,loader:r}])=>{if(r)try{Rf(n)}catch{try{const{diagram:a,id:l}=await r();fu(l,a,s)}catch(a){throw Te.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete Di[n],a}}}))).filter(n=>n.status==="rejected");if(t.length>0){Te.error(`Failed to load ${t.length} external diagrams`);for(const n of t)Te.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},vq=(e,t,n)=>{Te.warn(e),D8(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},Wb=async function(e={querySelector:".mermaid"}){try{await bq(e)}catch(t){if(D8(t)&&Te.error(t.str),hn.parseError&&hn.parseError(t),!e.suppressErrors)throw Te.error("Use the suppressErrors option to suppress these errors"),t}},bq=async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const s=ri.getConfig();Te.debug(`${e?"":"No "}Callback function found`);let r;if(n)r=n;else if(t)r=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");Te.debug(`Found ${r.length} diagrams`),(s==null?void 0:s.startOnLoad)!==void 0&&(Te.debug("Start On Load: "+(s==null?void 0:s.startOnLoad)),ri.updateSiteConfig({startOnLoad:s==null?void 0:s.startOnLoad}));const i=new wc.initIdGenerator(s.deterministicIds,s.deterministicIDSeed);let a;const l=[];for(const c of Array.from(r)){Te.info("Rendering diagram: "+c.id);/*! Check if previously processed */if(c.getAttribute("data-processed"))continue;c.setAttribute("data-processed","true");const u=`mermaid-${i.next()}`;a=c.innerHTML,a=Y9(wc.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=wc.detectInit(a);h&&Te.debug("Detected early reinit: ",h);try{const{svg:p,bindFunctions:d}=await qb(u,a,c);c.innerHTML=p,e&&await e(u),d&&d(c)}catch(p){vq(p,l,hn.parseError)}}if(l.length>0)throw l[0]},zb=function(e){ri.initialize(e)},Cq=async function(e,t,n){Te.warn("mermaid.init is deprecated. Please use run instead."),e&&zb(e);const s={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?s.querySelector=t:t&&(t instanceof HTMLElement?s.nodes=[t]:s.nodes=t),await Wb(s)},wq=async(e,{lazyLoad:t=!0}={})=>{v8(...e),t===!1&&await _q()},Hb=function(){if(hn.startOnLoad){const{startOnLoad:e}=ri.getConfig();e&&hn.run().catch(t=>Te.error("Mermaid failed to initialize",t))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",Hb,!1)}const xq=function(e){hn.parseError=e},_u=[];let Jh=!1;const Vb=async()=>{if(!Jh){for(Jh=!0;_u.length>0;){const e=_u.shift();if(e)try{await e()}catch(t){Te.error("Error executing queue",t)}}Jh=!1}},kq=async(e,t)=>new Promise((n,s)=>{const r=()=>new Promise((i,a)=>{ri.parse(e,t).then(l=>{i(l),n(l)},l=>{var c;Te.error("Error parsing",l),(c=hn.parseError)==null||c.call(hn,l),a(l),s(l)})});_u.push(r),Vb().catch(s)}),qb=(e,t,n)=>new Promise((s,r)=>{const i=()=>new Promise((a,l)=>{ri.render(e,t,n).then(c=>{a(c),s(c)},c=>{var u;Te.error("Error parsing",c),(u=hn.parseError)==null||u.call(hn,c),l(c),r(c)})});_u.push(i),Vb().catch(r)}),hn={startOnLoad:!0,mermaidAPI:ri,parse:kq,render:qb,init:Cq,run:Wb,registerExternalDiagrams:wq,initialize:zb,parseError:void 0,contentLoaded:Hb,setParseErrorHandler:xq,detectType:Ku},Bq=typeof atob=="function",Vf=typeof Buffer=="function",p_=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const Eq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tq=Array.prototype.slice.call(Eq),nc=(e=>{let t={};return e.forEach((n,s)=>t[n]=s),t})(Tq),Aq=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Hr=String.fromCharCode.bind(String),d_=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Ub=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Sq=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,$q=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Hr((n>>>10)+55296)+Hr((n&1023)+56320);case 3:return Hr((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Hr((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Fq=e=>e.replace(Sq,$q),Oq=e=>{if(e=e.replace(/\s+/g,""),!Aq.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",s,r;for(let i=0;i<e.length;)t=nc[e.charAt(i++)]<<18|nc[e.charAt(i++)]<<12|(s=nc[e.charAt(i++)])<<6|(r=nc[e.charAt(i++)]),n+=s===64?Hr(t>>16&255):r===64?Hr(t>>16&255,t>>8&255):Hr(t>>16&255,t>>8&255,t&255);return n},Yb=Bq?e=>atob(Ub(e)):Vf?e=>Buffer.from(e,"base64").toString("binary"):Oq,Lq=Vf?e=>d_(Buffer.from(e,"base64")):e=>d_(Yb(e).split("").map(t=>t.charCodeAt(0))),Iq=Vf?e=>Buffer.from(e,"base64").toString("utf8"):p_?e=>p_.decode(Lq(e)):e=>Fq(Yb(e)),Mq=e=>Ub(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Pq=e=>Iq(Mq(e));const Dq=()=>({theme:"default"});hn.startOnLoad=!1;hn.initialize({startOnLoad:!1});const Rq=eB("abcedfghicklmn",10),f_=new Map;async function Nq(e,t){const n=e+JSON.stringify(t),s=f_.get(n);if(s)return s;hn.initialize({startOnLoad:!1,...hy(Dq()||{}),...hy(t)});const r=Pq(e),i=Rq(),{svg:a}=await hn.render(i,r);return f_.set(n,a),a}const jq=Xe({__name:"ShadowRoot",props:{innerHtml:{type:String,required:!0}},emits:["shadow"],setup(e,{emit:t}){const n=e,s=ne(),r=m(()=>s.value?s.value.shadowRoot||s.value.attachShadow({mode:"open"}):null);return zn(()=>{r.value&&n.innerHtml&&(t("shadow",r.value),r.value.innerHTML=n.innerHtml)}),(i,a)=>(k(),R("div",{ref_key:"el",ref:s},null,512))}}),Wq=J(jq,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/internals/ShadowRoot.vue"]]),zq=Xe({__name:"Mermaid",props:{code:{type:String,required:!0},scale:{type:Number,required:!1},theme:{type:String,required:!1}},setup(e){const t=e,n=pn(),s=ne(),r=ne("");zn(async a=>{let l=!1;a(()=>{l=!0});const c=await Nq(t.code||"",{theme:t.theme||(ju.value?"dark":void 0),...n.attrs});l||(r.value=c)});const i=ne();return ze(r,()=>{i.value=void 0}),zn(()=>{var l,c,u;const a=(c=(l=s.value)==null?void 0:l.children)==null?void 0:c[0];if(a&&a.hasAttribute("viewBox")&&i.value==null){const h=Number.parseFloat(((u=a.getAttribute("viewBox"))==null?void 0:u.split(" ")[3])||"");i.value=Number.isNaN(h)?void 0:h}},{flush:"post"}),zn(()=>{var l,c;const a=(c=(l=s.value)==null?void 0:l.children)==null?void 0:c[0];a!=null&&t.scale!=null&&i.value!=null&&(a.setAttribute("height",`${i.value*t.scale}`),a.removeAttribute("width"),a.removeAttribute("style"))},{flush:"post"}),(a,l)=>(k(),K(Wq,{class:"mermaid","inner-html":r.value,onShadow:l[0]||(l[0]=c=>s.value=c)},null,8,["inner-html"]))}}),Cr=J(zq,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/builtin/Mermaid.vue"]]),ks=M({}),Hq=M({layout:m(()=>ks.layout),transition:m(()=>ks.transition),class:m(()=>ks.class),clicks:m(()=>ks.clicks),name:m(()=>ks.name),slide:{raw:"",title:"/api/checkout",level:2,content:"",note:"",index:27,start:513,end:533,noteHTML:`<p>So back to our example of the checkout API we have a series of three local transaction to create our payment flow.</p>
<p>We first process our payment, and if the local transaction succed, we trigger the next one by some signal or some message, and when that completes, assuming that is successful, we trigger the final one.</p>
<p>This approach may seem very simple, but there are things to deal with.</p>
`,frontmatter:ks,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}),Vq=o("h2",null,"/api/checkout",-1),qq=o("br",null,null,-1),Uq={__name:"28",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ks;return pe(xe,ks),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ks))})(),(r,i)=>{const a=Cr;return k(),K(et,Be(ke(A(ks))),{default:X(()=>[Vq,qq,ce(a,Qe({code:"Zmxvd2NoYXJ0IExSCiAgICBBW1Byb2Nlc3NQYXltZW50XSAtLT4gQltNYXJrVGFibGVBc0Nsb3NlZF0KICAgIEIgLS0-IENbU2VuZFRoYW5rWW91RW1haWxd"},{}),null,16)]),_:1},16)}}},Yq=J(Uq,[["__file","/@slidev/slides/28.md"]]),Bs=M({}),Gq=M({layout:m(()=>Bs.layout),transition:m(()=>Bs.transition),class:m(()=>Bs.class),clicks:m(()=>Bs.clicks),name:m(()=>Bs.name),slide:{raw:"",title:"A communication layer",level:1,content:"",note:"",index:28,start:534,end:562,noteHTML:`<p>Here we have just find out the first requirement of this kind of distributed transactions, which is a messaging or communication system.</p>
<p>And that is required in order to communicate between services and kick of next transaction as soon the previous one finishes, and that messaging and communication service can be implemented however you like, but again the key is that it is used to coordinate execution of all the steps.</p>
<p>And the other requirement is that this comunication step should be done with the lowest risk of failure inside our local transaction.</p>
<p>And that is because if that step fails, we end up stopping our entire flow with no signal to the other steps.</p>
`,frontmatter:Bs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}),Zq=o("h1",null,"A communication layer",-1),Kq=o("ul",null,[o("li",null,"Is needed in order to connect each transaction"),o("li",null,"Communication becomes part of the transaction as well")],-1),Xq=o("br",null,null,-1),Jq={__name:"29",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Bs;return pe(xe,Bs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Bs))})(),(r,i)=>{const a=Cr;return k(),K(et,Be(ke(A(Bs))),{default:X(()=>[Zq,Kq,Xq,ce(a,Qe({code:"Zmxvd2NoYXJ0IExSCiAgc3ViZ3JhcGggYTFbTWFya1RhYmxlQXNDbG9zZWRdCiAgICBkaXJlY3Rpb24gTFIKICAgIEFbT3BlblRyYW5zYWN0aW9uXSAtLT4gQltVcGRhdGVGbGFnSW5UYWJsZV0KICAgIEIgLS0-IENbUHV0TWVzc2FnZUluQ29tbXVuaWNhdGlvblF1ZXVlXQogICAgQyAtLT4gRFtDb21taXRUcmFuc2FjdGlvbl0KICBlbmQ"},{}),null,16)]),_:1},16)}}},Qq=J(Jq,[["__file","/@slidev/slides/29.md"]]),Es=M({}),eU=M({layout:m(()=>Es.layout),transition:m(()=>Es.transition),class:m(()=>Es.class),clicks:m(()=>Es.clicks),name:m(()=>Es.name),slide:{raw:"",title:"Two kinds of coordination: choreography",level:2,content:"",note:"",index:29,start:563,end:594,noteHTML:`<p>The introduction of a communication system introduce two possibile ways of organize the coordination between the systems.</p>
<p>The first one is called choreography, and is based on a long chain of events.
Each service will basically listen for the previous event to be triggered, perform it's work, and then raise a communication event in order to continue processing.</p>
`,frontmatter:Es,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}),tU=o("h2",null,"Two kinds of coordination: choreography",-1),nU=o("br",null,null,-1),sU=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," Payment")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "BillRequested"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    processPayment"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," PaymentProcessed"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," Table")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "PaymentProcessed"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    closeTable"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," TableClosed"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," Satisfaction")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "TableClosed"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    sendThankYouEmail"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," ThankYouSent"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," Payment")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "BillRequested"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    processPayment"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," PaymentProcessed"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," Table")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "PaymentProcessed"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    closeTable"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," TableClosed"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," Satisfaction")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "TableClosed"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    sendThankYouEmail"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," ThankYouSent"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")])])])],-1),oU={__name:"30",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Es;return pe(xe,Es),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Es))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(Es))),{default:X(()=>[tU,nU,ce(a,Qe({},{ranges:[""]}),{default:X(()=>[sU]),_:1},16)]),_:1},16)}}},rU=J(oU,[["__file","/@slidev/slides/30.md"]]),Ts=M({layout:"two-cols"}),iU=M({layout:m(()=>Ts.layout),transition:m(()=>Ts.transition),class:m(()=>Ts.class),clicks:m(()=>Ts.clicks),name:m(()=>Ts.name),slide:{raw:"",title:"Two kinds of coordination:",level:2,content:"",note:"",index:30,start:594,end:641,noteHTML:`<p>The other option is called orchestration, and instead of placing the flow logic inside of each service, what we do instead is leave each service to perform its business, and instead rely on an external service that will listen to all the events raised by all the partecipants and coordinate all the steps to perform.</p>
<p>This second approach makes more clear the execution flow because now its again colocated in a single place instead of being spread all over the place.</p>
`,frontmatter:Ts,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}),aU=o("h2",null,"Two kinds of coordination:",-1),lU=o("br",null,null,-1),cU=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," Payment")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "ProcessPaymentRequest"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    processPayment"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," PaymentProcessed"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," Table")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "CloseTableRequest"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    closeTable"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," TableClosed"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," Satisfaction")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "SendThankYouEmailRequest"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    sendThankYouEmail"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," ThankYouSent"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," Payment")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "ProcessPaymentRequest"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    processPayment"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," PaymentProcessed"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," Table")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "CloseTableRequest"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    closeTable"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," TableClosed"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," Satisfaction")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "SendThankYouEmailRequest"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    sendThankYouEmail"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," ThankYouSent"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")])])])],-1),uU=o("h2",null,"orchestration",-1),hU=o("br",null,null,-1),pU=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," CloseTableFlow")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," ProcessPaymentRequest"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  await"),o("span",{style:{color:"#A1B567"}}," PaymentProcessed"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," CloseTableRequest"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  await"),o("span",{style:{color:"#A1B567"}}," TableClosed"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  raise"),o("span",{style:{color:"#A1B567"}}," event"),o("span",{style:{color:"#A1B567"}}," SendThankYouEmailRequest"),o("span",{style:{color:"#DBD7CA"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," CloseTableFlow")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," ProcessPaymentRequest"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  await"),o("span",{style:{color:"#6C7834"}}," PaymentProcessed"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," CloseTableRequest"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  await"),o("span",{style:{color:"#6C7834"}}," TableClosed"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  raise"),o("span",{style:{color:"#6C7834"}}," event"),o("span",{style:{color:"#6C7834"}}," SendThankYouEmailRequest"),o("span",{style:{color:"#393A34"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")])])])],-1),dU={__name:"31",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ts;return pe(xe,Ts),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ts))})(),(r,i)=>{const a=Mt;return k(),K(g0,Be(ke(A(Ts))),{right:X(l=>[uU,hU,ce(a,Qe({},{ranges:[""]}),{default:X(()=>[pU]),_:1},16)]),default:X(()=>[aU,lU,ce(a,Qe({},{ranges:[""]}),{default:X(()=>[cU]),_:1},16)]),_:1},16)}}},fU=J(dU,[["__file","/@slidev/slides/31.md"]]),As=M({}),mU=M({layout:m(()=>As.layout),transition:m(()=>As.transition),class:m(()=>As.class),clicks:m(()=>As.clicks),name:m(()=>As.name),slide:{raw:"",title:"Introducing new flows in our application",level:2,content:"",note:"",index:31,start:642,end:660,noteHTML:`<p>It is also better because if a new flow is introduced, let's say for example that when the bill is requested we whant to deliver a goodby liquor for free to the table, we do not need to change the code of the existing services, but instead we introduce a new orchestrator that listens for PaymentRequest, and places an order of a liquor automatically on the table based on the number of guest seated.</p>
`,frontmatter:As,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}),yU=o("h2",null,"Introducing new flows in our application",-1),gU=o("br",null,null,-1),_U=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," OfferLiquorFlow")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," liquorId"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#A1B567"}}," ProductId"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#6394BF"}},"42"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#858585"}}," ["),o("span",{style:{color:"#D4976C"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#D4976C"}}," numberOfGuest"),o("span",{style:{color:"#858585"}},"]"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#4D9375"}}," await"),o("span",{style:{color:"#B8A965"}}," event"),o("span",{style:{color:"#A1B567"}}," GuestSeated"),o("span",{style:{color:"#858585"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"  await"),o("span",{style:{color:"#A1B567"}}," PaymentRequested"),o("span",{style:{color:"#858585"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"  raise"),o("span",{style:{color:"#B8A965"}}," event"),o("span",{style:{color:"#A1B567"}}," PlaceOrder"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," liquorId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," numberOfGuest"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"end"),o("span",{style:{color:"#E0A569"}}," module")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," OfferLiquorFlow")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," liquorId"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#6C7834"}}," ProductId"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#296AA3"}},"42"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#8E8F8B"}}," ["),o("span",{style:{color:"#A65E2B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#A65E2B"}}," numberOfGuest"),o("span",{style:{color:"#8E8F8B"}},"]"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#1C6B48"}}," await"),o("span",{style:{color:"#8C862B"}}," event"),o("span",{style:{color:"#6C7834"}}," GuestSeated"),o("span",{style:{color:"#8E8F8B"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"  await"),o("span",{style:{color:"#6C7834"}}," PaymentRequested"),o("span",{style:{color:"#8E8F8B"}},"()")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"  raise"),o("span",{style:{color:"#8C862B"}}," event"),o("span",{style:{color:"#6C7834"}}," PlaceOrder"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," liquorId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," numberOfGuest"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"end"),o("span",{style:{color:"#B58451"}}," module")])])])],-1),vU={__name:"32",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=As;return pe(xe,As),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,As))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(As))),{default:X(()=>[yU,gU,ce(a,Qe({},{ranges:[""]}),{default:X(()=>[_U]),_:1},16)]),_:1},16)}}},bU=J(vU,[["__file","/@slidev/slides/32.md"]]),Ss=M({}),CU=M({layout:m(()=>Ss.layout),transition:m(()=>Ss.transition),class:m(()=>Ss.class),clicks:m(()=>Ss.clicks),name:m(()=>Ss.name),slide:{raw:"",title:"Events as a whole",level:1,content:"",note:"",index:32,start:661,end:684,noteHTML:`<p>Soon you'll also realize that having events in your application is great because if you fully embrace them, everything becames a process.</p>
<p>Even reporting can be now built by processing event data, and that opens a whole new discussion.</p>
<p>But I just wanted to point it out because even this reporting module has the same challenges we are looking into today.</p>
`,frontmatter:Ss,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}),wU=o("h1",null,"Events as a whole",-1),xU=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"module"),o("span",{style:{color:"#A1B567"}}," ProductsOrderedReport")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  state"),o("span",{style:{color:"#A1B567"}}," totalAmount"),o("span",{style:{color:"#DBD7CA"}}," = 0")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "ProductOrdered"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    totalAmount"),o("span",{style:{color:"#DBD7CA"}}," += "),o("span",{style:{color:"#A1B567"}},"event"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"amount")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  on"),o("span",{style:{color:"#C98A7D"}},' "OrderCancelled"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"    totalAmount"),o("span",{style:{color:"#DBD7CA"}}," -= "),o("span",{style:{color:"#A1B567"}},"event"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"amount")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"end"),o("span",{style:{color:"#A1B567"}}," module")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"module"),o("span",{style:{color:"#6C7834"}}," ProductsOrderedReport")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  state"),o("span",{style:{color:"#6C7834"}}," totalAmount"),o("span",{style:{color:"#393A34"}}," = 0")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "ProductOrdered"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    totalAmount"),o("span",{style:{color:"#393A34"}}," += "),o("span",{style:{color:"#6C7834"}},"event"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"amount")]),y(`
`),o("span",{class:"line"}),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  on"),o("span",{style:{color:"#B56959"}},' "OrderCancelled"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"    totalAmount"),o("span",{style:{color:"#393A34"}}," -= "),o("span",{style:{color:"#6C7834"}},"event"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"amount")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"end"),o("span",{style:{color:"#6C7834"}}," module")])])])],-1),kU={__name:"33",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ss;return pe(xe,Ss),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ss))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(Ss))),{default:X(()=>[wU,ce(a,Qe({},{ranges:[""]}),{default:X(()=>[xU]),_:1},16)]),_:1},16)}}},BU=J(kU,[["__file","/@slidev/slides/33.md"]]),$s=M({layout:"fact"}),EU=M({layout:m(()=>$s.layout),transition:m(()=>$s.transition),class:m(()=>$s.class),clicks:m(()=>$s.clicks),name:m(()=>$s.name),slide:{raw:"",title:"What happens with failures?",level:2,content:"",note:"",index:33,start:684,end:699,noteHTML:`<p>Imagine a longer flow with up to 25 transactions, and arriving at the 20th and decide that for some business rule you cannot continue.</p>
<p>Remember our food burnt example?</p>
<p>In an ACID transaction you can simply rollback and that's it as they never happened. Whathever you did before did'nt commits.</p>
`,frontmatter:$s,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}),TU=o("h2",null,"What happens with failures?",-1),AU={__name:"34",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=$s;return pe(xe,$s),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,$s))})(),(r,i)=>(k(),K(In,Be(ke(A($s))),{default:X(()=>[TU]),_:1},16))}},SU=J(AU,[["__file","/@slidev/slides/34.md"]]),Fs=M({}),$U=M({layout:m(()=>Fs.layout),transition:m(()=>Fs.transition),class:m(()=>Fs.class),clicks:m(()=>Fs.clicks),name:m(()=>Fs.name),slide:{raw:"",title:"Compensate all the things!",level:2,content:"",note:"",index:34,start:700,end:731,noteHTML:`<p>In a saga the catch is that instead you need to explicitly write a &quot;compensating transaction&quot; that basically undoes what its corresponding transaction did.</p>
<p>If a failure happens downstream, you need to ensure somehow that you'll be executing all the compensating transactions for each transaction you succefully performed before.</p>
<p>And in that wayyou can guarantee that your system will be someday back into a consistet state.</p>
`,frontmatter:Fs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}),FU=o("h2",null,"Compensate all the things!",-1),OU=o("br",null,null,-1),LU={__name:"35",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Fs;return pe(xe,Fs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Fs))})(),(r,i)=>{const a=Cr;return k(),K(et,Be(ke(A(Fs))),{default:X(()=>[FU,OU,ce(a,Qe({code:"Zmxvd2NoYXJ0IExSCgogICAgc3ViZ3JhcGggYTFbIlRyYW5zYWN0aW9uIl0KICAgIGRpcmVjdGlvbiBMUgogICAgQVtQcm9jZXNzUGF5bWVudF0gLS0-IEJbTWFya1RhYmxlQXNDbG9zZWRdCiAgICBCIC0tPiBDW1NlbmRUaGFua1lvdUVtYWlsXQogICAgZW5kCiAgICBzdWJncmFwaCBiMVsiQ29tcGVuc2F0aW9uIFRyYW5zYWN0aW9uIl0KICAgIGRpcmVjdGlvbiBMUgogICAgRFtSZWZ1bmRQYXltZW50XQogICAgRVtPcGVuVGFibGVdLS0-RAogICAgZW5kCiAgICBDLS0-fEVtYWlsRmFpbHVyZXxFCiAgICBCLS0-fFBheW1lbnRGYWlsdXJlfEQ"},{}),null,16)]),_:1},16)}}},IU=J(LU,[["__file","/@slidev/slides/35.md"]]),Os=M({}),MU=M({layout:m(()=>Os.layout),transition:m(()=>Os.transition),class:m(()=>Os.class),clicks:m(()=>Os.clicks),name:m(()=>Os.name),slide:{raw:"",title:"Three kind of transactions: Compensable",level:2,content:"",note:"",index:35,start:732,end:755,noteHTML:`<p>And by looking at our flow we basically discovered the three kind of transactions.</p>
<p>Compensable transactions are the one that may have a compensating action to be executed to cancel the effects that were applied by the transaction.</p>
<p>Place Order may be compensated by Cancel Order.</p>
<p>And that compensating transaction should not rely on just setting the old value back.</p>
<p>And that is because, if you remember correcly, once we went to an asynchronous flow, each step started to interconnect.</p>
<p>Process Payment of 10 euros may be compensated by Process Refund of 10 euros, not trying to set back the balance to the previous amount.</p>
`,frontmatter:Os,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}),PU=o("h2",null,"Three kind of transactions: Compensable",-1),DU=o("br",null,null,-1),RU=o("ul",null,[o("li",null,"Define both the transaction and the compensating transaction"),o("li",null,'Should not rely on "just setting the old value back"'),o("li",null,"Should be commutative"),o("li",null,"WareHouse and Accounting systems are great scenarios were you can find these")],-1),NU={__name:"36",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Os;return pe(xe,Os),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Os))})(),(r,i)=>(k(),K(et,Be(ke(A(Os))),{default:X(()=>[PU,DU,RU]),_:1},16))}},jU=J(NU,[["__file","/@slidev/slides/36.md"]]),Ls=M({}),WU=M({layout:m(()=>Ls.layout),transition:m(()=>Ls.transition),class:m(()=>Ls.class),clicks:m(()=>Ls.clicks),name:m(()=>Ls.name),slide:{raw:"",title:"Three kind of transactions: Retriable",level:2,content:"",note:"",index:36,start:756,end:770,noteHTML:`<p>Another kind of transaction are the retriable one.</p>
<p>One example of that may be sending an email, if we are dealing with a system that cannot fail but may be unstable, we may try to send that email as many times as we want, instead of rolling back the payment just because an email failed to send.</p>
<p>And this kind of transactions introduce a completely different problem that's worth it'own talk and that's retry policy. Because somehow you'll need to follow a retry schedule andmaybe after an amount of retries you'll give up.</p>
`,frontmatter:Ls,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:36,no:37},__clicksElements:[],__preloaded:!1}),zU=o("h2",null,"Three kind of transactions: Retriable",-1),HU=o("br",null,null,-1),VU=o("ul",null,[o("li",null,"Can’t fail but instead may be retried infinitely")],-1),qU={__name:"37",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ls;return pe(xe,Ls),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ls))})(),(r,i)=>(k(),K(et,Be(ke(A(Ls))),{default:X(()=>[zU,HU,VU]),_:1},16))}},UU=J(qU,[["__file","/@slidev/slides/37.md"]]),Is=M({}),YU=M({layout:m(()=>Is.layout),transition:m(()=>Is.transition),class:m(()=>Is.class),clicks:m(()=>Is.clicks),name:m(()=>Is.name),slide:{raw:"",title:"Three kind of transactions: Pivot",level:2,content:"",note:"",index:37,start:771,end:788,noteHTML:`<p>And finally we have Pivot transactions.</p>
<p>Let's say that the customer has eaten the food, if later the payment fails, we cannot have back the food and cancel the order placed.</p>
<p>This kind of transaction defines point of no going back, and usually instead of being compensated, the user may trigger another entire flow based on domain rules to try to fix what happened.</p>
<p>Maybe we try to speak to the customer and ask for another card, or just let him know that today he will clean the dishes in the kitchen.</p>
`,frontmatter:Is,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:37,no:38},__clicksElements:[],__preloaded:!1}),GU=o("h2",null,"Three kind of transactions: Pivot",-1),ZU=o("br",null,null,-1),KU=o("ul",null,[o("li",null,"Not compensable in any way"),o("li",null,"Once committed, there is no more going back")],-1),XU={__name:"38",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Is;return pe(xe,Is),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Is))})(),(r,i)=>(k(),K(et,Be(ke(A(Is))),{default:X(()=>[GU,ZU,KU]),_:1},16))}},JU=J(XU,[["__file","/@slidev/slides/38.md"]]),Ms=M({}),QU=M({layout:m(()=>Ms.layout),transition:m(()=>Ms.transition),class:m(()=>Ms.class),clicks:m(()=>Ms.clicks),name:m(()=>Ms.name),slide:{raw:"",title:"Asynchronous checkout in plain JavaScript",level:2,content:"",note:"",index:38,start:789,end:810,noteHTML:`<p>Let's jump back to our code and see how we can implement this distributed transaction pattern.</p>
<p>We start from our asyncronous code, as we have seen before many times.</p>
`,frontmatter:Ms,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:38,no:39},__clicksElements:[],__preloaded:!1}),eY=o("h2",null,"Asynchronous checkout in plain JavaScript",-1),tY=o("br",null,null,-1),nY=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"async"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," checkout"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," number"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," cardNumber"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," string"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," email"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," string"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," tableDue"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#4D9375"}}," await"),o("span",{style:{color:"#A1B567"}}," getAmountDue"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"  await"),o("span",{style:{color:"#A1B567"}}," processPayment"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"cardNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," tableDue"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"  await"),o("span",{style:{color:"#A1B567"}}," markTableAsPaid"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"  await"),o("span",{style:{color:"#A1B567"}}," sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"  console"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"log"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#C98A7D"}},'"Table closed successfully!"'),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"async"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," checkout"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," number"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," cardNumber"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," string"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," email"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," string"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," tableDue"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#1C6B48"}}," await"),o("span",{style:{color:"#6C7834"}}," getAmountDue"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"  await"),o("span",{style:{color:"#6C7834"}}," processPayment"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"cardNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," tableDue"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"  await"),o("span",{style:{color:"#6C7834"}}," markTableAsPaid"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"  await"),o("span",{style:{color:"#6C7834"}}," sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"  console"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"log"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#B56959"}},'"Table closed successfully!"'),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),sY={__name:"39",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ms;return pe(xe,Ms),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ms))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(Ms))),{default:X(()=>[eY,tY,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[nY]),_:1},16)]),_:1},16)}}},oY=J(sY,[["__file","/@slidev/slides/39.md"]]),rY={class:"grid grid-cols-2 w-full h-full"},iY=Xe({__name:"showcase-left",props:{image:{type:String},class:{type:String}},setup(e){const t=e,n=b(_e);ye(n,"nav"),b(me),b(ge),b(be),b(xe);function s(a){return a.startsWith("/")?"/"+a.slice(1):a}function r(a,l=!1){const c=a&&a[0]==="#"&&a.startsWith("rgb"),u={background:c?a:void 0,color:a&&!c?"white":void 0,backgroundImage:c?void 0:a?l?`linear-gradient(#0005, #0008), url(${s(a)})`:`url("${s(a)}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"};return u.background||delete u.background,u}const i=m(()=>r(t.image));return(a,l)=>(k(),R("div",rY,[o("div",{class:"w-full w-full",style:Tt(i.value)},null,4),o("div",{class:lt(["slidev-layout default",t.class]),style:{padding:"0rem"}},[en(a.$slots,"default")],2)]))}}),qf=J(iY,[["__file","/Users/mattiamanzati/Desktop/long-running-process/layouts/showcase-left.vue"]]),Ps=M({layout:"showcase-left",image:"/image-saga-success.gif"}),aY=M({layout:m(()=>Ps.layout),transition:m(()=>Ps.transition),class:m(()=>Ps.class),clicks:m(()=>Ps.clicks),name:m(()=>Ps.name),slide:{raw:"",content:"",note:"",index:39,start:810,end:842,noteHTML:`<p>The first thing we have to do now it couple together somehow every transaction with its corresponding compensate transaction.</p>
<p>One way to do it would be to replace all of our calls with a &quot;step&quot; function call. The step function will take in as first argument the transaction, and as a second parameter a compensation transaction to be executed if rollback is needed.</p>
`,frontmatter:Ps,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:39,no:40},__clicksElements:[],__preloaded:!1}),lY=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"export"),o("span",{style:{color:"#CB7676"}}," const"),o("span",{style:{color:"#A1B567"}}," checkoutDistributed"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#858585"}}," (")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"  tableId"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," number"),o("span",{style:{color:"#858585"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"  cardNumber"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," string"),o("span",{style:{color:"#858585"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"  email"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," string")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#CB7676"}}," =>")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  saga"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#CB7676"}},"async"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"step"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"    const"),o("span",{style:{color:"#D4976C"}}," tableDue"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#DBD7CA"}}," ")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"      await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"(()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," getAmountDue"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," processPayment"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"cardNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," tableDue"),o("span",{style:{color:"#858585"}},"),")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," refundAmount"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"cardNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," tableDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," markTableAsPaid"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},"),"),o("span",{style:{color:"#DBD7CA"}}," ")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," openTable"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"(()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"    console"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"log"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#C98A7D"}},'"Table closed successfully!"'),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  });")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"export"),o("span",{style:{color:"#AB5959"}}," const"),o("span",{style:{color:"#6C7834"}}," checkoutDistributed"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#8E8F8B"}}," (")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"  tableId"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," number"),o("span",{style:{color:"#8E8F8B"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"  cardNumber"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," string"),o("span",{style:{color:"#8E8F8B"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"  email"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," string")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#AB5959"}}," =>")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  saga"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#AB5959"}},"async"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"step"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"    const"),o("span",{style:{color:"#A65E2B"}}," tableDue"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#393A34"}}," ")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"      await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"(()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," getAmountDue"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," processPayment"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"cardNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," tableDue"),o("span",{style:{color:"#8E8F8B"}},"),")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," refundAmount"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"cardNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," tableDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," markTableAsPaid"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},"),"),o("span",{style:{color:"#393A34"}}," ")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," openTable"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"(()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"    console"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"log"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#B56959"}},'"Table closed successfully!"'),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  });")])])])],-1),cY={__name:"40",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ps;return pe(xe,Ps),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ps))})(),(r,i)=>{const a=Mt;return k(),K(qf,Be(ke(A(Ps))),{default:X(()=>[ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[lY]),_:1},16)]),_:1},16)}}},uY=J(cY,[["__file","/@slidev/slides/40.md"]]),Ds=M({}),hY=M({layout:m(()=>Ds.layout),transition:m(()=>Ds.transition),class:m(()=>Ds.class),clicks:m(()=>Ds.clicks),name:m(()=>Ds.name),slide:{raw:"",title:"Simple implementation",level:2,content:"",note:"",index:40,start:843,end:874,noteHTML:`<p>The first implementation of this distributed transaction coordinator is very simple.</p>
<p>Given a function that takes a definition, we first create a list to keep track of compensations that need to be run.</p>
<p>The step function is now the unit of work that will basically attempt to run ourtransaction, if it succeed it will push its compensating transaction onto the stack, and if it fails, it will instead start to call all the compensating transaction inside of our compensations stack.</p>
`,frontmatter:Ds,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:40,no:41},__clicksElements:[],__preloaded:!1}),pY=o("h2",null,"Simple implementation",-1),dY=o("br",null,null,-1),fY=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"async"),o("span",{style:{color:"#CB7676"}}," function"),o("span",{style:{color:"#A1B567"}}," saga"),o("span",{style:{color:"#858585"}},"<"),o("span",{style:{color:"#A1B567"}},"R"),o("span",{style:{color:"#858585"}},">("),o("span",{style:{color:"#A1B567"}},"definition"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"step"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#A1B567"}}," StepFn"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," Promise"),o("span",{style:{color:"#858585"}},"<"),o("span",{style:{color:"#A1B567"}},"R"),o("span",{style:{color:"#858585"}},">)"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," compensations"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#858585"}}," [];")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#CB7676"}}," async"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"transaction"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," compensate"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"    const"),o("span",{style:{color:"#D4976C"}}," result"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#4D9375"}}," await"),o("span",{style:{color:"#A1B567"}}," transaction"),o("span",{style:{color:"#858585"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    if"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"compensate"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#B8A965"}}," compensations"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"push"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"compensate"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    return"),o("span",{style:{color:"#B8A965"}}," result"),o("span",{style:{color:"#858585"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"  try"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    return"),o("span",{style:{color:"#4D9375"}}," await"),o("span",{style:{color:"#A1B567"}}," definition"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"step"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  }"),o("span",{style:{color:"#4D9375"}}," catch"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"e"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    for"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#CB7676"}},"const"),o("span",{style:{color:"#D4976C"}}," compensation"),o("span",{style:{color:"#CB7676"}}," of"),o("span",{style:{color:"#B8A965"}}," compensations"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"      await"),o("span",{style:{color:"#A1B567"}}," compensation"),o("span",{style:{color:"#858585"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    throw"),o("span",{style:{color:"#B8A965"}}," e"),o("span",{style:{color:"#858585"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"async"),o("span",{style:{color:"#AB5959"}}," function"),o("span",{style:{color:"#6C7834"}}," saga"),o("span",{style:{color:"#8E8F8B"}},"<"),o("span",{style:{color:"#6C7834"}},"R"),o("span",{style:{color:"#8E8F8B"}},">("),o("span",{style:{color:"#6C7834"}},"definition"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"step"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#6C7834"}}," StepFn"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," Promise"),o("span",{style:{color:"#8E8F8B"}},"<"),o("span",{style:{color:"#6C7834"}},"R"),o("span",{style:{color:"#8E8F8B"}},">)"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," compensations"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#8E8F8B"}}," [];")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#AB5959"}}," async"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"transaction"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," compensate"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"    const"),o("span",{style:{color:"#A65E2B"}}," result"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#1C6B48"}}," await"),o("span",{style:{color:"#6C7834"}}," transaction"),o("span",{style:{color:"#8E8F8B"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    if"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"compensate"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#8C862B"}}," compensations"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"push"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"compensate"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    return"),o("span",{style:{color:"#8C862B"}}," result"),o("span",{style:{color:"#8E8F8B"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"  try"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    return"),o("span",{style:{color:"#1C6B48"}}," await"),o("span",{style:{color:"#6C7834"}}," definition"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"step"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  }"),o("span",{style:{color:"#1C6B48"}}," catch"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"e"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    for"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#AB5959"}},"const"),o("span",{style:{color:"#A65E2B"}}," compensation"),o("span",{style:{color:"#AB5959"}}," of"),o("span",{style:{color:"#8C862B"}}," compensations"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"      await"),o("span",{style:{color:"#6C7834"}}," compensation"),o("span",{style:{color:"#8E8F8B"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    throw"),o("span",{style:{color:"#8C862B"}}," e"),o("span",{style:{color:"#8E8F8B"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),mY={__name:"41",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ds;return pe(xe,Ds),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ds))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(Ds))),{default:X(()=>[pY,dY,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[fY]),_:1},16)]),_:1},16)}}},yY=J(mY,[["__file","/@slidev/slides/41.md"]]),Rs=M({layout:"showcase-left",image:"/image-saga-failure.gif"}),gY=M({layout:m(()=>Rs.layout),transition:m(()=>Rs.transition),class:m(()=>Rs.class),clicks:m(()=>Rs.clicks),name:m(()=>Rs.name),slide:{raw:"",title:"Compensation handling",level:2,content:"",note:"",index:41,start:874,end:903,noteHTML:`<p>Back to our example we can se now how the flow will run upon a failure of the closing of a table.</p>
`,frontmatter:Rs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:41,no:42},__clicksElements:[],__preloaded:!1}),_Y=o("h2",null,"Compensation handling",-1),vY=o("br",null,null,-1),bY={__name:"42",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Rs;return pe(xe,Rs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Rs))})(),(r,i)=>{const a=Cr;return k(),K(qf,Be(ke(A(Rs))),{default:X(()=>[_Y,vY,ce(a,Qe({code:"Zmxvd2NoYXJ0IFRECgogICAgc3ViZ3JhcGggYTFbIlRyYW5zYWN0aW9uIl0KICAgIGRpcmVjdGlvbiBMUgogICAgQVtQcm9jZXNzUGF5bWVudF0gLS0-IEJbTWFya1RhYmxlQXNDbG9zZWRdCiAgICBCIC0tPiBDW1NlbmRUaGFua1lvdUVtYWlsXQogICAgZW5kCiAgICBzdWJncmFwaCBiMVsiQ29tcGVuc2F0aW9uIFRyYW5zYWN0aW9uIl0KICAgIGRpcmVjdGlvbiBMUgogICAgRFtSZWZ1bmRQYXltZW50XQogICAgRVtPcGVuVGFibGVdLS0-RAogICAgZW5kCiAgICBDLS0-fEVtYWlsRmFpbHVyZXxFCiAgICBCLS0-fFBheW1lbnRGYWlsdXJlfEQ"},{scale:.75}),null,16)]),_:1},16)}}},CY=J(bY,[["__file","/@slidev/slides/42.md"]]),Ns=M({}),wY=M({layout:m(()=>Ns.layout),transition:m(()=>Ns.transition),class:m(()=>Ns.class),clicks:m(()=>Ns.clicks),name:m(()=>Ns.name),slide:{raw:"",title:"Waiting is part of the business process",level:2,content:"",note:"",index:42,start:904,end:923,noteHTML:`<p>And now that we have this kind of system in place, we may begin to have some time related business requirements for our workflow.</p>
<p>Our system may for example wait few days before sending the thank you email, like 1 week for example.</p>
<p>From a business point it makes more sense to send the email later to maybe remember to the customer how good his experience was that maybe he will come again to the restaurant.</p>
`,frontmatter:Ns,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:42,no:43},__clicksElements:[],__preloaded:!1}),xY=o("h2",null,"Waiting is part of the business process",-1),kY=o("br",null,null,-1),BY={__name:"43",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ns;return pe(xe,Ns),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ns))})(),(r,i)=>{const a=Cr;return k(),K(et,Be(ke(A(Ns))),{default:X(()=>[xY,kY,ce(a,Qe({code:"Zmxvd2NoYXJ0IExSCiAgICBBW1Byb2Nlc3NQYXltZW50XSAtLT4gQltNYXJrVGFibGVBc0Nsb3NlZF0KICAgIEIgLS0-IENbV2FpdEZvcjFXZWVrXQogICAgQyAtLT4gRFtTZW5kVGhhbmtZb3VFbWFpbF0"},{}),null,16)]),_:1},16)}}},EY=J(BY,[["__file","/@slidev/slides/43.md"]]),js=M({layout:"fact"}),TY=M({layout:m(()=>js.layout),transition:m(()=>js.transition),class:m(()=>js.class),clicks:m(()=>js.clicks),name:m(()=>js.name),slide:{raw:"",title:"What happens if the process stops?",level:2,content:"",note:"",index:43,start:923,end:937,noteHTML:`<p>Sure, our asyncronous function may just hang for 1 week with no problem, but what if for some reason the servers restart do that mean that we lose all our running process state?</p>
<p>That's not an option for sure, in order to be resilient to that kind of situation, the only solution is to involve some kind of durable persistance of the orchestrator state that keeps track of what has already been executed.</p>
`,frontmatter:js,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:43,no:44},__clicksElements:[],__preloaded:!1}),AY=o("h2",null,"What happens if the process stops?",-1),SY=o("br",null,null,-1),$Y={__name:"44",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=js;return pe(xe,js),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,js))})(),(r,i)=>(k(),K(In,Be(ke(A(js))),{default:X(()=>[AY,SY]),_:1},16))}},FY=J($Y,[["__file","/@slidev/slides/44.md"]]),Ws=M({}),OY=M({layout:m(()=>Ws.layout),transition:m(()=>Ws.transition),class:m(()=>Ws.class),clicks:m(()=>Ws.clicks),name:m(()=>Ws.name),slide:{raw:"",title:"Adding a persistence identifier",level:2,content:"",note:"",index:44,start:938,end:966,noteHTML:`<p>And the first requirement in order to implement proper durability of the state is identify in a unique way each step, so that we can later update our implementation.</p>
<p>But mostly we can store in a durable way all the steps that has been already called, so we avoid to call them again.</p>
`,frontmatter:Ws,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:44,no:45},__clicksElements:[],__preloaded:!1}),LY=o("h2",null,"Adding a persistence identifier",-1),IY=o("br",null,null,-1),MY=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"const"),o("span",{style:{color:"#A1B567"}}," checkout"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," number"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," cardNumber"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," string"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," email"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#E0A569"}}," string"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#CB7676"}}," =>")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#A1B567"}},"  saga"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#CB7676"}},"async"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"step"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"    const"),o("span",{style:{color:"#D4976C"}}," tableDue"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#4D9375"}}," await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#C98A7D"}},'"get-amount"'),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#858585"}}," ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," getAmountDue"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#C98A7D"}},'      "payout"'),o("span",{style:{color:"#858585"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," processPayment"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"cardNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," tableDue"),o("span",{style:{color:"#858585"}},"),")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," refundAmount"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"cardNumber"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," tableDue"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#C98A7D"}},'      "mark-as-paid"'),o("span",{style:{color:"#858585"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," markTableAsPaid"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},"),")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," openTable"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"tableId"),o("span",{style:{color:"#858585"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    await"),o("span",{style:{color:"#A1B567"}}," step"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#C98A7D"}},'"thankyou"'),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#858585"}}," ()"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#A1B567"}}," sendThankYouEmail"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"email"),o("span",{style:{color:"#858585"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"    console"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"log"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#C98A7D"}},'"Table closed successfully!"'),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  });")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"const"),o("span",{style:{color:"#6C7834"}}," checkout"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," number"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," cardNumber"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," string"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," email"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#B58451"}}," string"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#AB5959"}}," =>")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#6C7834"}},"  saga"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#AB5959"}},"async"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"step"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"    const"),o("span",{style:{color:"#A65E2B"}}," tableDue"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#1C6B48"}}," await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#B56959"}},'"get-amount"'),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8E8F8B"}}," ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," getAmountDue"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B56959"}},'      "payout"'),o("span",{style:{color:"#8E8F8B"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," processPayment"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"cardNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," tableDue"),o("span",{style:{color:"#8E8F8B"}},"),")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," refundAmount"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"cardNumber"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," tableDue"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"(")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B56959"}},'      "mark-as-paid"'),o("span",{style:{color:"#8E8F8B"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," markTableAsPaid"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},"),")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," openTable"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"tableId"),o("span",{style:{color:"#8E8F8B"}},")")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    );")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    await"),o("span",{style:{color:"#6C7834"}}," step"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#B56959"}},'"thankyou"'),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8E8F8B"}}," ()"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#6C7834"}}," sendThankYouEmail"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"email"),o("span",{style:{color:"#8E8F8B"}},"));")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"    console"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"log"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#B56959"}},'"Table closed successfully!"'),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  });")])])])],-1),PY={__name:"45",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ws;return pe(xe,Ws),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ws))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(Ws))),{default:X(()=>[LY,IY,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[MY]),_:1},16)]),_:1},16)}}},DY=J(PY,[["__file","/@slidev/slides/45.md"]]),zs=M({layout:"showcase-left",image:"/image-saga-persistence.gif"}),RY=M({layout:m(()=>zs.layout),transition:m(()=>zs.transition),class:m(()=>zs.class),clicks:m(()=>zs.clicks),name:m(()=>zs.name),slide:{raw:"",content:"",note:"",index:45,start:966,end:1002,noteHTML:`<p>And here it is our updated implementation of the step unit of work. As you can see if the persistenceId of the step is already present in the storage, we do not execute the transaction, but instead we return the response that has been persisted.</p>
<p>And the same must be also done for the running of compensation transactions.</p>
<p>As you can see, now if we attempt to call again our LRP we go straight to the result, because all of the steps has already been executed.</p>
`,frontmatter:zs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:45,no:46},__clicksElements:[],__preloaded:!1}),NY=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"  const"),o("span",{style:{color:"#D4976C"}}," step"),o("span",{style:{color:"#CB7676"}},":"),o("span",{style:{color:"#A1B567"}}," StepFn"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#DBD7CA"}}," ")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"    async"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"persistenceId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," transaction"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," compensate"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#CB7676"}}," =>"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    if"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#CB7676"}},"!"),o("span",{style:{color:"#B8A965"}},"persistence"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"has"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"persistenceId"),o("span",{style:{color:"#858585"}},"))"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"      try"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"        const"),o("span",{style:{color:"#D4976C"}}," result"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#4D9375"}}," await"),o("span",{style:{color:"#A1B567"}}," transaction"),o("span",{style:{color:"#858585"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"        persistence"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"set"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"persistenceId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#858585"}}," {"),o("span",{style:{color:"#E0A569"}}," ok"),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#4D9375"}}," true"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," result"),o("span",{style:{color:"#858585"}}," });")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      }"),o("span",{style:{color:"#4D9375"}}," catch"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"error"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#B8A965"}},"        persistence"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"set"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"persistenceId"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#858585"}}," {"),o("span",{style:{color:"#E0A569"}}," ok"),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#4D9375"}}," false"),o("span",{style:{color:"#858585"}},","),o("span",{style:{color:"#B8A965"}}," error"),o("span",{style:{color:"#858585"}}," });")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#CB7676"}},"    const"),o("span",{style:{color:"#D4976C"}}," persisted"),o("span",{style:{color:"#CB7676"}}," ="),o("span",{style:{color:"#B8A965"}}," persistence"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"get"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"persistenceId"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"    if"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"persisted"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"ok"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"      if"),o("span",{style:{color:"#858585"}}," ("),o("span",{style:{color:"#B8A965"}},"compensate"),o("span",{style:{color:"#858585"}},")"),o("span",{style:{color:"#B8A965"}}," compensations"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#A1B567"}},"push"),o("span",{style:{color:"#858585"}},"("),o("span",{style:{color:"#B8A965"}},"compensate"),o("span",{style:{color:"#858585"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"      return"),o("span",{style:{color:"#B8A965"}}," persisted"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"result"),o("span",{style:{color:"#858585"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    }"),o("span",{style:{color:"#4D9375"}}," else"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#4D9375"}},"      throw"),o("span",{style:{color:"#B8A965"}}," persisted"),o("span",{style:{color:"#858585"}},"."),o("span",{style:{color:"#B8A965"}},"error"),o("span",{style:{color:"#858585"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  };")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"  const"),o("span",{style:{color:"#A65E2B"}}," step"),o("span",{style:{color:"#AB5959"}},":"),o("span",{style:{color:"#6C7834"}}," StepFn"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#393A34"}}," ")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"    async"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"persistenceId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," transaction"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," compensate"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#AB5959"}}," =>"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    if"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#AB5959"}},"!"),o("span",{style:{color:"#8C862B"}},"persistence"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"has"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"persistenceId"),o("span",{style:{color:"#8E8F8B"}},"))"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"      try"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"        const"),o("span",{style:{color:"#A65E2B"}}," result"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#1C6B48"}}," await"),o("span",{style:{color:"#6C7834"}}," transaction"),o("span",{style:{color:"#8E8F8B"}},"();")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"        persistence"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"set"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"persistenceId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8E8F8B"}}," {"),o("span",{style:{color:"#B58451"}}," ok"),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#1C6B48"}}," true"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," result"),o("span",{style:{color:"#8E8F8B"}}," });")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      }"),o("span",{style:{color:"#1C6B48"}}," catch"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"error"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8C862B"}},"        persistence"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"set"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"persistenceId"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8E8F8B"}}," {"),o("span",{style:{color:"#B58451"}}," ok"),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#1C6B48"}}," false"),o("span",{style:{color:"#8E8F8B"}},","),o("span",{style:{color:"#8C862B"}}," error"),o("span",{style:{color:"#8E8F8B"}}," });")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#AB5959"}},"    const"),o("span",{style:{color:"#A65E2B"}}," persisted"),o("span",{style:{color:"#AB5959"}}," ="),o("span",{style:{color:"#8C862B"}}," persistence"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"get"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"persistenceId"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"    if"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"persisted"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"ok"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"      if"),o("span",{style:{color:"#8E8F8B"}}," ("),o("span",{style:{color:"#8C862B"}},"compensate"),o("span",{style:{color:"#8E8F8B"}},")"),o("span",{style:{color:"#8C862B"}}," compensations"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#6C7834"}},"push"),o("span",{style:{color:"#8E8F8B"}},"("),o("span",{style:{color:"#8C862B"}},"compensate"),o("span",{style:{color:"#8E8F8B"}},");")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"      return"),o("span",{style:{color:"#8C862B"}}," persisted"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"result"),o("span",{style:{color:"#8E8F8B"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    }"),o("span",{style:{color:"#1C6B48"}}," else"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#1C6B48"}},"      throw"),o("span",{style:{color:"#8C862B"}}," persisted"),o("span",{style:{color:"#8E8F8B"}},"."),o("span",{style:{color:"#8C862B"}},"error"),o("span",{style:{color:"#8E8F8B"}},";")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  };")])])])],-1),jY={__name:"46",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=zs;return pe(xe,zs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,zs))})(),(r,i)=>{const a=Mt;return k(),K(qf,Be(ke(A(zs))),{default:X(()=>[ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[NY]),_:1},16)]),_:1},16)}}},WY=J(jY,[["__file","/@slidev/slides/46.md"]]),Hs=M({}),zY=M({layout:m(()=>Hs.layout),transition:m(()=>Hs.transition),class:m(()=>Hs.class),clicks:m(()=>Hs.clicks),name:m(()=>Hs.name),slide:{raw:"",title:"...ACID maybe?",level:2,content:"",note:"",index:46,start:1003,end:1021,noteHTML:`<p>So have we reached ACID transaction?
Let's have a look at it.
We are  Atomic because all transactions or compensating transactions will be executed.
Consistent because each step writes consistent data, and eventually data is consistent across service.
It's durable becase each step commits its data to a database or internal storage.
But we seem to lack isolation here...</p>
`,frontmatter:Hs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:46,no:47},__clicksElements:[],__preloaded:!1}),HY=o("h2",null,"…ACID maybe?",-1),VY=o("br",null,null,-1),qY=o("ul",null,[o("li",null,"Atomic: all transactions or compensating transactions will be executed"),o("li",null,"Consistent: integrity in each transaction and eventually consistent across services"),o("li",null,"Durable: each step commits its internal data"),o("li",null,"Isolation: ???")],-1),UY={__name:"47",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Hs;return pe(xe,Hs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Hs))})(),(r,i)=>(k(),K(et,Be(ke(A(Hs))),{default:X(()=>[HY,VY,qY]),_:1},16))}},YY=J(UY,[["__file","/@slidev/slides/47.md"]]),Vs=M({}),GY=M({layout:m(()=>Vs.layout),transition:m(()=>Vs.transition),class:m(()=>Vs.class),clicks:m(()=>Vs.clicks),name:m(()=>Vs.name),slide:{raw:"",title:"Lack of isolation",level:2,content:"",note:"",index:47,start:1022,end:1050,noteHTML:`<p>And now due to the lack of isolation we introduced an additional business problem to our domain.</p>
<p>Let's say that the payment process is ongoing and a customer at the table attempts to place an additional item from the menu, what do we do?
Should we cancel the payment flow?
Should we be waiting for that process to complete? But that would be the same as introducing a global lock, and that puts us back to the initial situation.</p>
<p>And also let's remember that previous transaction have already committed their modifications to the state, so we may have some reads into our state that are kinda inconsistent, for example you may have tables that have paid but they are not closed yet, but if we try to read again few seconds later we may see the table as closed because the final transaction happened.</p>
<p>And that's all to lack of isolation.</p>
`,frontmatter:Vs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:47,no:48},__clicksElements:[],__preloaded:!1}),ZY=o("h2",null,"Lack of isolation",-1),KY=o("br",null,null,-1),XY=o("ul",null,[o("li",null,"Potential inconsistent reads"),o("li",null,"Potential writes in between other flows")],-1),JY=o("br",null,null,-1),QY={__name:"48",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Vs;return pe(xe,Vs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Vs))})(),(r,i)=>{const a=Cr;return k(),K(et,Be(ke(A(Vs))),{default:X(()=>[ZY,KY,XY,JY,ce(a,Qe({code:"Zmxvd2NoYXJ0IExSCiAgICBBW1BsYWNlT3JkZXJdIC0tPiBCW1Byb2Nlc3NQYXltZW50XQogICAgQiAtLT4gQ1tDbG9zZVRhYmxlXQogICAgQyAtLT4gRFtTZW5kVGhhbmtZb3VFbWFpbF0"},{}),null,16)]),_:1},16)}}},eG=J(QY,[["__file","/@slidev/slides/48.md"]]),qs=M({layout:"fact"}),tG=M({layout:m(()=>qs.layout),transition:m(()=>qs.transition),class:m(()=>qs.class),clicks:m(()=>qs.clicks),name:m(()=>qs.name),slide:{raw:"",title:"StateCharts",level:2,content:"",note:"",index:48,start:1050,end:1067,noteHTML:`<p>The best option is to thing that middle state of processing as an explicit state, and that brings us to the world of state machines.</p>
<p>And this model instead of relying of a sequence of transaction, it fully embraces the explicit intermediate state by modeling around those and events.</p>
<p>To be precise I will speak about statecharts, that is a formalism for creating state machines with additional specifications like hierarchical states, parallel states, etc...</p>
`,frontmatter:qs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:48,no:49},__clicksElements:[],__preloaded:!1}),nG=o("h2",null,"StateCharts",-1),sG=o("p",null,[o("code",null,"(state, event) => state + effects[]")],-1),oG={__name:"49",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=qs;return pe(xe,qs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,qs))})(),(r,i)=>(k(),K(In,Be(ke(A(qs))),{default:X(()=>[nG,sG]),_:1},16))}},rG=J(oG,[["__file","/@slidev/slides/49.md"]]),Us=M({}),iG=M({layout:m(()=>Us.layout),transition:m(()=>Us.transition),class:m(()=>Us.class),clicks:m(()=>Us.clicks),name:m(()=>Us.name),slide:{raw:"",title:"Payment flow using State Machines",level:2,content:"",note:"",index:49,start:1068,end:1094,noteHTML:`<p>Transitions between states are explicit, so the likelihood of unintended behaviour is heavily reduced, and we produce more robust applications.</p>
<p>Unlike sagas where a transaction may take time to complete, in statecharts state transition should be considered as immediate. There are no intermediate non explicit states between one and the other, making explicit waiting states like &quot;waiting for payment to complete&quot; etc...</p>
`,frontmatter:Us,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:49,no:50},__clicksElements:[],__preloaded:!1}),aG=o("h2",null,"Payment flow using State Machines",-1),lG=o("br",null,null,-1),cG={__name:"50",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Us;return pe(xe,Us),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Us))})(),(r,i)=>{const a=Cr;return k(),K(et,Be(ke(A(Us))),{default:X(()=>[aG,lG,ce(a,Qe({code:"JSUgR2VuZXJhdGVkIHdpdGggU3RhdGVseSBTdHVkaW8Kc3RhdGVEaWFncmFtLXYyCiAgc3RhdGUgIlBheW1lbnQiIGFzIE1hY2hpbmVfTmFtZSB7CiAgICBbKl0gLS0-IE1hY2hpbmVfTmFtZS5XYWl0aW5nRm9yQ2FyZE51bWJlcgogICAgTWFjaGluZV9OYW1lLlByb2Nlc3NpbmdQYXltZW50IC0tPiBNYWNoaW5lX05hbWUuUGF5bWVudEZhaWxlZCA6IFBBWU1FTlRfRkFJTEVECiAgICBNYWNoaW5lX05hbWUuV2FpdGluZ0ZvckNhcmROdW1iZXIgLS0-IE1hY2hpbmVfTmFtZS5Qcm9jZXNzaW5nUGF5bWVudCA6IENBUkRfTlVNQkVSX1BST1ZJREVECiAgICBNYWNoaW5lX05hbWUuUGF5bWVudEZhaWxlZCAtLT4gTWFjaGluZV9OYW1lLldhaXRpbmdGb3JDYXJkTnVtYmVyIDogVFJZX0FOT1RIRVJfQ0FSRAogICAgTWFjaGluZV9OYW1lLlByb2Nlc3NpbmdQYXltZW50IC0tPiBNYWNoaW5lX05hbWUuQmlsbFBhaWQgOiBQQVlNRU5UX1NVQ0NFREVECiAgICBzdGF0ZSAiV2FpdGluZ0ZvckNhcmROdW1iZXIiIGFzIE1hY2hpbmVfTmFtZS5XYWl0aW5nRm9yQ2FyZE51bWJlcgogICAgc3RhdGUgIlByb2Nlc3NpbmdQYXltZW50XG5lbnRyeSAvIEF0dGVtcHRQYXltZW50IiBhcyBNYWNoaW5lX05hbWUuUHJvY2Vzc2luZ1BheW1lbnQKICAgIHN0YXRlICJQYXltZW50RmFpbGVkIiBhcyBNYWNoaW5lX05hbWUuUGF5bWVudEZhaWxlZAogICAgc3RhdGUgIkJpbGxQYWlkIiBhcyBNYWNoaW5lX05hbWUuQmlsbFBhaWQKICB9"},{scale:.75}),null,16)]),_:1},16)}}},uG=J(cG,[["__file","/@slidev/slides/50.md"]]),Ys=M({}),hG=M({layout:m(()=>Ys.layout),transition:m(()=>Ys.transition),class:m(()=>Ys.class),clicks:m(()=>Ys.clicks),name:m(()=>Ys.name),slide:{raw:"",title:"StateCharts are a DSL rather than Code",level:2,content:"",note:"",index:50,start:1095,end:1109,noteHTML:`<p>And this model is really great because it's simple for domain experts and developers to lay out events on a timeline, and check out how the flow should happen, working together on a common language that may be understood by both parts.</p>
<p>And thanks to the visual tools (and I am excited to see what's next with AI) designing statecharts it's something that can be done by everyone and clearly understood with a quick birds eye view without having a dive inside the code.</p>
`,frontmatter:Ys,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:50,no:51},__clicksElements:[],__preloaded:!1}),pG=o("h2",null,"StateCharts are a DSL rather than Code",-1),dG=o("br",null,null,-1),fG=o("ul",null,[o("li",null,"Can be visually shown"),o("li",null,"Can be understood by domain experts"),o("li",null,"Creates a shared language between devs and experts")],-1),mG={__name:"51",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ys;return pe(xe,Ys),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ys))})(),(r,i)=>(k(),K(et,Be(ke(A(Ys))),{default:X(()=>[pG,dG,fG]),_:1},16))}},yG=J(mG,[["__file","/@slidev/slides/51.md"]]),Gs=M({}),gG=M({layout:m(()=>Gs.layout),transition:m(()=>Gs.transition),class:m(()=>Gs.class),clicks:m(()=>Gs.clicks),name:m(()=>Gs.name),slide:{raw:"",title:"StateCharts are fully serializable",level:2,content:"",note:"",index:51,start:1110,end:1159,noteHTML:`<p>And statecharts are so invested in being its own JSON or SCXML format is great because are both formats that are fully serializable and persistent.</p>
<p>And this is even better because it actually splits the implementation of actions that need to be triggered from the orchestration of the flow, which makes it even more reusable.</p>
`,frontmatter:Gs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:51,no:52},__clicksElements:[],__preloaded:!1}),_G=o("h2",null,"StateCharts are fully serializable",-1),vG=o("br",null,null,-1),bG=o("pre",{class:"shiki-container"},[o("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212",color:"#dbd7ca"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"{")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'  "'),o("span",{style:{color:"#E0A569"}},"id"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#C98A7D"}},' "Machine Name"'),o("span",{style:{color:"#858585"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'  "'),o("span",{style:{color:"#E0A569"}},"initial"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#C98A7D"}},' "WaitingForCardNumber"'),o("span",{style:{color:"#858585"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'  "'),o("span",{style:{color:"#E0A569"}},"states"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'    "'),o("span",{style:{color:"#E0A569"}},"WaitingForCardNumber"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'      "'),o("span",{style:{color:"#E0A569"}},"on"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'        "'),o("span",{style:{color:"#E0A569"}},"CARD_NUMBER_PROVIDED"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'          "'),o("span",{style:{color:"#E0A569"}},"target"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#C98A7D"}},' "ProcessingPayment"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"        }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'    "'),o("span",{style:{color:"#E0A569"}},"ProcessingPayment"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'      "'),o("span",{style:{color:"#E0A569"}},"entry"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'        "'),o("span",{style:{color:"#E0A569"}},"type"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#C98A7D"}},' "AttemptPayment"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'      "'),o("span",{style:{color:"#E0A569"}},"on"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'        "'),o("span",{style:{color:"#E0A569"}},"PAYMENT_FAILED"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'          "'),o("span",{style:{color:"#E0A569"}},"target"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#C98A7D"}},' "PaymentFailed"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"        },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'        "'),o("span",{style:{color:"#E0A569"}},"PAYMENT_SUCCEDED"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'          "'),o("span",{style:{color:"#E0A569"}},"target"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#C98A7D"}},' "BillPaid"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"        }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'    "'),o("span",{style:{color:"#E0A569"}},"PaymentFailed"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'      "'),o("span",{style:{color:"#E0A569"}},"on"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'        "'),o("span",{style:{color:"#E0A569"}},"TRY_ANOTHER_CARD"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'          "'),o("span",{style:{color:"#E0A569"}},"target"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#C98A7D"}},' "WaitingForCardNumber"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"        }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"    },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},'    "'),o("span",{style:{color:"#E0A569"}},"BillPaid"),o("span",{style:{color:"#858585"}},'"'),o("span",{style:{color:"#858585"}},":"),o("span",{style:{color:"#858585"}}," {}")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#858585"}},"}")])])]),o("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff",color:"#393a34"},tabindex:"0"},[o("code",null,[o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"{")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'  "'),o("span",{style:{color:"#B58451"}},"id"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#B56959"}},' "Machine Name"'),o("span",{style:{color:"#8E8F8B"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'  "'),o("span",{style:{color:"#B58451"}},"initial"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#B56959"}},' "WaitingForCardNumber"'),o("span",{style:{color:"#8E8F8B"}},",")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'  "'),o("span",{style:{color:"#B58451"}},"states"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'    "'),o("span",{style:{color:"#B58451"}},"WaitingForCardNumber"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'      "'),o("span",{style:{color:"#B58451"}},"on"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'        "'),o("span",{style:{color:"#B58451"}},"CARD_NUMBER_PROVIDED"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'          "'),o("span",{style:{color:"#B58451"}},"target"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#B56959"}},' "ProcessingPayment"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"        }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'    "'),o("span",{style:{color:"#B58451"}},"ProcessingPayment"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'      "'),o("span",{style:{color:"#B58451"}},"entry"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'        "'),o("span",{style:{color:"#B58451"}},"type"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#B56959"}},' "AttemptPayment"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'      "'),o("span",{style:{color:"#B58451"}},"on"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'        "'),o("span",{style:{color:"#B58451"}},"PAYMENT_FAILED"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'          "'),o("span",{style:{color:"#B58451"}},"target"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#B56959"}},' "PaymentFailed"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"        },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'        "'),o("span",{style:{color:"#B58451"}},"PAYMENT_SUCCEDED"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'          "'),o("span",{style:{color:"#B58451"}},"target"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#B56959"}},' "BillPaid"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"        }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'    "'),o("span",{style:{color:"#B58451"}},"PaymentFailed"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'      "'),o("span",{style:{color:"#B58451"}},"on"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'        "'),o("span",{style:{color:"#B58451"}},"TRY_ANOTHER_CARD"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'          "'),o("span",{style:{color:"#B58451"}},"target"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#B56959"}},' "WaitingForCardNumber"')]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"        }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"      }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"    },")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},'    "'),o("span",{style:{color:"#B58451"}},"BillPaid"),o("span",{style:{color:"#8E8F8B"}},'"'),o("span",{style:{color:"#8E8F8B"}},":"),o("span",{style:{color:"#8E8F8B"}}," {}")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"  }")]),y(`
`),o("span",{class:"line"},[o("span",{style:{color:"#8E8F8B"}},"}")])])])],-1),CG={__name:"52",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Gs;return pe(xe,Gs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Gs))})(),(r,i)=>{const a=Mt;return k(),K(et,Be(ke(A(Gs))),{default:X(()=>[_G,vG,ce(a,Qe({},{ranges:["all"]}),{default:X(()=>[bG]),_:1},16)]),_:1},16)}}},wG=J(CG,[["__file","/@slidev/slides/52.md"]]),Zs=M({}),xG=M({layout:m(()=>Zs.layout),transition:m(()=>Zs.transition),class:m(()=>Zs.class),clicks:m(()=>Zs.clicks),name:m(()=>Zs.name),slide:{raw:"",title:"Evolving flows",level:2,content:"",note:"",index:52,start:1160,end:1188,noteHTML:`<p>Long running processes introduce also an additional challenge we did'nt care about up to now.
What if our business process changes? What if for example now the chef wants to greet the customer before he leaves the restaurant.</p>
<p>What happens to our currently running flows? We are basically asking our code to update as it is running! What do we do?</p>
`,frontmatter:Zs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:52,no:53},__clicksElements:[],__preloaded:!1}),kG=o("h2",null,"Evolving flows",-1),BG=o("br",null,null,-1),EG={__name:"53",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Zs;return pe(xe,Zs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Zs))})(),(r,i)=>{const a=Cr;return k(),K(et,Be(ke(A(Zs))),{default:X(()=>[kG,BG,ce(a,Qe({code:"c3RhdGVEaWFncmFtLXYyCiAgc3RhdGUgIk1hY2hpbmUgTmFtZSIgYXMgTWFjaGluZV9OYW1lIHsKICAgIFsqXSAtLT4gTWFjaGluZV9OYW1lLldhaXRpbmdGb3JDaGVmR3JlZXRpbmcKICAgIE1hY2hpbmVfTmFtZS5XYWl0aW5nRm9yQ2hlZkdyZWV0aW5nIC0tPiBNYWNoaW5lX05hbWUuV2FpdGluZ0ZvckNhcmROdW1iZXIgOiBDSEVGX0dSRUVURUQKICAgIE1hY2hpbmVfTmFtZS5XYWl0aW5nRm9yQ2hlZkdyZWV0aW5nIC0tPiBNYWNoaW5lX05hbWUuV2FpdGluZ0ZvckNhcmROdW1iZXIgOiBhZnRlcigxMDAwMCltcwogICAgTWFjaGluZV9OYW1lLldhaXRpbmdGb3JDYXJkTnVtYmVyIC0tPiBNYWNoaW5lX05hbWUuUHJvY2Vzc2luZ1BheW1lbnQgOiBDQVJEX05VTUJFUl9QUk9WSURFRAogICAgTWFjaGluZV9OYW1lLlByb2Nlc3NpbmdQYXltZW50IC0tPiBNYWNoaW5lX05hbWUuUGF5bWVudEZhaWxlZCA6IFBBWU1FTlRfRkFJTEVECiAgICBNYWNoaW5lX05hbWUuUHJvY2Vzc2luZ1BheW1lbnQgLS0-IE1hY2hpbmVfTmFtZS5CaWxsUGFpZCA6IFBBWU1FTlRfU1VDQ0VERUQKICAgIE1hY2hpbmVfTmFtZS5QYXltZW50RmFpbGVkIC0tPiBNYWNoaW5lX05hbWUuV2FpdGluZ0ZvckNhcmROdW1iZXIgOiBUUllfQU5PVEhFUl9DQVJECiAgICBzdGF0ZSAiV2FpdGluZ0ZvckNoZWZHcmVldGluZyIgYXMgTWFjaGluZV9OYW1lLldhaXRpbmdGb3JDaGVmR3JlZXRpbmcKICAgIHN0YXRlICJXYWl0aW5nRm9yQ2FyZE51bWJlciIgYXMgTWFjaGluZV9OYW1lLldhaXRpbmdGb3JDYXJkTnVtYmVyCiAgICBzdGF0ZSAiUHJvY2Vzc2luZ1BheW1lbnRcbmVudHJ5IC8gQXR0ZW1wdFBheW1lbnQiIGFzIE1hY2hpbmVfTmFtZS5Qcm9jZXNzaW5nUGF5bWVudAogICAgc3RhdGUgIlBheW1lbnRGYWlsZWQiIGFzIE1hY2hpbmVfTmFtZS5QYXltZW50RmFpbGVkCiAgICBzdGF0ZSAiQmlsbFBhaWQiIGFzIE1hY2hpbmVfTmFtZS5CaWxsUGFpZAogIH0"},{scale:.7}),null,16)]),_:1},16)}}},TG=J(EG,[["__file","/@slidev/slides/53.md"]]),Ks=M({}),AG=M({layout:m(()=>Ks.layout),transition:m(()=>Ks.transition),class:m(()=>Ks.class),clicks:m(()=>Ks.clicks),name:m(()=>Ks.name),slide:{raw:"",title:"Evolving flows: I do not care!",level:2,content:"",note:"",index:53,start:1189,end:1205,noteHTML:`<p>Maybe you don't care about upgrading running flows, and that's fine.
Maybe they are not so long lived that you just want to keep running the old version until you reach the final step.</p>
<p>And thanks to statecharts definition being fully serializable is great because it allows to have a cheap solution for versioning long running processes by exactly doing that.</p>
<p>One could just store the JSON definition along side the persistence of the current state of the machine, and only implementations of services and actions are injected at runtime into the interpreter.</p>
`,frontmatter:Ks,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:53,no:54},__clicksElements:[],__preloaded:!1}),SG=o("h2",null,"Evolving flows: I do not care!",-1),$G=o("br",null,null,-1),FG=o("ul",null,[o("li",null,"Short lived flows"),o("li",null,"I Expect to have a consistent UX")],-1),OG={__name:"54",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Ks;return pe(xe,Ks),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Ks))})(),(r,i)=>(k(),K(et,Be(ke(A(Ks))),{default:X(()=>[SG,$G,FG]),_:1},16))}},LG=J(OG,[["__file","/@slidev/slides/54.md"]]),Xs=M({}),IG=M({layout:m(()=>Xs.layout),transition:m(()=>Xs.transition),class:m(()=>Xs.class),clicks:m(()=>Xs.clicks),name:m(()=>Xs.name),slide:{raw:"",title:"Evolving flows: Restore machine state!",level:2,content:"",note:"",index:54,start:1206,end:1218,noteHTML:`<p>Another option is to just restore the machine state and continue from there, and that may work only for some changes of our statechart.
If for example we deleted one state, and the workflow instance we are trying to update is exactly in that state, we basically have a stale workflow, that will not evolve into any new state. And that's actually really really bad.</p>
`,frontmatter:Xs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:54,no:55},__clicksElements:[],__preloaded:!1}),MG=o("h2",null,"Evolving flows: Restore machine state!",-1),PG=o("br",null,null,-1),DG=o("ul",null,[o("li",null,"Work for connections changes or new state added"),o("li",null,"What to do when we delete states?")],-1),RG={__name:"55",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Xs;return pe(xe,Xs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Xs))})(),(r,i)=>(k(),K(et,Be(ke(A(Xs))),{default:X(()=>[MG,PG,DG]),_:1},16))}},NG=J(RG,[["__file","/@slidev/slides/55.md"]]),Js=M({}),jG=M({layout:m(()=>Js.layout),transition:m(()=>Js.transition),class:m(()=>Js.class),clicks:m(()=>Js.clicks),name:m(()=>Js.name),slide:{raw:"",title:"Evolving flows: Replay events",level:2,content:"",note:"",index:55,start:1219,end:1236,noteHTML:`<p>Another approach may be to just replay all the events that the previous machine received, right?
I fetch from some storage all events related to this flow, and then I pass them to the new machine definition.</p>
<p>Well, that could work, but the requirement is that our machine now needs to be entirely deterministic.
By that I mean that we cannot rely on side effects on the external world, all data and conditions should be based on data that is either on the event or the state machine.</p>
`,frontmatter:Js,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:55,no:56},__clicksElements:[],__preloaded:!1}),WG=o("h2",null,"Evolving flows: Replay events",-1),zG=o("br",null,null,-1),HG=o("ul",null,[o("li",null,"Load the new definition with the default state"),o("li",null,"Replay all the events that occurred before"),o("li",null,"What to do with side effects?"),o("li",null,"Works as long your entire machine is deterministic")],-1),VG={__name:"56",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Js;return pe(xe,Js),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Js))})(),(r,i)=>(k(),K(et,Be(ke(A(Js))),{default:X(()=>[WG,zG,HG]),_:1},16))}},qG=J(VG,[["__file","/@slidev/slides/56.md"]]),Qs=M({layout:"image-right",image:"/image-upgrade-flow.png"}),UG=M({layout:m(()=>Qs.layout),transition:m(()=>Qs.transition),class:m(()=>Qs.class),clicks:m(()=>Qs.clicks),name:m(()=>Qs.name),slide:{raw:"",title:"Evolving flows: Upgrade events",level:2,content:"",note:"",index:56,start:1236,end:1255,noteHTML:`<p>An intermediate approach may be something I call &quot;upgrade events&quot;, which is basically saying lets go full on with this approach.
We will basically never deprecate any state in our state machine, we first restore the machine state, and then we just send an upgrade event before sending any other new event. And this upgrade event will basically start the transition from the current old deprecated state to a new supported one.</p>
`,frontmatter:Qs,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:56,no:57},__clicksElements:[],__preloaded:!1}),YG=o("h2",null,"Evolving flows: Upgrade events",-1),GG=o("br",null,null,-1),ZG=o("ul",null,[o("li",null,"Do not delete previous state node"),o("li",null,"Restore machine state with the new definition"),o("li",null,"Trigger upgrade event"),o("li",null,"Send new incoming events")],-1),KG={__name:"57",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=Qs;return pe(xe,Qs),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,Qs))})(),(r,i)=>(k(),K(vl,Be(ke(A(Qs))),{default:X(()=>[YG,GG,ZG]),_:1},16))}},XG=J(KG,[["__file","/@slidev/slides/57.md"]]),eo=M({}),JG=M({layout:m(()=>eo.layout),transition:m(()=>eo.transition),class:m(()=>eo.class),clicks:m(()=>eo.clicks),name:m(()=>eo.name),slide:{raw:"",title:"Concurrent Executions",level:2,content:"",note:"",index:57,start:1256,end:1274,noteHTML:`<p>Another thing we now need to ensure is that there is no concurrent execution of the side effects described by our statecharts.</p>
<p>Let's say that for example...</p>
<p>How do we do that?</p>
`,frontmatter:eo,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:57,no:58},__clicksElements:[],__preloaded:!1}),QG=o("h2",null,"Concurrent Executions",-1),eZ=o("br",null,null,-1),tZ=o("ul",null,[o("li",null,"The waiter comes to the table of 3 people"),o("li",null,"The customer order 2 beers and a coke"),o("li",null,"The waiter brings the order to kitchen"),o("li",null,"Another waiter comes"),o("li",null,"The confused customer order 1 beer and 2 coke"),o("li",null,"The table receives 2 times the order")],-1),nZ={__name:"58",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=eo;return pe(xe,eo),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,eo))})(),(r,i)=>(k(),K(et,Be(ke(A(eo))),{default:X(()=>[QG,eZ,tZ]),_:1},16))}},sZ=J(nZ,[["__file","/@slidev/slides/58.md"]]),to=M({}),oZ=M({layout:m(()=>to.layout),transition:m(()=>to.transition),class:m(()=>to.class),clicks:m(()=>to.clicks),name:m(()=>to.name),slide:{raw:"",title:"Concurrent execution: Real world",level:2,content:"",note:"",index:58,start:1275,end:1283,noteHTML:"",frontmatter:to,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:58,no:59},__clicksElements:[],__preloaded:!1}),rZ=o("h2",null,"Concurrent execution: Real world",-1),iZ=o("br",null,null,-1),aZ=o("ul",null,[o("li",null,"The boss assigns ranges of tables to each waiter"),o("li",null,"Each waiter will pick up only orders of the range od tables it got assigned to")],-1),lZ={__name:"59",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=to;return pe(xe,to),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,to))})(),(r,i)=>(k(),K(et,Be(ke(A(to))),{default:X(()=>[rZ,iZ,aZ]),_:1},16))}},cZ=J(lZ,[["__file","/@slidev/slides/59.md"]]),no=M({}),uZ=M({layout:m(()=>no.layout),transition:m(()=>no.transition),class:m(()=>no.class),clicks:m(()=>no.clicks),name:m(()=>no.name),slide:{raw:"",title:"Concurrent execution: Sharding",level:2,content:"",note:"",index:59,start:1284,end:1292,noteHTML:"",frontmatter:no,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:59,no:60},__clicksElements:[],__preloaded:!1}),hZ=o("h2",null,"Concurrent execution: Sharding",-1),pZ=o("br",null,null,-1),dZ=o("ul",null,[o("li",null,"A shard manager will assign range of entities to each worker"),o("li",null,"Each worker gets a range of entities to manage and will care only about that"),o("li",null,"We ensured that only one worker will process each entity")],-1),fZ={__name:"60",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=no;return pe(xe,no),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,no))})(),(r,i)=>(k(),K(et,Be(ke(A(no))),{default:X(()=>[hZ,pZ,dZ]),_:1},16))}},mZ=J(fZ,[["__file","/@slidev/slides/60.md"]]),so=M({layout:"fact"}),yZ=M({layout:m(()=>so.layout),transition:m(()=>so.transition),class:m(()=>so.class),clicks:m(()=>so.clicks),name:m(()=>so.name),slide:{raw:"",title:"LRP means... long to reply APIs?",level:2,content:"",note:"",index:60,start:1292,end:1306,noteHTML:`<p>But back to our checkout API, not that we have a LRP, does that means that unfortunately we cannot simply reply back with the response to our API?. We need to either wait for all, or reply back as soon we received the request. But then the client needs to poll. (and actually that’s a better UX!)</p>
<p>And that means that when we build our user interfaces we actually always need to think that every action may actually fail or hang. One approach could be of using SSE to stream notifications from the server to the UI in order to notify when the performed action is actually completed.</p>
`,frontmatter:so,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:60,no:61},__clicksElements:[],__preloaded:!1}),gZ=o("h2",null,"LRP means… long to reply APIs?",-1),_Z=o("p",null,"When should we reply to our request? Or should we wait for the completion?",-1),vZ={__name:"61",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=so;return pe(xe,so),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,so))})(),(r,i)=>(k(),K(In,Be(ke(A(so))),{default:X(()=>[gZ,_Z]),_:1},16))}},bZ=J(vZ,[["__file","/@slidev/slides/61.md"]]),oo=M({}),CZ=M({layout:m(()=>oo.layout),transition:m(()=>oo.transition),class:m(()=>oo.class),clicks:m(()=>oo.clicks),name:m(()=>oo.name),slide:{raw:"",title:"Long Running Process: The challenges",level:2,content:"",note:"",index:61,start:1307,end:1317,noteHTML:"",frontmatter:oo,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:61,no:62},__clicksElements:[],__preloaded:!1}),wZ=o("h2",null,"Long Running Process: The challenges",-1),xZ=o("br",null,null,-1),kZ=o("ul",null,[o("li",null,[o("em",null,"Communication"),y(": they can be orchestration or choreography")]),o("li",null,[o("em",null,"Distributed transactions"),y(': data may be "dirty" between step')]),o("li",null,[o("em",null,"Persistent"),y(": because the process may last forever even server restarts")]),o("li",null,[o("em",null,"Evolving"),y(": because business requirements may change during application lifetime")]),o("li",null,[o("em",null,"Single executor per workflow"),y(": you do not want concurrency issues right?")])],-1),BZ={__name:"62",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=oo;return pe(xe,oo),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,oo))})(),(r,i)=>(k(),K(et,Be(ke(A(oo))),{default:X(()=>[wZ,xZ,kZ]),_:1},16))}},EZ=J(BZ,[["__file","/@slidev/slides/62.md"]]),ro=M({layout:"image-left",image:"/image-me.jpg"}),TZ=M({layout:m(()=>ro.layout),transition:m(()=>ro.transition),class:m(()=>ro.class),clicks:m(()=>ro.clicks),name:m(()=>ro.name),slide:{raw:"",title:"Thanks for your time!",level:1,content:"",note:"",index:62,start:1317,end:1325,noteHTML:"",frontmatter:ro,filepath:"/Users/mattiamanzati/Desktop/long-running-process/slides.md",id:62,no:63},__clicksElements:[],__preloaded:!1}),AZ=o("h1",null,"Thanks for your time!",-1),SZ=o("ul",null,[o("li",null,"Twitter/X: @mattiamanzati")],-1),$Z={__name:"63",setup(e){const t=b(_e);ye(t,"nav"),b(me);const n=b(ge);b(be);const s=ro;return pe(xe,ro),(()=>{var i,a;const r=t.nav.rawRoutes.find(l=>l.path===String(n.value));(a=(i=r==null?void 0:r.meta)==null?void 0:i.slide)!=null&&a.frontmatter&&(Object.keys(r.meta.slide.frontmatter).forEach(l=>{l in s||delete r.meta.slide.frontmatter[l]}),Object.assign(r.meta.slide.frontmatter,ro))})(),(r,i)=>(k(),K(_l,Be(ke(A(ro))),{default:X(()=>[AZ,SZ]),_:1},16))}},FZ=J($Z,[["__file","/@slidev/slides/63.md"]]),OZ=[{path:"1",name:"page-1",component:z2,meta:j2},{path:"2",name:"page-2",component:Z2,meta:U2},{path:"3",name:"page-3",component:sF,meta:J2},{path:"4",name:"page-4",component:iF,meta:oF},{path:"5",name:"page-5",component:hF,meta:aF},{path:"6",name:"page-6",component:LF,meta:AF},{path:"7",name:"page-7",component:zF,meta:PF},{path:"8",name:"page-8",component:YF,meta:HF},{path:"9",name:"page-9",component:XF,meta:GF},{path:"10",name:"page-10",component:sO,meta:JF},{path:"11",name:"page-11",component:cO,meta:oO},{path:"12",name:"page-12",component:dO,meta:uO},{path:"13",name:"page-13",component:wO,meta:fO},{path:"14",name:"page-14",component:OO,meta:kO},{path:"15",name:"page-15",component:RO,meta:LO},{path:"16",name:"page-16",component:zO,meta:NO},{path:"17",name:"page-17",component:GO,meta:HO},{path:"18",name:"page-18",component:QO,meta:ZO},{path:"19",name:"page-19",component:o9,meta:e9},{path:"20",name:"page-20",component:c9,meta:r9},{path:"21",name:"page-21",component:m9,meta:u9},{path:"22",name:"page-22",component:b9,meta:y9},{path:"23",name:"page-23",component:k9,meta:C9},{path:"24",name:"page-24",component:$9,meta:B9},{path:"25",name:"page-25",component:P9,meta:F9},{path:"26",name:"page-26",component:j9,meta:D9},{path:"27",name:"page-27",component:U9,meta:W9},{path:"28",name:"page-28",component:Yq,meta:Hq},{path:"29",name:"page-29",component:Qq,meta:Gq},{path:"30",name:"page-30",component:rU,meta:eU},{path:"31",name:"page-31",component:fU,meta:iU},{path:"32",name:"page-32",component:bU,meta:mU},{path:"33",name:"page-33",component:BU,meta:CU},{path:"34",name:"page-34",component:SU,meta:EU},{path:"35",name:"page-35",component:IU,meta:$U},{path:"36",name:"page-36",component:jU,meta:MU},{path:"37",name:"page-37",component:UU,meta:WU},{path:"38",name:"page-38",component:JU,meta:YU},{path:"39",name:"page-39",component:oY,meta:QU},{path:"40",name:"page-40",component:uY,meta:aY},{path:"41",name:"page-41",component:yY,meta:hY},{path:"42",name:"page-42",component:CY,meta:gY},{path:"43",name:"page-43",component:EY,meta:wY},{path:"44",name:"page-44",component:FY,meta:TY},{path:"45",name:"page-45",component:DY,meta:OY},{path:"46",name:"page-46",component:WY,meta:RY},{path:"47",name:"page-47",component:YY,meta:zY},{path:"48",name:"page-48",component:eG,meta:GY},{path:"49",name:"page-49",component:rG,meta:tG},{path:"50",name:"page-50",component:uG,meta:iG},{path:"51",name:"page-51",component:yG,meta:hG},{path:"52",name:"page-52",component:wG,meta:gG},{path:"53",name:"page-53",component:TG,meta:xG},{path:"54",name:"page-54",component:LG,meta:AG},{path:"55",name:"page-55",component:NG,meta:IG},{path:"56",name:"page-56",component:qG,meta:jG},{path:"57",name:"page-57",component:XG,meta:UG},{path:"58",name:"page-58",component:sZ,meta:JG},{path:"59",name:"page-59",component:cZ,meta:oZ},{path:"60",name:"page-60",component:mZ,meta:uZ},{path:"61",name:"page-61",component:bZ,meta:yZ},{path:"62",name:"page-62",component:EZ,meta:CZ},{path:"63",name:"page-63",component:FZ,meta:TZ}],LZ=[],_t=OZ,va=[{name:"play",path:"/",component:h4,children:[..._t,...LZ]},{name:"print",path:"/print",component:R2},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];{let e=function(t){if(!ma.remote||ma.remote===t.query.password)return!0;if(ma.remote&&t.query.password===void 0){const n=prompt("Enter password");if(ma.remote===n)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}};va.push({path:"/presenter/print",component:()=>ht(()=>import("./PresenterPrint-054c2524.js"),["assets/PresenterPrint-054c2524.js","assets/NoteDisplay-f9c0de12.js"])}),va.push({name:"notes",path:"/notes",component:()=>ht(()=>import("./NotesView-743d2e03.js"),["assets/NotesView-743d2e03.js","assets/NoteDisplay-f9c0de12.js"]),beforeEnter:e}),va.push({name:"presenter",path:"/presenter/:no",component:()=>ht(()=>import("./Presenter-1d06b39e.js"),["assets/Presenter-1d06b39e.js","assets/NoteDisplay-f9c0de12.js","assets/DrawingControls-3fc2f408.js","assets/Presenter-754c8242.css"]),beforeEnter:e}),va.push({path:"/presenter",redirect:{path:"/presenter/1"}})}const Jt=FE({history:$6("/"),routes:va});function IZ(e,t,{mode:n="replace"}={}){return m({get(){const s=Jt.currentRoute.value.query[e];return s==null?t??null:Array.isArray(s)?s.filter(Boolean):s},set(s){Dt(()=>{Jt[A(n)]({query:{...Jt.currentRoute.value.query,[e]:s}})})}})}const Gb=ne(0);Dt(()=>{Jt.afterEach(async()=>{await Dt(),Gb.value+=1})});const Zb=ne(0),On=m(()=>Jt.currentRoute.value),Wi=m(()=>On.value.query.print!==void 0),MZ=m(()=>On.value.query.print==="clicks"),Fo=m(()=>On.value.query.embedded!==void 0),on=m(()=>On.value.path.startsWith("/presenter")),PZ=m(()=>On.value.path.startsWith("/notes")),$a=m(()=>Wi.value&&!MZ.value),_d=m(()=>On.value.query.password),DZ=m(()=>!on.value&&(!st.remote||_d.value===st.remote)),m_=IZ("clicks","0"),RZ=m(()=>_t.length),NZ=m(()=>On.value.path),Ct=m(()=>Number.parseInt(NZ.value.split(/\//g).slice(-1)[0])||1);m(()=>ah(Ct.value));const Wt=m(()=>_t.find(e=>e.path===`${Ct.value}`));m(()=>{var e,t,n;return(n=(t=(e=Wt.value)==null?void 0:e.meta)==null?void 0:t.slide)==null?void 0:n.id});m(()=>{var e,t;return((t=(e=Wt.value)==null?void 0:e.meta)==null?void 0:t.layout)||(Ct.value===1?"cover":"default")});const Qh=m(()=>_t.find(e=>e.path===`${Math.min(_t.length,Ct.value+1)}`)),jZ=m(()=>_t.find(e=>e.path===`${Math.max(1,Ct.value-1)}`)),WZ=m(()=>{var e,t;return Gb.value,((t=(e=Wt.value)==null?void 0:e.meta)==null?void 0:t.__clicksElements)||[]}),vn=m({get(){if($a.value)return 99999;let e=+(m_.value||0);return Number.isNaN(e)&&(e=0),e},set(e){m_.value=e.toString()}}),vu=m(()=>{var e,t;return+(((t=(e=Wt.value)==null?void 0:e.meta)==null?void 0:t.clicks)??WZ.value.length)}),zZ=m(()=>Ct.value<_t.length||vn.value<vu.value),HZ=m(()=>Ct.value>1||vn.value>0),VZ=m(()=>_t.filter(e=>{var t,n;return(n=(t=e.meta)==null?void 0:t.slide)==null?void 0:n.title}).reduce((e,t)=>(Uf(e,t),e),[])),qZ=m(()=>Yf(VZ.value,Wt.value));m(()=>Gf(qZ.value));const UZ=m(()=>XZ(Zb.value,Wt.value,jZ.value));ze(Wt,(e,t)=>{Zb.value=Number(e==null?void 0:e.path)-Number(t==null?void 0:t.path)});function cr(){vu.value<=vn.value?il():vn.value+=1}async function ur(){vn.value<=0?await al():vn.value-=1}function ah(e){return on.value?`/presenter/${e}`:`/${e}`}function il(){const e=Math.min(_t.length,Ct.value+1);return ii(e)}async function al(e=!0){const t=Math.max(1,Ct.value-1);await ii(t),e&&vu.value&&Jt.replace({query:{...On.value.query,clicks:vu.value}})}function ii(e,t){return Gp.value=!1,Jt.push({path:ah(e),query:{...On.value.query,clicks:t}})}function YZ(e){const t=ne(0),{direction:n,distanceX:s,distanceY:r}=n6(e,{onSwipeStart(i){i.pointerType==="touch"&&(qa.value||(t.value=Ap()))},onSwipeEnd(i){if(i.pointerType!=="touch"||!t.value||qa.value)return;const a=Math.abs(s.value),l=Math.abs(r.value);a/window.innerWidth>.3||a>75?n.value==="left"?cr():ur():(l/window.innerHeight>.4||l>200)&&(n.value==="down"?al():il())}})}async function vd(){const{saveAs:e}=await ht(()=>import("./FileSaver.min-23a5d44b.js").then(t=>t.F),[]);e(typeof st.download=="string"?st.download:st.exportFilename?`${st.exportFilename}.pdf`:"/slidev-exported.pdf",`${st.title}.pdf`)}async function GZ(e){var t,n;if(e==null){const s=(n=(t=Wt.value)==null?void 0:t.meta)==null?void 0:n.slide;if(!(s!=null&&s.filepath))return!1;e=`${s.filepath}:${s.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(e)}`),!0}function Uf(e,t,n=1){var r,i,a,l,c,u,h;const s=(i=(r=t.meta)==null?void 0:r.slide)==null?void 0:i.level;s&&s>n&&e.length>0?Uf(e[e.length-1].children,t,n+1):e.push({children:[],level:n,path:t.path,hideInToc:!!((c=(l=(a=t.meta)==null?void 0:a.slide)==null?void 0:l.frontmatter)!=null&&c.hideInToc),title:(h=(u=t.meta)==null?void 0:u.slide)==null?void 0:h.title})}function Yf(e,t,n=!1,s){return e.map(r=>{const i={...r,active:r.path===(t==null?void 0:t.path),hasActiveParent:n};return i.children.length>0&&(i.children=Yf(i.children,t,i.active||i.hasActiveParent,i)),s&&(i.active||i.activeParent)&&(s.activeParent=!0),i})}function Gf(e,t=1){return e.filter(n=>!n.hideInToc).map(n=>({...n,children:Gf(n.children,t+1)}))}const ZZ={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function KZ(e,t=!1){if(!e||(typeof e=="string"&&(e={name:e}),!e.name))return;let n=e.name.includes("|")?e.name:ZZ[e.name]||e.name;if(n.includes("|")){const[s,r]=n.split("|").map(i=>i.trim());n=t?r:s}if(n)return{...e,name:n}}function XZ(e,t,n){var r,i;let s=e>0?(r=n==null?void 0:n.meta)==null?void 0:r.transition:(i=t==null?void 0:t.meta)==null?void 0:i.transition;return s||(s=st.transition),KZ(s,e<0)}function JZ(){const e=st.titleTemplate.replace("%s",st.title||"Slidev");c1({title:e,htmlAttrs:st.htmlAttrs}),aB(`${e} - shared`),hB(`${e} - drawings`);const t=`${location.origin}_${tB()}`;function n(){PZ.value||!on.value&&!PT.includes(location.host.split(":")[0])||(on.value?(Ji("page",+Ct.value),Ji("clicks",vn.value)):(Ji("viewerPage",+Ct.value),Ji("viewerClicks",vn.value)),Ji("lastUpdate",{id:t,type:on.value?"presenter":"viewer",time:new Date().getTime()}))}Jt.afterEach(n),ze(vn,n),lB(s=>{var i;Jt.currentRoute.value.path.match(/^\/(\d+|presenter)\/?/)&&((i=s.lastUpdate)==null?void 0:i.type)==="presenter"&&(+s.page!=+Ct.value||+vn.value!=+s.clicks)&&Jt.replace({path:ah(s.page),query:{...Jt.currentRoute.value.query,clicks:s.clicks||0}})})}const QZ=Xe({__name:"App",setup(e){return JZ(),(t,n)=>{const s=Rc("RouterView"),r=Rc("StarportCarrier");return k(),R(nt,null,[ce(s),ce(r)],64)}}}),eK=J(QZ,[["__file","/Users/mattiamanzati/Desktop/long-running-process/node_modules/.pnpm/@slidev+client@0.43.6_postcss@8.4.30_vite@4.4.9/node_modules/@slidev/client/App.vue"]]);function ep(e){return e!==null&&typeof e=="object"}function bd(e,t,n=".",s){if(!ep(t))return bd(e,{},n,s);const r=Object.assign({},t);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const a=e[i];a!=null&&(s&&s(r,i,a,n)||(Array.isArray(a)&&Array.isArray(r[i])?r[i]=[...a,...r[i]]:ep(a)&&ep(r[i])?r[i]=bd(a,r[i],(n?`${n}.`:"")+i.toString(),s):r[i]=a))}return r}function tK(e){return(...t)=>t.reduce((n,s)=>bd(n,s,"",e),{})}const nK=tK(),Kb=1/60*1e3,sK=typeof performance<"u"?()=>performance.now():()=>Date.now(),Xb=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(sK()),Kb);function oK(e){let t=[],n=[],s=0,r=!1,i=!1;const a=new WeakSet,l={schedule:(c,u=!1,h=!1)=>{const p=h&&r,d=p?t:n;return u&&a.add(c),d.indexOf(c)===-1&&(d.push(c),p&&r&&(s=t.length)),c},cancel:c=>{const u=n.indexOf(c);u!==-1&&n.splice(u,1),a.delete(c)},process:c=>{if(r){i=!0;return}if(r=!0,[t,n]=[n,t],n.length=0,s=t.length,s)for(let u=0;u<s;u++){const h=t[u];h(c),a.has(h)&&(l.schedule(h),e())}r=!1,i&&(i=!1,l.process(c))}};return l}const rK=40;let Cd=!0,ll=!1,wd=!1;const Fi={delta:0,timestamp:0},Bl=["read","update","preRender","render","postRender"],lh=Bl.reduce((e,t)=>(e[t]=oK(()=>ll=!0),e),{}),xd=Bl.reduce((e,t)=>{const n=lh[t];return e[t]=(s,r=!1,i=!1)=>(ll||lK(),n.schedule(s,r,i)),e},{}),iK=Bl.reduce((e,t)=>(e[t]=lh[t].cancel,e),{});Bl.reduce((e,t)=>(e[t]=()=>lh[t].process(Fi),e),{});const aK=e=>lh[e].process(Fi),Jb=e=>{ll=!1,Fi.delta=Cd?Kb:Math.max(Math.min(e-Fi.timestamp,rK),1),Fi.timestamp=e,wd=!0,Bl.forEach(aK),wd=!1,ll&&(Cd=!1,Xb(Jb))},lK=()=>{ll=!0,Cd=!0,wd||Xb(Jb)},Qb=()=>Fi;function e5(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}var Zf=function(){},cl=function(){};Zf=function(e,t){!e&&typeof console<"u"&&console.warn(t)},cl=function(e,t){if(!e)throw new Error(t)};const kd=(e,t,n)=>Math.min(Math.max(n,e),t),tp=.001,cK=.01,y_=10,uK=.05,hK=1;function pK({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let r,i;Zf(e<=y_*1e3,"Spring duration must be 10 seconds or less");let a=1-t;a=kd(uK,hK,a),e=kd(cK,y_,e/1e3),a<1?(r=u=>{const h=u*a,p=h*e,d=h-n,f=Bd(u,a),g=Math.exp(-p);return tp-d/f*g},i=u=>{const p=u*a*e,d=p*n+n,f=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-p),_=Bd(Math.pow(u,2),a);return(-r(u)+tp>0?-1:1)*((d-f)*g)/_}):(r=u=>{const h=Math.exp(-u*e),p=(u-n)*e+1;return-tp+h*p},i=u=>{const h=Math.exp(-u*e),p=(n-u)*(e*e);return h*p});const l=5/e,c=fK(r,i,l);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:e}}}const dK=12;function fK(e,t,n){let s=n;for(let r=1;r<dK;r++)s=s-e(s)/t(s);return s}function Bd(e,t){return e*Math.sqrt(1-t*t)}const mK=["duration","bounce"],yK=["stiffness","damping","mass"];function g_(e,t){return t.some(n=>e[n]!==void 0)}function gK(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!g_(e,yK)&&g_(e,mK)){const n=pK(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function Kf(e){var{from:t=0,to:n=1,restSpeed:s=2,restDelta:r}=e,i=e5(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:t};let{stiffness:l,damping:c,mass:u,velocity:h,duration:p,isResolvedFromDuration:d}=gK(i),f=__,g=__;function _(){const w=h?-(h/1e3):0,E=n-t,x=c/(2*Math.sqrt(l*u)),C=Math.sqrt(l/u)/1e3;if(r===void 0&&(r=Math.min(Math.abs(n-t)/100,.4)),x<1){const F=Bd(C,x);f=T=>{const P=Math.exp(-x*C*T);return n-P*((w+x*C*E)/F*Math.sin(F*T)+E*Math.cos(F*T))},g=T=>{const P=Math.exp(-x*C*T);return x*C*P*(Math.sin(F*T)*(w+x*C*E)/F+E*Math.cos(F*T))-P*(Math.cos(F*T)*(w+x*C*E)-F*E*Math.sin(F*T))}}else if(x===1)f=F=>n-Math.exp(-C*F)*(E+(w+C*E)*F);else{const F=C*Math.sqrt(x*x-1);f=T=>{const P=Math.exp(-x*C*T),I=Math.min(F*T,300);return n-P*((w+x*C*E)*Math.sinh(I)+F*E*Math.cosh(I))/F}}}return _(),{next:w=>{const E=f(w);if(d)a.done=w>=p;else{const x=g(w)*1e3,C=Math.abs(x)<=s,F=Math.abs(n-E)<=r;a.done=C&&F}return a.value=a.done?n:E,a},flipTarget:()=>{h=-h,[t,n]=[n,t],_()}}}Kf.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const __=e=>0,t5=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Xf=(e,t,n)=>-n*e+n*t+e,n5=(e,t)=>n=>Math.max(Math.min(n,t),e),Fa=e=>e%1?Number(e.toFixed(5)):e,ul=/(-)?([\d]*\.?[\d])+/g,Ed=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,_K=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function El(e){return typeof e=="string"}const Tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oa=Object.assign(Object.assign({},Tl),{transform:n5(0,1)}),sc=Object.assign(Object.assign({},Tl),{default:1}),Jf=e=>({test:t=>El(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Tr=Jf("deg"),La=Jf("%"),Ve=Jf("px"),v_=Object.assign(Object.assign({},La),{parse:e=>La.parse(e)/100,transform:e=>La.transform(e*100)}),Qf=(e,t)=>n=>!!(El(n)&&_K.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),s5=(e,t,n)=>s=>{if(!El(s))return s;const[r,i,a,l]=s.match(ul);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Vr={test:Qf("hsl","hue"),parse:s5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+La.transform(Fa(t))+", "+La.transform(Fa(n))+", "+Fa(Oa.transform(s))+")"},vK=n5(0,255),np=Object.assign(Object.assign({},Tl),{transform:e=>Math.round(vK(e))}),tr={test:Qf("rgb","red"),parse:s5("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+np.transform(e)+", "+np.transform(t)+", "+np.transform(n)+", "+Fa(Oa.transform(s))+")"};function bK(e){let t="",n="",s="",r="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),s=e.substr(5,2),r=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),s=e.substr(3,1),r=e.substr(4,1),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Td={test:Qf("#"),parse:bK,transform:tr.transform},nn={test:e=>tr.test(e)||Td.test(e)||Vr.test(e),parse:e=>tr.test(e)?tr.parse(e):Vr.test(e)?Vr.parse(e):Td.parse(e),transform:e=>El(e)?e:e.hasOwnProperty("red")?tr.transform(e):Vr.transform(e)},o5="${c}",r5="${n}";function CK(e){var t,n,s,r;return isNaN(e)&&El(e)&&((n=(t=e.match(ul))===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)+((r=(s=e.match(Ed))===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0)>0}function i5(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0;const s=e.match(Ed);s&&(n=s.length,e=e.replace(Ed,o5),t.push(...s.map(nn.parse)));const r=e.match(ul);return r&&(e=e.replace(ul,r5),t.push(...r.map(Tl.parse))),{values:t,numColors:n,tokenised:e}}function a5(e){return i5(e).values}function l5(e){const{values:t,numColors:n,tokenised:s}=i5(e),r=t.length;return i=>{let a=s;for(let l=0;l<r;l++)a=a.replace(l<n?o5:r5,l<n?nn.transform(i[l]):Fa(i[l]));return a}}const wK=e=>typeof e=="number"?0:e;function xK(e){const t=a5(e);return l5(e)(t.map(wK))}const Al={test:CK,parse:a5,createTransformer:l5,getAnimatableNone:xK},kK=new Set(["brightness","contrast","saturate","opacity"]);function BK(e){let[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(ul)||[];if(!s)return e;const r=n.replace(s,"");let i=kK.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const EK=/([a-z-]*)\(.*?\)/g,Ad=Object.assign(Object.assign({},Al),{getAnimatableNone:e=>{const t=e.match(EK);return t?t.map(BK).join(" "):e}});function sp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function b_({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,a=0;if(!t)r=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=sp(c,l,e+1/3),i=sp(c,l,e),a=sp(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}const TK=(e,t,n)=>{const s=e*e,r=t*t;return Math.sqrt(Math.max(0,n*(r-s)+s))},AK=[Td,tr,Vr],C_=e=>AK.find(t=>t.test(e)),w_=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,c5=(e,t)=>{let n=C_(e),s=C_(t);cl(!!n,w_(e)),cl(!!s,w_(t));let r=n.parse(e),i=s.parse(t);n===Vr&&(r=b_(r),n=tr),s===Vr&&(i=b_(i),s=tr);const a=Object.assign({},r);return l=>{for(const c in a)c!=="alpha"&&(a[c]=TK(r[c],i[c],l));return a.alpha=Xf(r.alpha,i.alpha,l),n.transform(a)}},SK=e=>typeof e=="number",$K=(e,t)=>n=>t(e(n)),u5=(...e)=>e.reduce($K);function h5(e,t){return SK(e)?n=>Xf(e,t,n):nn.test(e)?c5(e,t):d5(e,t)}const p5=(e,t)=>{const n=[...e],s=n.length,r=e.map((i,a)=>h5(i,t[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}},FK=(e,t)=>{const n=Object.assign(Object.assign({},e),t),s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=h5(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}};function x_(e){const t=Al.parse(e),n=t.length;let s=0,r=0,i=0;for(let a=0;a<n;a++)s||typeof t[a]=="number"?s++:t[a].hue!==void 0?i++:r++;return{parsed:t,numNumbers:s,numRGB:r,numHSL:i}}const d5=(e,t)=>{const n=Al.createTransformer(t),s=x_(e),r=x_(t);return s.numHSL===r.numHSL&&s.numRGB===r.numRGB&&s.numNumbers>=r.numNumbers?u5(p5(s.parsed,r.parsed),n):(Zf(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a=>`${a>0?t:e}`)},OK=(e,t)=>n=>Xf(e,t,n);function LK(e){if(typeof e=="number")return OK;if(typeof e=="string")return nn.test(e)?c5:d5;if(Array.isArray(e))return p5;if(typeof e=="object")return FK}function IK(e,t,n){const s=[],r=n||LK(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=r(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]:t;l=u5(c,l)}s.push(l)}return s}function MK([e,t],[n]){return s=>n(t5(e,t,s))}function PK(e,t){const n=e.length,s=n-1;return r=>{let i=0,a=!1;if(r<=e[0]?a=!0:r>=e[s]&&(i=s-1,a=!0),!a){let c=1;for(;c<n&&!(e[c]>r||c===s);c++);i=c-1}const l=t5(e[i],e[i+1],r);return t[i](l)}}function f5(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;cl(i===t.length,"Both input and output ranges must be the same length"),cl(!s||!Array.isArray(s)||s.length===i-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[i-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=IK(t,s,r),l=i===2?MK(e,a):PK(e,a);return n?c=>l(kd(e[0],e[i-1],c)):l}const ch=e=>t=>1-e(1-t),em=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,DK=e=>t=>Math.pow(t,e),m5=e=>t=>t*t*((e+1)*t-e),RK=e=>{const t=m5(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},y5=1.525,NK=4/11,jK=8/11,WK=9/10,g5=e=>e,tm=DK(2),zK=ch(tm),_5=em(tm),v5=e=>1-Math.sin(Math.acos(e)),b5=ch(v5),HK=em(b5),nm=m5(y5),VK=ch(nm),qK=em(nm),UK=RK(y5),YK=4356/361,GK=35442/1805,ZK=16061/1805,bu=e=>{if(e===1||e===0)return e;const t=e*e;return e<NK?7.5625*t:e<jK?9.075*t-9.9*e+3.4:e<WK?YK*t-GK*e+ZK:10.8*e*e-20.52*e+10.72},KK=ch(bu),XK=e=>e<.5?.5*(1-bu(1-e*2)):.5*bu(e*2-1)+.5;function JK(e,t){return e.map(()=>t||_5).splice(0,e.length-1)}function QK(e){const t=e.length;return e.map((n,s)=>s!==0?s/(t-1):0)}function eX(e,t){return e.map(n=>n*t)}function Ec({from:e=0,to:t=1,ease:n,offset:s,duration:r=300}){const i={done:!1,value:e},a=Array.isArray(t)?t:[e,t],l=eX(s&&s.length===a.length?s:QK(a),r);function c(){return f5(l,a,{ease:Array.isArray(n)?n:JK(a,n)})}let u=c();return{next:h=>(i.value=u(h),i.done=h>=r,i),flipTarget:()=>{a.reverse(),u=c()}}}function tX({velocity:e=0,from:t=0,power:n=.8,timeConstant:s=350,restDelta:r=.5,modifyTarget:i}){const a={done:!1,value:t};let l=n*e;const c=t+l,u=i===void 0?c:i(c);return u!==c&&(l=u-t),{next:h=>{const p=-l*Math.exp(-h/s);return a.done=!(p>r||p<-r),a.value=a.done?u:u+p,a},flipTarget:()=>{}}}const k_={keyframes:Ec,spring:Kf,decay:tX};function nX(e){if(Array.isArray(e.to))return Ec;if(k_[e.type])return k_[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Ec:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Kf:Ec}function C5(e,t,n=0){return e-t-n}function sX(e,t,n=0,s=!0){return s?C5(t+-e,t,n):t-(e-t)+n}function oX(e,t,n,s){return s?e>=t+n:e<=-n}const rX=e=>{const t=({delta:n})=>e(n);return{start:()=>xd.update(t,!0),stop:()=>iK.update(t)}};function w5(e){var t,n,{from:s,autoplay:r=!0,driver:i=rX,elapsed:a=0,repeat:l=0,repeatType:c="loop",repeatDelay:u=0,onPlay:h,onStop:p,onComplete:d,onRepeat:f,onUpdate:g}=e,_=e5(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:w}=_,E,x=0,C=_.duration,F,T=!1,P=!0,I;const N=nX(_);!((n=(t=N).needsInterpolation)===null||n===void 0)&&n.call(t,s,w)&&(I=f5([0,100],[s,w],{clamp:!1}),s=0,w=100);const V=N(Object.assign(Object.assign({},_),{from:s,to:w}));function q(){x++,c==="reverse"?(P=x%2===0,a=sX(a,C,u,P)):(a=C5(a,C,u),c==="mirror"&&V.flipTarget()),T=!1,f&&f()}function ve(){E.stop(),d&&d()}function ie(W){if(P||(W=-W),a+=W,!T){const H=V.next(Math.max(0,a));F=H.value,I&&(F=I(F)),T=P?H.done:a<=0}g==null||g(F),T&&(x===0&&(C??(C=a)),x<l?oX(a,C,u,P)&&q():ve())}function te(){h==null||h(),E=i(ie),E.start()}return r&&te(),{stop:()=>{p==null||p(),E.stop()}}}function x5(e,t){return t?e*(1e3/t):0}function iX({from:e=0,velocity:t=0,min:n,max:s,power:r=.8,timeConstant:i=750,bounceStiffness:a=500,bounceDamping:l=10,restDelta:c=1,modifyTarget:u,driver:h,onUpdate:p,onComplete:d,onStop:f}){let g;function _(C){return n!==void 0&&C<n||s!==void 0&&C>s}function w(C){return n===void 0?s:s===void 0||Math.abs(n-C)<Math.abs(s-C)?n:s}function E(C){g==null||g.stop(),g=w5(Object.assign(Object.assign({},C),{driver:h,onUpdate:F=>{var T;p==null||p(F),(T=C.onUpdate)===null||T===void 0||T.call(C,F)},onComplete:d,onStop:f}))}function x(C){E(Object.assign({type:"spring",stiffness:a,damping:l,restDelta:c},C))}if(_(e))x({from:e,velocity:t,to:w(e)});else{let C=r*t+e;typeof u<"u"&&(C=u(C));const F=w(C),T=F===n?-1:1;let P,I;const N=V=>{P=I,I=V,t=x5(V-P,Qb().delta),(T===1&&V>F||T===-1&&V<F)&&x({from:V,to:F,velocity:t})};E({type:"decay",from:e,velocity:t,timeConstant:i,power:r,restDelta:c,modifyTarget:u,onUpdate:_(C)?N:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const k5=(e,t)=>1-3*t+3*e,B5=(e,t)=>3*t-6*e,E5=e=>3*e,Cu=(e,t,n)=>((k5(t,n)*e+B5(t,n))*e+E5(t))*e,T5=(e,t,n)=>3*k5(t,n)*e*e+2*B5(t,n)*e+E5(t),aX=1e-7,lX=10;function cX(e,t,n,s,r){let i,a,l=0;do a=t+(n-t)/2,i=Cu(a,s,r)-e,i>0?n=a:t=a;while(Math.abs(i)>aX&&++l<lX);return a}const uX=8,hX=.001;function pX(e,t,n,s){for(let r=0;r<uX;++r){const i=T5(t,n,s);if(i===0)return t;const a=Cu(t,n,s)-e;t-=a/i}return t}const Tc=11,oc=1/(Tc-1);function dX(e,t,n,s){if(e===t&&n===s)return g5;const r=new Float32Array(Tc);for(let a=0;a<Tc;++a)r[a]=Cu(a*oc,e,n);function i(a){let l=0,c=1;const u=Tc-1;for(;c!==u&&r[c]<=a;++c)l+=oc;--c;const h=(a-r[c])/(r[c+1]-r[c]),p=l+h*oc,d=T5(p,e,n);return d>=hX?pX(a,p,e,n):d===0?p:cX(a,l,l+oc,e,n)}return a=>a===0||a===1?a:Cu(i(a),t,s)}const op={};class fX{constructor(){this.subscriptions=new Set}add(t){return this.subscriptions.add(t),()=>this.subscriptions.delete(t)}notify(t,n,s){if(this.subscriptions.size)for(const r of this.subscriptions)r(t,n,s)}clear(){this.subscriptions.clear()}}function B_(e){return!isNaN(parseFloat(e))}class mX{constructor(t){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new fX,this.canTrackVelocity=!1,this.updateAndNotify=n=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:r}=Qb();this.lastUpdated!==r&&(this.timeDelta=s,this.lastUpdated=r),xd.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>xd.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=B_(this.current)),n!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=t,this.canTrackVelocity=B_(this.current)}onChange(t){return this.updateSubscribers.add(t)}clearListeners(){this.updateSubscribers.clear()}set(t){this.updateAndNotify(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?x5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{const{stop:s}=t(n);this.stopAnimation=s}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function yX(e){return new mX(e)}const{isArray:gX}=Array;function _X(){const e=ne({}),t=s=>{const r=i=>{e.value[i]&&(e.value[i].stop(),e.value[i].destroy(),delete e.value[i])};s?gX(s)?s.forEach(r):r(s):Object.keys(e.value).forEach(r)},n=(s,r,i)=>{if(e.value[s])return e.value[s];const a=yX(r);return a.onChange(l=>i[s]=l),e.value[s]=a,a};return SB(t),{motionValues:e,get:n,stop:t}}function vX(e){return Array.isArray(e)}function Ar(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}}function rp(e){return{type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}}function bX(e){return{type:"spring",stiffness:550,damping:e===0?100:30,restDelta:.01,restSpeed:10}}function ip(){return{type:"keyframes",ease:"linear",duration:300}}function CX(e){return{type:"keyframes",duration:800,values:e}}const E_={default:bX,x:Ar,y:Ar,z:Ar,rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scaleX:rp,scaleY:rp,scale:rp,backgroundColor:ip,color:ip,opacity:ip};function A5(e,t){let n;return vX(t)?n=CX:n=E_[e]||E_.default,{to:t,...n(t)}}const T_={...Tl,transform:Math.round},S5={color:nn,backgroundColor:nn,outlineColor:nn,fill:nn,stroke:nn,borderColor:nn,borderTopColor:nn,borderRightColor:nn,borderBottomColor:nn,borderLeftColor:nn,borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,size:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:sc,scaleX:sc,scaleY:sc,scaleZ:sc,skew:Tr,skewX:Tr,skewY:Tr,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Oa,originX:v_,originY:v_,originZ:Ve,zIndex:T_,filter:Ad,WebkitFilter:Ad,fillOpacity:Oa,strokeOpacity:Oa,numOctaves:T_},sm=e=>S5[e];function $5(e,t){return t&&typeof e=="number"&&t.transform?t.transform(e):e}function wX(e,t){let n=sm(e);return n!==Ad&&(n=Al),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xX={linear:g5,easeIn:tm,easeInOut:_5,easeOut:zK,circIn:v5,circInOut:HK,circOut:b5,backIn:nm,backInOut:qK,backOut:VK,anticipate:UK,bounceIn:KK,bounceInOut:XK,bounceOut:bu};function A_(e){if(Array.isArray(e)){const[t,n,s,r]=e;return dX(t,n,s,r)}else if(typeof e=="string")return xX[e];return e}function kX(e){return Array.isArray(e)&&typeof e[0]!="number"}function S_(e,t){return e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Al.test(t)&&!t.startsWith("url("))}function BX(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function EX({ease:e,times:t,delay:n,...s}){const r={...s};return t&&(r.offset=t),e&&(r.ease=kX(e)?e.map(A_):A_(e)),n&&(r.elapsed=-n),r}function TX(e,t,n){return Array.isArray(t.to)&&(e.duration||(e.duration=800)),BX(t),AX(e)||(e={...e,...A5(n,t.to)}),{...t,...EX(e)}}function AX({delay:e,repeat:t,repeatType:n,repeatDelay:s,from:r,...i}){return!!Object.keys(i).length}function SX(e,t){return e[t]||e.default||e}function $X(e,t,n,s,r){const i=SX(s,e);let a=i.from===null||i.from===void 0?t.get():i.from;const l=S_(e,n);a==="none"&&l&&typeof n=="string"&&(a=wX(e,n));const c=S_(e,a);function u(p){const d={from:a,to:n,velocity:s.velocity?s.velocity:t.getVelocity(),onUpdate:f=>t.set(f)};return i.type==="inertia"||i.type==="decay"?iX({...d,...i}):w5({...TX(i,d,e),onUpdate:f=>{d.onUpdate(f),i.onUpdate&&i.onUpdate(f)},onComplete:()=>{s.onComplete&&s.onComplete(),r&&r(),p&&p()}})}function h(p){return t.set(n),s.onComplete&&s.onComplete(),r&&r(),p&&p(),{stop:()=>{}}}return!c||!l||i.type===!1?h:u}function FX(){const{motionValues:e,stop:t,get:n}=_X();return{motionValues:e,stop:t,push:(r,i,a,l={},c)=>{const u=a[r],h=n(r,u,a);if(l&&l.immediate){h.set(i);return}const p=$X(r,h,i,l,c);h.start(p)}}}function OX(e,t={},{motionValues:n,push:s,stop:r}=FX()){const i=A(t),a=ne(!1);ze(n,p=>{a.value=Object.values(p).filter(d=>d.isAnimating()).length>0},{immediate:!0,deep:!0});const l=p=>{if(!i||!i[p])throw new Error(`The variant ${p} does not exist.`);return i[p]},c=p=>(typeof p=="string"&&(p=l(p)),Promise.all(Object.entries(p).map(([d,f])=>{if(d!=="transition")return new Promise(g=>s(d,f,e,p.transition||A5(d,p[d]),g))}).filter(Boolean)));return{isAnimating:a,apply:c,set:p=>{const d=za(p)?p:l(p);Object.entries(d).forEach(([f,g])=>{f!=="transition"&&s(f,g,e,{immediate:!0})})},leave:async p=>{let d;if(i&&(i.leave&&(d=i.leave),!i.leave&&i.initial&&(d=i.initial)),!d){p();return}await c(d),p()},stop:r}}const om=typeof window<"u",LX=()=>om&&window.onpointerdown===null,IX=()=>om&&window.ontouchstart===null,MX=()=>om&&window.onmousedown===null;function PX({target:e,state:t,variants:n,apply:s}){const r=A(n),i=ne(!1),a=ne(!1),l=ne(!1),c=m(()=>{let h=[];return r&&(r.hovered&&(h=[...h,...Object.keys(r.hovered)]),r.tapped&&(h=[...h,...Object.keys(r.tapped)]),r.focused&&(h=[...h,...Object.keys(r.focused)])),h}),u=m(()=>{const h={};Object.assign(h,t.value),i.value&&r.hovered&&Object.assign(h,r.hovered),a.value&&r.tapped&&Object.assign(h,r.tapped),l.value&&r.focused&&Object.assign(h,r.focused);for(const p in h)c.value.includes(p)||delete h[p];return h});r.hovered&&(Ge(e,"mouseenter",()=>i.value=!0),Ge(e,"mouseleave",()=>{i.value=!1,a.value=!1}),Ge(e,"mouseout",()=>{i.value=!1,a.value=!1})),r.tapped&&(MX()&&(Ge(e,"mousedown",()=>a.value=!0),Ge(e,"mouseup",()=>a.value=!1)),LX()&&(Ge(e,"pointerdown",()=>a.value=!0),Ge(e,"pointerup",()=>a.value=!1)),IX()&&(Ge(e,"touchstart",()=>a.value=!0),Ge(e,"touchend",()=>a.value=!1))),r.focused&&(Ge(e,"focus",()=>l.value=!0),Ge(e,"blur",()=>l.value=!1)),ze(u,s)}function DX({set:e,target:t,variants:n,variant:s}){const r=A(n);ze(()=>t,()=>{r&&(r.initial&&e("initial"),r.enter&&(s.value="enter"))},{immediate:!0,flush:"pre"})}function RX({state:e,apply:t}){ze(e,n=>{n&&t(n)},{immediate:!0})}function NX({target:e,variants:t,variant:n}){const s=A(t);s&&(s.visible||s.visibleOnce)&&XB(e,([{isIntersecting:r}])=>{s.visible?r?n.value="visible":n.value="initial":s.visibleOnce&&(r&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function jX(e,t={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){t.lifeCycleHooks&&DX(e),t.syncVariants&&RX(e),t.visibilityHooks&&NX(e),t.eventListeners&&PX(e)}function F5(e={}){const t=M({...e}),n=ne({});return ze(t,()=>{const s={};for(const[r,i]of Object.entries(t)){const a=sm(r),l=$5(i,a);s[r]=l}n.value=s},{immediate:!0,deep:!0}),{state:t,style:n}}function rm(e,t){ze(()=>Rt(e),n=>{n&&t(n)},{immediate:!0})}const WX={x:"translateX",y:"translateY",z:"translateZ"};function O5(e={},t=!0){const n=M({...e}),s=ne("");return ze(n,r=>{let i="",a=!1;if(t&&(r.x||r.y||r.z)){const l=[r.x||0,r.y||0,r.z||0].map(Ve.transform).join(",");i+=`translate3d(${l}) `,a=!0}for(const[l,c]of Object.entries(r)){if(t&&(l==="x"||l==="y"||l==="z"))continue;const u=sm(l),h=$5(c,u);i+=`${WX[l]||l}(${h}) `}t&&!a&&(i+="translateZ(0px) "),s.value=i.trim()},{immediate:!0,deep:!0}),{state:n,transform:s}}const zX=["","X","Y","Z"],HX=["perspective","translate","scale","rotate","skew"],L5=["transformPerspective","x","y","z"];HX.forEach(e=>{zX.forEach(t=>{const n=e+t;L5.push(n)})});const VX=new Set(L5);function im(e){return VX.has(e)}const qX=new Set(["originX","originY","originZ"]);function I5(e){return qX.has(e)}function UX(e){const t={},n={};return Object.entries(e).forEach(([s,r])=>{im(s)||I5(s)?t[s]=r:n[s]=r}),{transform:t,style:n}}function M5(e){const{transform:t,style:n}=UX(e),{transform:s}=O5(t),{style:r}=F5(n);return s.value&&(r.value.transform=s.value),r.value}function YX(e,t){let n,s;const{state:r,style:i}=F5();return rm(e,a=>{s=a;for(const l of Object.keys(S5))a.style[l]===null||a.style[l]===""||im(l)||I5(l)||(r[l]=a.style[l]);n&&Object.entries(n).forEach(([l,c])=>a.style[l]=c),t&&t(r)}),ze(i,a=>{if(!s){n=a;return}for(const l in a)s.style[l]=a[l]},{immediate:!0}),{style:r}}function GX(e){const t=e.trim().split(/\) |\)/);if(t.length===1)return{};const n=s=>s.endsWith("px")||s.endsWith("deg")?parseFloat(s):isNaN(Number(s))?Number(s):s;return t.reduce((s,r)=>{if(!r)return s;const[i,a]=r.split("("),c=a.split(",").map(h=>n(h.endsWith(")")?h.replace(")",""):h.trim())),u=c.length===1?c[0]:c;return{...s,[i]:u}},{})}function ZX(e,t){Object.entries(GX(t)).forEach(([n,s])=>{const r=["x","y","z"];if(n==="translate3d"){if(s===0){r.forEach(i=>e[i]=0);return}s.forEach((i,a)=>e[r[a]]=i);return}if(s=parseFloat(s),n==="translateX"){e.x=s;return}if(n==="translateY"){e.y=s;return}if(n==="translateZ"){e.z=s;return}e[n]=s})}function KX(e,t){let n,s;const{state:r,transform:i}=O5();return rm(e,a=>{s=a,a.style.transform&&ZX(r,a.style.transform),n&&(a.style.transform=n),t&&t(r)}),ze(i,a=>{if(!s){n=a;return}s.style.transform=a},{immediate:!0}),{transform:r}}function XX(e,t){const n=M({}),s=a=>Object.entries(a).forEach(([l,c])=>n[l]=c),{style:r}=YX(e,s),{transform:i}=KX(e,s);return ze(n,a=>{Object.entries(a).forEach(([l,c])=>{const u=im(l)?i:r;u[l]&&u[l]===c||(u[l]=c)})},{immediate:!0,deep:!0}),rm(e,()=>t&&s(t)),{motionProperties:n,style:r,transform:i}}function JX(e={}){const t=A(e),n=ne();return{state:m(()=>{if(n.value)return t[n.value]}),variant:n}}function P5(e,t={},n){const{motionProperties:s}=XX(e),{variant:r,state:i}=JX(t),a=OX(s,t),l={target:e,variant:r,variants:t,state:i,motionProperties:s,...a};return jX(l,n),l}const QX=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"];function eJ(e,t){const n=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};n&&(n.variants&&za(n.variants)&&(t.value={...t.value,...n.variants}),QX.forEach(s=>{if(s==="delay"){if(n&&n[s]&&typeof n[s]=="number"){const r=n[s];t&&t.value&&(t.value.enter&&(t.value.enter.transition||(t.value.enter.transition={}),t.value.enter.transition={delay:r,...t.value.enter.transition}),t.value.visible&&(t.value.visible.transition||(t.value.visible.transition={}),t.value.visible.transition={delay:r,...t.value.visible.transition}),t.value.visibleOnce&&(t.value.visibleOnce.transition||(t.value.visibleOnce.transition={}),t.value.visibleOnce.transition={delay:r,...t.value.visibleOnce.transition}))}return}s==="visible-once"&&(s="visibleOnce"),n&&n[s]&&za(n[s])&&(t.value[s]=n[s])}))}function ap(e){return{created:(n,s,r)=>{const i=s.value&&typeof s.value=="string"?s.value:r.key;i&&op[i]&&op[i].stop();const a=ne(e||{});typeof s.value=="object"&&(a.value=s.value),eJ(r,a);const l=P5(n,a);n.motionInstance=l,i&&(op[i]=l)},getSSRProps(n,s){let{initial:r}=n.value||s&&(s==null?void 0:s.props)||{};r=A(r);const i=nK((e==null?void 0:e.initial)||{},r||{});return!i||Object.keys(i).length===0?void 0:{style:M5(i)}}}}const tJ={initial:{opacity:0},enter:{opacity:1}},nJ={initial:{opacity:0},visible:{opacity:1}},sJ={initial:{opacity:0},visibleOnce:{opacity:1}},oJ={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},rJ={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},iJ={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},aJ={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},lJ={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},cJ={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},uJ={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},hJ={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},pJ={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},dJ={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},fJ={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},mJ={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},yJ={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},gJ={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},_J={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},vJ={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},bJ={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},CJ={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},wJ={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},xJ={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},kJ={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},BJ={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},EJ={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},TJ={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},AJ={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},SJ={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},$J={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},Sd={__proto__:null,fade:tJ,fadeVisible:nJ,fadeVisibleOnce:sJ,pop:oJ,popVisible:rJ,popVisibleOnce:iJ,rollBottom:yJ,rollLeft:aJ,rollRight:uJ,rollTop:dJ,rollVisibleBottom:gJ,rollVisibleLeft:lJ,rollVisibleOnceBottom:_J,rollVisibleOnceLeft:cJ,rollVisibleOnceRight:pJ,rollVisibleOnceTop:mJ,rollVisibleRight:hJ,rollVisibleTop:fJ,slideBottom:AJ,slideLeft:vJ,slideRight:wJ,slideTop:BJ,slideVisibleBottom:SJ,slideVisibleLeft:bJ,slideVisibleOnceBottom:$J,slideVisibleOnceLeft:CJ,slideVisibleOnceRight:kJ,slideVisibleOnceTop:TJ,slideVisibleRight:xJ,slideVisibleTop:EJ},FJ=Xe({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(e){var l;const t=Mw(),n=M({});if(!e.is&&!t.default)return()=>cn("div",{});const s=m(()=>{let c;return e.preset&&(c=Sd[e.preset]),c}),r=m(()=>({initial:e.initial,enter:e.enter,leave:e.leave,visible:e.visible,visibleOnce:e.visibleOnce,hovered:e.hovered,tapped:e.tapped,focused:e.focused})),i=m(()=>{const c={...r.value,...s.value||{},...e.variants||{}};return e.delay&&(c.enter.transition={...c.enter.transition},c.enter.transition.delay=parseInt(e.delay)),c}),a=m(()=>{if(!e.is)return;let c=e.is;return typeof a.value=="string"&&!D_(c)&&(c=Rc(c)),c});if(((l=process==null?void 0:process.env)==null?void 0:l.NODE_ENV)==="development"||process!=null&&process.dev){const c=u=>{var h;(h=u.variants)!=null&&h.initial&&u.set("initial"),setTimeout(()=>{var p,d,f;(p=u.variants)!=null&&p.enter&&u.apply("enter"),(d=u.variants)!=null&&d.visible&&u.apply("visible"),(f=u.variants)!=null&&f.visibleOnce&&u.apply("visibleOnce")},10)};Lu(()=>Object.entries(n).forEach(([u,h])=>c(h)))}return{slots:t,component:a,motionConfig:i,instances:n}},render({slots:e,motionConfig:t,instances:n,component:s}){var l;const r=M5(t.initial||{}),i=(c,u)=>(c.props||(c.props={}),c.props.style=r,c.props.onVnodeMounted=({el:h})=>{const p=P5(h,t);n[u]=p},c);if(s){const c=cn(s,void 0,e);return i(c,0),c}return(((l=e.default)==null?void 0:l.call(e))||[]).map((c,u)=>i(c,u))}});function OJ(e){const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",s=new RegExp(t.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,r=>`-${r}`).toLowerCase().replace(/\s+/g,"-").replace(s,r=>n.charAt(t.indexOf(r))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const LJ={install(e,t){if(e.directive("motion",ap()),e.component("Motion",FJ),!t||t&&!t.excludePresets)for(const n in Sd){const s=Sd[n];e.directive(`motion-${OJ(n)}`,ap(s))}if(t&&t.directives)for(const n in t.directives){const s=t.directives[n];s.initial,e.directive(`motion-${n}`,ap(s))}}},uh="vue-starport-injection",D5="vue-starport-options",IJ={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},R5={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}},MJ=Xe({name:"StarportProxy",props:{props:{type:Object,default:()=>({})},component:{type:Object,required:!0},...R5},setup(e,t){const n=b(uh),s=m(()=>n.getInstance(e.port,e.component)),r=ne(),i=s.value.generateId(),a=ne(!1);return s.value.isVisible||(s.value.land(),a.value=!0),_r(async()=>{if(s.value.el){console.error(`[Vue Starport] Multiple proxies of "${s.value.componentName}" with port "${e.port}" detected. The later one will be ignored.`);return}if(s.value.el=r.value,await Dt(),a.value=!0,s.value.rect.update(),s.value.rect.width===0||s.value.rect.height===0){const l=s.value.rect.width===0?"width":"height";console.warn(`[Vue Starport] The proxy of component "${s.value.componentName}" (port "${e.port}") has no ${l} on initial render, have you set the size for it?`),console.warn("element:",s.value.el),console.warn("rect:",s.value.rect)}}),ml(async()=>{s.value.rect.update(),s.value.liftOff(),s.value.el=void 0,a.value=!1,!s.value.options.keepAlive&&(await Dt(),await Dt(),!s.value.el&&n.dispose(s.value.port))}),ze(()=>e,async()=>{s.value.props&&await Dt();const{props:l,...c}=e;s.value.props=l||{},s.value.setLocalOptions(c)},{deep:!0,immediate:!0}),()=>{const{initialProps:l,mountedProps:c,...u}=e,h=Qe(u,(a.value?c:l)||{});return cn("div",Qe(h,{id:i,ref:r,"data-starport-proxy":s.value.componentId,"data-starport-landed":s.value.isLanded?"true":void 0,"data-starport-floating":s.value.isLanded?void 0:"true"}),t.slots.default?cn(t.slots.default):void 0)}}}),PJ=Xe({name:"Starport",inheritAttrs:!0,props:R5,setup(e,t){const n=ne(!1);return _r(()=>{if(n.value=!0,!b(uh))throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.")}),()=>{var a,l;const s=(l=(a=t.slots).default)==null?void 0:l.call(a);if(!s)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(s.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${s.length}`);const r=s[0];let i=r.type;return(!za(i)||dr(i))&&(i={render(){return s}}),cn(MJ,{...e,key:e.port,component:Tu(i),props:r.props})}}});function DJ(e){const t=M({height:0,width:0,left:0,top:0,update:s,listen:i,pause:a,marginTop:"0px",marginLeft:"0px",margin:"0px",padding:"0px"}),n=un?document.documentElement||document.body:void 0;function s(){if(!un)return;const l=Rt(e);if(!l)return;const{height:c,width:u,left:h,top:p}=l.getBoundingClientRect(),d=window.getComputedStyle(l),f=d.marginTop,g=d.marginLeft,_=d.margin,w=d.padding;Object.assign(t,{height:c,width:u,left:h,top:n.scrollTop+p,marginTop:f,marginLeft:g,margin:_,padding:w})}const r=g1(s,{immediate:!1});function i(){un&&(s(),r.resume())}function a(){r.pause()}return t}let RJ=(e,t=21)=>(n=t)=>{let s="",r=n;for(;r--;)s+=e[Math.random()*e.length|0];return s};const $_=RJ("abcdefghijklmnopqrstuvwxyz",5);function F_(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function NJ(e){var t;return e.name||((t=e.__file)==null?void 0:t.split(/[\/\\.]/).slice(-2)[0])||""}function jJ(e,t,n={}){const s=NJ(t),r=F_(s)||$_(),i=ne(),a=ne(null),l=ne(!1),c=ne(!1),u=aC(!0),h=ne({}),p=m(()=>({...IJ,...n,...h.value})),d=ne(0);let f;u.run(()=>{f=DJ(i),ze(i,async E=>{E&&(c.value=!0),await Dt(),i.value||(c.value=!1)})});const g=F_(e);function _(){return`starport-${r}-${g}-${$_()}`}const w=_();return M({el:i,id:w,port:e,props:a,rect:f,scope:u,isLanded:l,isVisible:c,options:p,liftOffTime:d,component:t,componentName:s,componentId:r,generateId:_,setLocalOptions(E={}){h.value=JSON.parse(JSON.stringify(E))},elRef(){return i},liftOff(){l.value&&(l.value=!1,d.value=Date.now(),f.listen())},land(){l.value||(l.value=!0,f.pause())}})}function WJ(e){const t=M(new Map);function n(r,i){let a=t.get(r);return a||(a=jJ(r,i,e),t.set(r,a)),a.component=i,a}function s(r){var i;(i=t.get(r))==null||i.scope.stop(),t.delete(r)}return{portMap:t,dispose:s,getInstance:n}}const zJ=Xe({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(e){const t=b(uh);if(!t)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const n=m(()=>t.getInstance(e.port,e.component)),s=m(()=>{var a;return((a=n.value.el)==null?void 0:a.id)||n.value.id}),r=m(()=>{const a=Date.now()-n.value.liftOffTime,l=Math.max(0,n.value.options.duration-a),c=n.value.rect,u={position:"absolute",left:0,top:0,width:`${c.width}px`,height:`${c.height}px`,margin:c.margin,padding:c.padding,transform:`translate3d(calc(${c.left}px - ${c.marginLeft}),calc(${c.top}px - ${c.marginTop}),0px)`};return!n.value.isVisible||!n.value.el?{...u,zIndex:-1,display:"none"}:(n.value.isLanded?u.display="none":Object.assign(u,{transitionProperty:"all",transitionDuration:`${l}ms`,transitionTimingFunction:n.value.options.easing}),u)}),i={onTransitionend(a){n.value.isLanded||console.warn(`[Vue Starport] Transition duration of component "${n.value.componentName}" is too short (${a.elapsedTime}s) that may cause animation glitches. Try to increase the duration of that component, or decrease the duration the Starport (current: ${n.value.options.duration/1e3}s).`)}};return()=>{const a=!!(n.value.isLanded&&n.value.el);return cn("div",{style:r.value,"data-starport-craft":n.value.componentId,"data-starport-landed":n.value.isLanded?"true":void 0,"data-starport-floating":n.value.isLanded?void 0:"true",onTransitionend:n.value.land},cn(cx,{to:a?`#${s.value}`:"body",disabled:!a},cn(n.value.component,Qe(i,n.value.props))))}}}),HJ=Xe({name:"StarportCarrier",setup(e,{slots:t}){const n=WJ(b(D5,{}));return pn().appContext.app.provide(uh,n),()=>{var r;return[(r=t.default)==null?void 0:r.call(t),Array.from(n.portMap.entries()).map(([i,{component:a}])=>cn(zJ,{key:i,port:i,component:a}))]}}});function VJ(e={}){return{install(t){t.provide(D5,e),t.component("Starport",PJ),t.component("StarportCarrier",HJ)}}}function qJ(e){function t(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}t(),window.addEventListener("resize",t),e.app.use(LJ),e.app.use(VJ({keepAlive:!0}))}function mn(e,t,n){var s;return((s=e.instance)==null?void 0:s.$).provides[t]??n}function UJ(){return{install(e){e.directive("click",{name:"v-click",mounted(t,n){var h,p,d,f;if($a.value||(h=mn(n,Ba))!=null&&h.value||n.value===!1||n.value==="false")return;const s=mn(n,Dr),r=mn(n,me),i=mn(n,Wp),a=n.modifiers.hide!==!1&&n.modifiers.hide!=null,c=n.modifiers.fade!==!1&&n.modifiers.fade!=null?MT:Lh;s&&!((p=s==null?void 0:s.value)!=null&&p.includes(t))&&s.value.push(t);const u=((d=s==null?void 0:s.value)==null?void 0:d.length)||0;if(O_(n,u),!(i!=null&&i.value.has(n.value)))i==null||i.value.set(n.value,[t]);else if(!((f=i==null?void 0:i.value.get(n.value))!=null&&f.includes(t))){const g=(i==null?void 0:i.value.get(n.value))||[];i==null||i.value.set(n.value,[t].concat(g))}t==null||t.classList.toggle(Or,!0),r&&ze(r,()=>{const g=(r==null?void 0:r.value)??0,_=n.value!=null?Array.isArray(n.value)?g>=n.value[0]&&g<n.value[1]:g>=n.value:g>u;t.classList.contains(Ih)||t.classList.toggle(c,!_),a!==!1&&a!==void 0&&t.classList.toggle(c,_),t.classList.toggle(ra,!1);const w=i==null?void 0:i.value.get(g);w==null||w.forEach((E,x)=>{E.classList.toggle(Vl,!1),x===w.length-1?E.classList.toggle(ra,!0):E.classList.toggle(Vl,!0)}),t.classList.contains(ra)||t.classList.toggle(Vl,_)},{immediate:!0})},unmounted(t,n){t==null||t.classList.toggle(Or,!1);const s=mn(n,Dr);s!=null&&s.value&&Tp(s.value,t)}}),e.directive("after",{name:"v-after",mounted(t,n){var l,c;if($a.value||(l=mn(n,Ba))!=null&&l.value||n.value===!1||n.value==="false")return;const s=mn(n,Dr),r=mn(n,me),i=mn(n,Wp),a=(s==null?void 0:s.value.length)||0;O_(n,a),i!=null&&i.value.has(n.value)?(c=i==null?void 0:i.value.get(n.value))==null||c.push(t):i==null||i.value.set(n.value,[t]),t==null||t.classList.toggle(Or,!0),r&&ze(r,()=>{const u=r.value??0,h=n.value!=null?Array.isArray(n.value)?u>=n.value[0]&&u<n.value[1]:u>=n.value:u>=a;t.classList.contains(Ih)||t.classList.toggle(Lh,!h),t.classList.toggle(ra,!1),t.classList.contains(ra)||t.classList.toggle(Vl,h)},{immediate:!0})},unmounted(t){t==null||t.classList.toggle(Or,!0)}}),e.directive("click-hide",{name:"v-click-hide",mounted(t,n){var a,l,c;if($a.value||(a=mn(n,Ba))!=null&&a.value)return;const s=mn(n,Dr),r=mn(n,me),i=((l=s==null?void 0:s.value)==null?void 0:l.length)||0;s&&!((c=s==null?void 0:s.value)!=null&&c.includes(t))&&s.value.push(t),t==null||t.classList.toggle(Or,!0),r&&ze(r,()=>{const u=(r==null?void 0:r.value)??0,h=n.value!=null?u>=n.value:u>i;t.classList.toggle(Lh,h),t.classList.toggle(Ih,h)},{immediate:!0})},unmounted(t,n){t==null||t.classList.toggle(Or,!1);const s=mn(n,Dr);s!=null&&s.value&&Tp(s.value,t)}})}}}function O_(e,t){(e.value==null||e.value===!0||e.value==="true")&&(e.value=t),typeof e.value=="string"&&(e.value.startsWith("+")||e.value.startsWith("-"))&&(e.value=t+Number(e.value))}function YJ(e,t){const n=f0(e),s=m0(t,n.currentRoute,n.currentPage);return{nav:{...n,...s},configs:st,themeConfigs:m(()=>st.themeConfig)}}function GJ(){return{install(e){const t=M(YJ(On,vn));e.provide(_e,t),e.provide(ge,m(()=>t.nav.currentPage)),e.provide(me,m(()=>t.nav.clicks))}}}const Gi=ik(eK);Gi.use(Jt);Gi.use(Xk());Gi.use(UJ());Gi.use(GJ());qJ({app:Gi,router:Jt});Gi.mount("#app");export{n4 as $,ne as A,TT as B,YZ as C,sQ as D,vn as E,nt as F,vu as G,zZ as H,Qh as I,go as J,_r as K,M as L,QJ as M,tQ as N,ze as O,qa as P,Fh as Q,X as R,G1 as S,Ct as T,jt as U,ot as V,UT as W,l4 as X,rf as Y,af as Z,J as _,c1 as a,L0 as a$,o3 as a0,KJ as a1,XJ as a2,JJ as a3,en as a4,co as a5,nQ as a6,oa as a7,Ul as a8,Wr as a9,Ef as aA,mj as aB,v0 as aC,aj as aD,u8 as aE,ej as aF,CM as aG,JW as aH,Rj as aI,wc as aJ,Cn as aK,O0 as aL,fL as aM,Ta as aN,WR as aO,Tf as aP,Re as aQ,vo as aR,Cb as aS,wb as aT,yb as aU,kM as aV,mP as aW,kb as aX,Az as aY,uj as aZ,yf as a_,Np as aa,dT as ab,fT as ac,mT as ad,gT as ae,bv as af,t1 as ag,Qt as ah,N3 as ai,b as aj,Y1 as ak,_T as al,ml as am,gb as an,_b as ao,bb as ap,vb as aq,Un as ar,Ja as as,ri as at,Ht as au,uu as av,An as aw,Te as ax,ub as ay,dj as az,m as b,$f as b$,an as b0,Cl as b1,G9 as b2,X9 as b3,Z9 as b4,XI as b5,P0 as b6,oQ as b7,ZW as b8,QP as b9,IN as bA,I8 as bB,FR as bC,GN as bD,br as bE,T8 as bF,F8 as bG,lu as bH,au as bI,dN as bJ,Xh as bK,hi as bL,vR as bM,RV as bN,Sf as bO,mR as bP,kR as bQ,Ui as bR,vN as bS,dR as bT,Co as bU,Af as bV,kl as bW,qi as bX,bN as bY,_R as bZ,gR as b_,xb as ba,vj as bb,Of as bc,pQ as bd,YP as be,Xo as bf,gf as bg,Ka as bh,hg as bi,o7 as bj,bQ as bk,ZN as bl,lj as bm,ru as bn,zg as bo,VN as bp,qN as bq,O8 as br,Xu as bs,yd as bt,MN as bu,th as bv,EN as bw,TV as bx,xl as by,HN as bz,st as c,B8 as c0,Dg as c1,Uu as c2,ol as c3,cq as c4,xz as c5,wl as c6,$e as c7,Me as c8,Cf as c9,aQ as ca,uQ as cb,_g as cc,gg as cd,hQ as ce,cQ as cf,rQ as cg,iQ as ch,fQ as ci,dQ as cj,lQ as ck,Y9 as cl,Xe as d,R as e,o as f,A as g,zi as h,tf as i,RZ as j,y as k,ce as l,Ye as m,Tt as n,k as o,Yn as p,K as q,_t as r,Eh as s,ho as t,eQ as u,R1 as v,S$ as w,k$ as x,Wt as y,lt as z};
